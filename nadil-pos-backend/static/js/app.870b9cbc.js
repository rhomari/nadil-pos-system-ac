(()=>{"use strict";var e={72881:(e,t,n)=>{n(23792),n(3362),n(69085),n(9391);var r=n(45130),o=n(23772),a=n(78676),u=n(41034),i=n(14048),l=n(30388),c=(n(16280),n(76918),n(28706),n(88431),n(2008),n(50113),n(51629),n(74423),n(62062),n(44114),n(34782),n(26910),n(54554),n(1688),n(60739),n(23288),n(62010),n(33110),n(36033),n(9868),n(79432),n(26099),n(16034),n(78459),n(58940),n(27495),n(38781),n(21699),n(47764),n(68156),n(25440),n(98992),n(23215),n(54520),n(72577),n(3949),n(81454),n(23500),n(62953),n(76031),n(56768)),s=n(24232),d=n(90144),p=n(11749),f=(n(75839),n(59258)),m=(n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(82643));function v(){return window.location.hostname+":"+window.location.port}var k=[],h=(0,d.Kh)({Member:null}),b=(0,d.KR)([]),g=function(e){(0,c.dY)((function(){k.forEach((function(e){return e.destroy()})),k=[],document.querySelectorAll(".sortable-grid").forEach((function(t,n){var r=m.Ay.create(t,{animation:150,ghostClass:"sortable-ghost",filter:".card-element-no-drag",preventOnFilter:!1,supportPointer:!1,onEnd:function(t){var n=b.value.splice(t.oldIndex,1)[0];b.value.splice(t.newIndex,0,n),localStorage.setItem("filtredMenu"+e,JSON.stringify(b.value))}});k.push(r)}))}))},y=function(e){var t=localStorage.getItem("filtredMenu"+e),n=JSON.parse(t),r=new Set(b.value.map((function(e){return e.productid}))),o=n.filter((function(e){return r.has(e.productid)})),a=new Set(o.map((function(e){return e.productid}))),u=b.value.filter((function(e){return!a.has(e.productid)}));return o=[].concat((0,f.A)(o),(0,f.A)(u)),o};function w(){null!=window.chrome.webview&&window.chrome.webview.postMessage("vkeyboard")}var x=n(13892),F=n(91772),C={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},_={class:"receipt"},A={class:"receipt-header"},V={style:{"font-size":"12px","font-weight":"bold"}},L={class:"receipt-items"},R=(0,c.Lk)("thead",null,[(0,c.Lk)("tr",null,[(0,c.Lk)("th",null,"Produit"),(0,c.Lk)("th",null,"Qté"),(0,c.Lk)("th",{style:{"text-align":"right"}},"Prix"),(0,c.Lk)("th",{style:{"text-align":"right"}},"Total")])],-1),E={style:{"text-align":"right"}},D={style:{"text-align":"right"}},U={class:"receipt-summary"},S=(0,c.Lk)("span",{style:{float:"left","margin-left":"50%"}},[(0,c.Lk)("strong",null,"Total:")],-1),T={style:{float:"right","margin-right":"10px"}},O=(0,c.Lk)("div",{class:"thank-you",style:{"margin-top":"50px"}},[(0,c.Lk)("p",{style:{"text-align":"left"}},"Merci de votre visite."),(0,c.Lk)("p",{style:{"text-align":"left"}},"A bientôt!")],-1),W={style:{color:"white","margin-top":"10px","text-align":"center"}};const P={__name:"OrderContentComponent",props:{modelValue:Boolean,order:Object,settings:Object},emits:["close"],setup:function(e,t){var n=t.emit,r=e,o=n;function a(){o("close")}function u(){return d.apply(this,arguments)}function d(){return d=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(r.settings),t=new FormData,t.append("number",r.order.number),e.next=5,fetch("https://"+v()+"/printreceipt",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return function(t,n){return(0,c.uX)(),(0,c.CE)("div",C,[(0,c.bF)(F.p,{"model-value":e.modelValue,"max-width":"80mm",persistent:""},{default:(0,c.k6)((function(){return[(0,c.Lk)("div",_,[(0,c.Lk)("div",A,[(0,c.Lk)("h1",null,(0,s.v_)(e.settings.posname),1),(0,c.Lk)("p",null,(0,s.v_)(e.settings.address),1),(0,c.Lk)("p",null,(0,s.v_)(e.settings.phone),1)]),(0,c.Lk)("span",V,"Serveur : "+(0,s.v_)(e.order.waiter),1),(0,c.Lk)("table",L,[R,(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.order.content,(function(e){return(0,c.uX)(),(0,c.CE)("tr",{key:e.id},[(0,c.Lk)("td",null,(0,s.v_)(e.text),1),(0,c.Lk)("td",null,(0,s.v_)(e.count),1),(0,c.Lk)("td",E,(0,s.v_)(e.price.toFixed(2)),1),(0,c.Lk)("td",D,(0,s.v_)((e.price*e.count).toFixed(2)),1)])})),128))])]),(0,c.Lk)("div",U,[S,(0,c.Lk)("span",T,[(0,c.Lk)("strong",null,(0,s.v_)(e.order.totalticket.toFixed(2)),1)])]),O,(0,c.Lk)("div",W,[(0,c.bF)(x.D,{onClick:a,style:{float:"left","margin-right":"5px"}},{default:(0,c.k6)((function(){return[(0,c.eW)("Fermer")]})),_:1}),(0,c.bF)(x.D,{onClick:u,style:{float:"right","margin-left":"5px"}},{default:(0,c.k6)((function(){return[(0,c.eW)("Imprimer")]})),_:1})])])]})),_:1},8,["model-value"])])}}},K=P,N=K;n(2892);var I=n(18374),M=n(25249),z=n(43948),j={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},J={name:"NewCategoryDialogComponent",data:function(){},methods:{}};const B=Object.assign(J,{props:{modelValue:Boolean},emits:["update:modelValue","alert","inform"],setup:function(e,t){var n=t.emit,r=n,o=(0,d.KR)(!1),a=(0,d.KR)(""),u=(0,d.KR)(""),s=(0,d.KR)(""),p=(0,d.KR)("");function f(){r("update:modelValue",!1)}var m=[function(e){return!!e||"ce champ est obligatoire"}],k=function(e){6===u.value.length&&"Backspace"!=e.key&&"Delete"!=e.key&&e.preventDefault(),1===e.key.length&&isNaN(Number(e.key))&&e.preventDefault()};function h(){return b.apply(this,arguments)}function b(){return b=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=s.value&&""!=u.value&&""!=a.value){e.next=3;break}return alert("Tous les champs sont obligatoires"),e.abrupt("return");case 3:return t=new FormData,t.append("username",s.value),t.append("role",a.value),t.append("password",u.value),t.append("code",p.value),e.next=10,fetch("https://"+v()+"/saveuser",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){r("alert",e),r("inform"),f()}))["catch"]((function(e){console.log(e)}));case 10:s.value="",u.value="",p.value="",a.value="";case 14:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return function(t,n){return(0,c.uX)(),(0,c.CE)("div",j,[(0,c.bF)(F.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{title:"Ajouter un utilisateur"},{actions:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"Nom de l'utilisateur",required:"",modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return s.value=e}),clearable:"",rules:m,onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(M.d4,{label:"Role",required:"",items:["Gérant","Serveur"],modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return a.value=e}),rules:m},null,8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"Mot de passe",required:"",modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return u.value=e}),onKeydown:k,type:o.value?"text":"password",clearable:"","append-icon":o.value?"mdi-eye":"mdi-eye-off","onClick:append":n[3]||(n[3]=function(e){return o.value=!o.value}),rules:m,onFocus:(0,d.R1)(w)},null,8,["modelValue","type","append-icon","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"CODE",required:"",modelValue:p.value,"onUpdate:modelValue":n[4]||(n[4]=function(e){return p.value=e}),clearable:"",type:"password",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(x.D,{onClick:n[5]||(n[5]=function(e){return h()}),icon:"mdi-content-save"}),(0,c.bF)(x.D,{onClick:f,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),X=B,Q=X;var q={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},G={name:"NewCategoryDialogComponent",data:function(){},methods:{}};const H=Object.assign(G,{props:{modelValue:Boolean,usertoedit:Object},emits:["update:modelValue","alert","inform"],setup:function(e,t){var n=t.emit,r=e,o=n,a=(0,d.KR)(!1),u=(0,d.KR)(""),s=(0,d.KR)("");function p(){o("update:modelValue",!1)}var f=[function(e){return!!e||"ce champ est obligatoire"}],m=function(e){var t;6===(null===(t=u.value)||void 0===t?void 0:t.length)&&"Backspace"!=e.key&&"Delete"!=e.key&&e.preventDefault(),1===e.key.length&&isNaN(Number(e.key))&&e.preventDefault()};function k(){return h.apply(this,arguments)}function h(){return h=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=r.usertoedit.Username&&""!=u.value&&""!=s.value){e.next=3;break}return alert("Tous les champs sont obligatoires"),e.abrupt("return");case 3:return t=new FormData,t.append("username",r.usertoedit.Username),t.append("role",s.value),t.append("password",u.value),t.append("code",r.usertoedit.Code),t.append("id",r.usertoedit.ID),e.next=11,fetch("https://"+v()+"/edituser",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){o("alert",e),o("inform"),p()}))["catch"]((function(e){console.log(e)}));case 11:r.usertoedit.Username="",u.value="",a.value=!1,s.value="",console.log(r.usertoedit.Username,s.value,a.value,u.value);case 16:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return function(t,n){return(0,c.uX)(),(0,c.CE)("div",q,[(0,c.bF)(F.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{title:"Editer un utilisateur"},{actions:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"Nom de l'utilisateur",required:"",modelValue:e.usertoedit.Username,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.usertoedit.Username=t}),disabled:"",rules:f,onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(M.d4,{label:"Role",required:"",items:["Gérant","Serveur"],modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return s.value=e}),rules:f},null,8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"Mot de passe",required:"",modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return u.value=e}),onKeydown:m,type:a.value?"text":"password",clearable:"","append-icon":a.value?"mdi-eye":"mdi-eye-off","onClick:append":n[3]||(n[3]=function(e){return a.value=!a.value}),rules:f,onFocus:(0,d.R1)(w)},null,8,["modelValue","type","append-icon","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"CODE",required:"",modelValue:e.usertoedit.Code,"onUpdate:modelValue":n[4]||(n[4]=function(t){return e.usertoedit.Code=t}),clearable:"",type:"password",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(x.D,{onClick:n[5]||(n[5]=function(e){return k()}),icon:"mdi-content-save"}),(0,c.bF)(x.D,{onClick:p,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),Y=H,$=Y;var Z=n(69938),ee=n(20477),te=n(51146),ne=function(e){return(0,c.Qi)("data-v-2fb685f6"),e=e(),(0,c.jt)(),e},re=["disabled"],oe={class:"numpad-buttons"},ae=["onClick"],ue=["onClick"],ie=["onClick"],le=ne((function(){return(0,c.Lk)("p",null,null,-1)})),ce={key:0,style:{color:"darkred","font-size":"12px"}};function se(e,t,n,r,o,a){var u=(0,c.g2)("user-select-component");return(0,c.uX)(),(0,c.Wv)(I.J,{class:"py-8 px-6 text-center mx-auto ma-4 loginform",elevation:"20","max-height":"600","max-width":"350",width:"350",style:{"z-index":"9999","margin-bottom":"50px"}},{default:(0,c.k6)((function(){return[(0,c.bF)(u,{onUserSelected:a.userSelected},null,8,["onUserSelected"]),(0,c.bF)(te.i,{color:"surface"},{default:(0,c.k6)((function(){return[(0,c.bF)(ee.C,{modelValue:o.otp,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.otp=e}),type:"password",variant:"solo",length:"6"},null,8,["modelValue"])]})),_:1}),(0,c.Lk)("div",{class:"numpad mt-4",disabled:""==o.userselected?"":e.disabled},[(0,c.Lk)("div",oe,[((0,c.uX)(),(0,c.CE)(c.FK,null,(0,c.pI)([1,2,3],(function(e){return(0,c.Lk)("button",{key:"row1"+e,onClick:function(t){return a.appendNumber(e)},class:"button"},(0,s.v_)(e),9,ae)})),64)),((0,c.uX)(),(0,c.CE)(c.FK,null,(0,c.pI)([4,5,6],(function(e){return(0,c.Lk)("button",{key:"row2"+e,onClick:function(t){return a.appendNumber(e)},class:"button"},(0,s.v_)(e),9,ue)})),64)),((0,c.uX)(),(0,c.CE)(c.FK,null,(0,c.pI)([7,8,9],(function(e){return(0,c.Lk)("button",{key:"row3"+e,onClick:function(t){return a.appendNumber(e)},class:"button"},(0,s.v_)(e),9,ie)})),64)),(0,c.Lk)("button",{class:"button button-clear",onClick:t[1]||(t[1]=function(){return a.clearOtp&&a.clearOtp.apply(a,arguments)})},"Vider"),(0,c.Lk)("button",{onClick:t[2]||(t[2]=function(e){return a.appendNumber(0)}),class:"button"},"0")])],8,re),(0,c.bF)(x.D,{class:"my-4",color:"purple",height:"40",text:"Verify",variant:"flat",width:"70%",onClick:a.authenticate,disabled:o.otp.length<6||null==o.userselected?"":e.disabled},{default:(0,c.k6)((function(){return[(0,c.eW)(" S'authentifier ")]})),_:1},8,["onClick","disabled"]),le,o.autherror?((0,c.uX)(),(0,c.CE)("span",ce,"Erreur d'authenfication, merci de vérifier vos données de connexion.")):(0,c.Q3)("",!0),(0,c.bF)(Z.Q,{size:"32",color:"red",icon:"mdi-power",style:{position:"absolute",top:"96%",left:"45%",transform:"translate(-50%, -50%)"},onClick:t[3]||(t[3]=function(e){return a.quitApp()})})]})),_:1})}var de=function(e){return(0,c.Qi)("data-v-3fd63fa0"),e=e(),(0,c.jt)(),e},pe={class:"user-select"},fe={class:"dropdown"},me={key:0},ve={style:{"font-weight":"bold"}},ke={key:1},he=de((function(){return(0,c.Lk)("svg",{class:"chevron",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,c.Lk)("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1)})),be={key:0,class:"dropdown-list"},ge=["onClick"];function ye(e,t,n,o,a,u){return(0,c.uX)(),(0,c.CE)("div",pe,[(0,c.Lk)("div",fe,[(0,c.Lk)("button",{class:"dropdown-button",onClick:t[0]||(t[0]=function(){return o.toggleDropdown&&o.toggleDropdown.apply(o,arguments)})},[o.selectedUser?((0,c.uX)(),(0,c.CE)("span",me,[(0,c.Lk)("b",ve,(0,s.v_)(o.selectedUser.Username.toUpperCase()),1)])):((0,c.uX)(),(0,c.CE)("span",ke,"Sélectionnez un utilisateur")),he]),(0,c.bF)(r.eB,{name:"fade"},{default:(0,c.k6)((function(){return[o.showDropdown?((0,c.uX)(),(0,c.CE)("div",be,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(o.users,(function(e){return(0,c.uX)(),(0,c.CE)("div",{key:e.ID,class:"dropdown-item",onClick:function(t){return o.selectUser(e)}},(0,s.v_)(e.Username.toUpperCase()),9,ge)})),128))])):(0,c.Q3)("",!0)]})),_:1})])])}n(15086),n(37550);const we={name:"UserSelect",setup:function(e,t){var n=t.emit,r=(0,d.KR)(null),o=(0,d.KR)(null),a=(0,d.KR)(!1),u=function(){a.value=!a.value};(0,c.sV)((0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)}))));var s=function(e){n("user-selected",e),o.value=e,a.value=!1};function p(){return f.apply(this,arguments)}function f(){return f=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://"+v()+"/getusers").then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){r.value=JSON.parse(e),null!=r.value&&r.value.some((function(e){return"Gérant"==e.Role}))||(r.value=[{ID:"-1",Username:"SETUP",Role:"SETUP",Code:""}])}))["catch"]((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var m=function(e){};return{users:r,selectedUser:o,showDropdown:a,toggleDropdown:u,selectUser:s,getInitials:m}}};var xe=n(71241);const Fe=(0,xe.A)(we,[["render",ye],["__scopeId","data-v-3fd63fa0"]]),Ce=Fe,_e={components:{UserSelectComponent:Ce},data:function(){return{otp:"",userselected:null,autherror:!1,iswebview2:!1}},methods:{userSelected:function(e){this.userselected=e},quitApp:function(){window.nadilpos?window.nadilpos.showMessage("close"):null!=window.chrome.webview&&window.chrome.webview.postMessage("close")},appendNumber:function(e){this.otp.length<6&&(this.otp+=e.toString())},clearOtp:function(){this.otp=""},authenticate:function(){var e=this;return(0,l.A)((0,i.A)().mark((function t(){var n;return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("SETUP"!==e.userselected.Role){t.next=3;break}return e.$emit("auth-ok",e.userselected),t.abrupt("return");case 3:if(e.autherror=!1,null!=e.userselected){t.next=7;break}return alert("Veuillez selectionner  un utilisateur"),t.abrupt("return");case 7:if(!(e.otp.length<6)){t.next=10;break}return alert("Veuillez enter votre mot de passe"),t.abrupt("return");case 10:return n=new FormData,n.append("user",e.userselected.Username),n.append("password",e.otp),t.next=15,fetch("https://"+v()+"/auth",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){"OK"!=t.data?e.autherror=!0:e.$emit("auth-ok",e.userselected)}))["catch"]((function(e){console.log(e)}));case 15:case"end":return t.stop()}}),t)})))()}}},Ae=(0,xe.A)(_e,[["render",se],["__scopeId","data-v-2fb685f6"]]),Ve=Ae;var Le={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},Re={name:"NewCategoryDialogComponent",data:function(){},methods:{}};const Ee=Object.assign(Re,{props:{modelValue:Boolean,categorytoedit:{categoryname:"",categoryid:""}},emits:["update:modelValue"],setup:function(e,t){var r=t.emit,o=e,a=r;function u(){o.categorytoedit.categoryname="",o.categorytoedit.categoryid="",a("update:modelValue",!1)}function s(){return p.apply(this,arguments)}function p(){return p=(0,l.A)((0,i.A)().mark((function e(){var t,r,l,c;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=v(),r=n(86425)["default"],l="https://"+t+"/saveNewCategory",c={categoryname:o.categorytoedit.categoryname},""!=o.categorytoedit.categoryid&&(l="https://"+t+"/editCategory",c={categoryname:o.categorytoedit.categoryname,categoryid:o.categorytoedit.categoryid}),e.next=7,r.post(l,c).then((function(e){a("alert",e.data)}))["catch"]((function(e){return console.log(e)}));case 7:o.categorytoedit.categoryname="",o.categorytoedit.categoryid="",u();case 10:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return function(t,n){return(0,c.uX)(),(0,c.CE)("div",Le,[(0,c.bF)(F.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{text:"Indiquez le nom de la nouvelle catégorie",title:"Nouvelle catégorie"},{actions:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:"Intitulé",required:"",modelValue:e.categorytoedit.categoryname,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.categorytoedit.categoryname=t}),onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]),(0,c.Lk)("div",null,[(0,c.bF)(x.D,{onClick:n[1]||(n[1]=function(e){return s()}),icon:"mdi-content-save"}),(0,c.bF)(x.D,{onClick:u,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),De=Ee,Ue=De;var Se=n(78351),Te=n(67020),Oe=n(80594),We={class:"text-center pa-4"},Pe={data:function(){return{rules:[function(e){return!!e||"ce champ est obligatoire"}]}},methods:{}};const Ke=Object.assign(Pe,{__name:"NewProductDialogComponent",props:{modelValue:Boolean,parentcategory:{categoryname:String,categoryid:Number}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=e,o=n,a=(0,d.KR)(!1),u=(0,d.KR)(""),s=(0,d.KR)(0),p=(0,d.KR)(null),f=(0,d.KR)("");function m(){u.value="",s.value="",f.value=null,p.value=null,o("update:modelValue",!1)}function k(){return h.apply(this,arguments)}function h(){return h=(0,l.A)((0,i.A)().mark((function e(){var t,n;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(s.value<0)){e.next=3;break}return alert("Le prix ne peut pas prendre une valeur négative."),e.abrupt("return");case 3:if(t=v(),""!=u.value&&""!=f.value){e.next=7;break}return alert("Veuillez remplir les champs obligatoires"),e.abrupt("return");case 7:return console.log("sending..."),n=new FormData,n.append("imagefile",f.value),n.append("details",JSON.stringify({isfavorite:a.value,category:r.parentcategory.categoryid,text:u.value,price:s.value})),e.next=13,fetch("https://"+t+"/addNewProduct",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){o("alert",e),m()}))["catch"]((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e){var t=new FileReader;t.onload=function(e){p.value=e.target.result},t.readAsDataURL(e)}function g(e){e.target.files[0]&&b(e.target.files[0])}return function(t,n){return(0,c.uX)(),(0,c.CE)("div",We,[(0,c.bF)(F.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{text:"Indiquez le nom du nouveau produit",title:"Nouveau produit"},{actions:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:e.parentcategory.categoryname,"prepend-icon":"mdi-basket",disabled:"",density:"compact"},null,8,["label"]),(0,c.bF)(z.W,{label:"Intitulé",modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return u.value=e}),"prepend-icon":"mdi-food",density:"compact",rules:t.rules,onFocus:(0,d.R1)(w)},null,8,["modelValue","rules","onFocus"]),(0,c.bF)(z.W,{label:"Prix",modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return s.value=e}),"prepend-icon":"mdi-cash-multiple",type:"number",density:"compact",rules:t.rules,onFocus:(0,d.R1)(w)},null,8,["modelValue","rules","onFocus"]),(0,c.bF)(Se.f,{accept:"image/png, image/jpeg, image/bmp, image/webp",label:"image",onChange:g,density:"compact",rules:t.rules,modelValue:f.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return f.value=e}),"prepend-icon":"mdi-camera"},null,8,["rules","modelValue"]),(0,c.bF)(Te.y,{width:100,height:100,style:{float:"right","margin-bottom":"10px","border-radius":"5px"},cover:"",src:p.value},null,8,["src"]),(0,c.bF)(Oe.N,{density:"compact",color:"green",modelValue:a.value,"onUpdate:modelValue":n[3]||(n[3]=function(e){return a.value=e}),label:"Favori"},null,8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)(x.D,{onClick:n[4]||(n[4]=function(e){return k()}),icon:"mdi-content-save"}),(0,c.bF)(x.D,{onClick:m,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),Ne=Ke,Ie=Ne;var Me=n(40276),ze={class:"text-center pa-4"},je={data:function(){return{rules:[function(e){return!!e||"ce champ est obligatoire"}]}}};const Je=Object.assign(je,{__name:"EditProductDialogComponent",props:{modelValue:Boolean,editproduct:Object,categories:Object},emits:["update:modelValue"],setup:function(e,t){var n,r=t.emit,o=e,a=r,u=(0,d.KR)(""),s=(0,d.KR)("");function p(){return f.apply(this,arguments)}function f(){return f=(0,l.A)((0,i.A)().mark((function e(){var t,n;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(o.editproduct.price<0)){e.next=3;break}return alert("Le prix ne peut pas prendre une valeur négative."),e.abrupt("return");case 3:if(t=v(),""!=o.editproduct.text&&""!=o.editproduct.price){e.next=7;break}return alert("Veuillez remplir les champs obligatoires"),e.abrupt("return");case 7:return n=new FormData,n.append("imagefile",u.value),n.append("details",JSON.stringify({productid:o.editproduct.productid,isfavorite:o.editproduct.isfavorite,category:o.editproduct.category,text:o.editproduct.text,price:o.editproduct.price})),e.next=12,fetch("https://"+t+"/editProduct",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){a("alert",e),m()}))["catch"]((function(e){console.log(e)}));case 12:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(){u.value=null,s.value=null,a("update:modelValue",!1)}function k(e){return o.categories.forEach((function(t){if(t.categoryid==e)return n=t.categoryname,n})),n}function h(e){var t=new FileReader;t.onload=function(e){s.value=e.target.result},t.readAsDataURL(e)}function b(e){e.target.files[0]&&h(e.target.files[0])}return function(t,n){return(0,c.uX)(),(0,c.CE)("div",ze,[(0,c.bF)(F.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{text:"Modification du produit",title:"Modification"},{actions:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(z.W,{label:k(e.editproduct.category),"prepend-icon":"mdi-basket",disabled:"",density:"compact",onFocus:t.onUpdatefocused},null,8,["label","onFocus"]),(0,c.bF)(z.W,{label:"Intitulé",modelValue:e.editproduct.text,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.editproduct.text=t}),"prepend-icon":"mdi-food",density:"compact",rules:t.rules,onFocus:t.onUpdatefocused},null,8,["modelValue","rules","onFocus"]),(0,c.bF)(z.W,{label:"Prix",modelValue:e.editproduct.price,"onUpdate:modelValue":n[1]||(n[1]=function(t){return e.editproduct.price=t}),"prepend-icon":"mdi-cash-multiple",type:"number",density:"compact",rules:t.rules,onFocus:t.onUpdatefocused},null,8,["modelValue","rules","onFocus"]),(0,c.bF)(Se.f,{accept:"image/png, image/jpeg, image/bmp",label:"image",onChange:b,density:"compact",rules:t.rules,modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return u.value=e}),"prepend-icon":"mdi-camera"},null,8,["rules","modelValue"]),(0,c.bF)(Te.y,{width:100,height:100,style:{float:"right","margin-bottom":"10px","border-radius":"5px"},cover:"",src:(0,d.R1)(s)},null,8,["src"]),(0,c.bF)(Me.a,{modelValue:e.editproduct.isfavorite,"onUpdate:modelValue":n[3]||(n[3]=function(t){return e.editproduct.isfavorite=t}),color:"indigo",label:"Favori"},null,8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)(x.D,{onClick:p,icon:"mdi-content-save"}),(0,c.bF)(x.D,{onClick:m,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),Be=Je,Xe=Be;var Qe=n(96450),qe=n(93367),Ge=n(58332),He=n(46990),Ye=n(94903),$e=n(4946),Ze=n(30697),et=n(91606),tt=n(87524),nt=n(21078),rt=n(76329),ot=n(7511),at=n(418),ut=n(95272),it=n(22162),lt=n(32421),ct=n(43813),st=n(56756),dt=n(35526),pt=n(41720),ft=n(79669),mt=n(69556),vt=n(84117),kt=n(4913),ht=n(86449),bt=n(98477),gt=n(88249),yt=n(70373),wt=n(38856),xt=n(20552),Ft=n(49930),Ct=n(36770),_t=n(55984),At=n(10381),Vt=n(76686),Lt=n(37604),Rt=n(29880),Et=n(53740),Dt={class:"text-center"},Ut={key:0},St={class:"card-label",style:{"font-size":"11px"}},Tt={class:"d-flex flex-wrap ga-2"},Ot={style:{"margin-left":"10px"}},Wt={size:"small",style:{float:"right","margin-right":"10px","align-content":"center"},variant:"elevated",color:"primary"},Pt={style:{height:"30px","margin-top":"5px"}},Kt=(0,c.Lk)("label",{style:{float:"left","padding-left":"5px"}},"Réduction ",-1),Nt={style:{float:"right","margin-right":"10px",color:"whitesmoke !important","font-size":"16px"},variant:"elevated",color:"orange"},It={style:{height:"30px","margin-top":"5px"}},Mt=(0,c.Lk)("label",{style:{float:"left","padding-left":"5px"}},"Total ",-1),zt={style:{float:"right","margin-right":"10px",color:"whitesmoke !important","font-size":"16px"},variant:"elevated",color:"orange"},jt={style:{height:"140px","margin-top":"5px","margin-left":"10px","margin-right":"10px","margin-bottom":"5px"}},Jt=(0,c.Lk)("p",null,null,-1),Bt={style:{width:"99%","padding-left":"5px","padding-right":"5px"}},Xt=(0,c.Lk)("span",{s:""},"Admin",-1),Qt=(0,c.Lk)("span",null,"Commandes",-1),qt=(0,c.Lk)("span",null,"Situation",-1),Gt=(0,c.Lk)("span",null,"Clavier virtuel",-1),Ht=(0,c.Lk)("span",null,"Ticket",-1),Yt={class:"text-center pa-4"},$t={class:"text-center"},Zt={style:{"margin-left":"5px"}},en={size:"small",style:{float:"right","margin-right":"5px","align-content":"center"},variant:"elevated",color:"primary"},tn={style:{height:"30px","margin-top":"5px"}},nn=(0,c.Lk)("label",{style:{float:"left","padding-left":"5px"}},"Total : ",-1),rn={size:"small",style:{float:"right",width:"120px",padding:"0 25px","text-align":"right",color:"whitesmoke !important","font-size":"14px"},variant:"elevated",color:"orange"},on={style:{height:"140px","margin-top":"5px","margin-left":"10px","margin-right":"10px","margin-bottom":"5px"}},an=(0,c.Lk)("p",null,null,-1),un={style:{width:"99%","padding-left":"5px","padding-right":"5px"}},ln={class:"centerstuff"},cn={class:"centerstuff"},sn={class:"text-center pa-4"},dn={class:"text-center pa-4"},pn={class:"text-center pa-4"},fn={class:"text-center pa-4"},mn={class:"text-center pa-4"},vn={class:"text-center pa-4"},kn={class:"text-center pa-4"},hn={class:"display",id:"display"},bn={class:"keypad"},gn={style:{"border-radius":"10px",width:"150px","text-align":"center"}},yn=(0,c.Lk)("label",{style:{"font-size":"12px","padding-top":"15px","margin-right":"10px","margin-left":"10px",width:"100px","align-content":"right"}},"à partir de :",-1),wn=(0,c.Lk)("label",{for:"status",style:{"font-size":"12px","padding-top":"15px","margin-right":"10px","margin-left":"10px"}},"Etat:",-1),xn=(0,c.Lk)("option",{value:"TOUT",selected:""},"Tout",-1),Fn=(0,c.Lk)("option",{value:"IMPAYE"},"Impayé",-1),Cn=(0,c.Lk)("option",{value:"PAYE"},"Payé",-1),_n=(0,c.Lk)("option",{value:"ANNULE"},"Annulé",-1),An=[xn,Fn,Cn,_n],Vn=(0,c.Lk)("label",{style:{"font-size":"12px","padding-top":"15px","margin-right":"10px","margin-left":"10px",width:"100px","align-content":"right"}},"jusqu'à :",-1),Ln={style:{"font-size":"12px","text-align":"left"}},Rn={style:{width:"100%","border-collapse":"collapse"}},En=(0,c.Lk)("td",{style:{width:"60%"}},"Début",-1),Dn={style:{width:"40%","text-align":"right"}},Un=(0,c.Lk)("td",{style:{width:"60%"}},"Fin",-1),Sn={style:{width:"40%","text-align":"right"}},Tn=(0,c.Lk)("td",{style:{width:"60%","background-color":"darkcyan"}},"Total payées",-1),On={style:{width:"40%","text-align":"right","background-color":"darkcyan"}},Wn=(0,c.Lk)("td",{style:{width:"60%","background-color":"darkcyan"}}," Nombre payées ",-1),Pn={style:{width:"40%","text-align":"right","background-color":"darkcyan"}},Kn=(0,c.Lk)("td",{style:{width:"60%","background-color":"darkgoldenrod"}}," Total impayées ",-1),Nn={style:{width:"40%","text-align":"right","background-color":"darkgoldenrod"}},In=(0,c.Lk)("td",{style:{width:"60%","background-color":"darkgoldenrod"}}," Nombre impayées ",-1),Mn={style:{width:"40%","text-align":"right","background-color":"darkgoldenrod"}},zn=(0,c.Lk)("td",{style:{width:"60%","background-color":"dimgray"}}," Total annulées ",-1),jn={style:{width:"40%","text-align":"right","background-color":"dimgray"}},Jn=(0,c.Lk)("td",{style:{width:"60%","background-color":"dimgray"}}," Nombre annulées ",-1),Bn={style:{width:"40%","text-align":"right","background-color":"dimgray"}},Xn=(0,c.Lk)("td",{style:{width:"60%","background-color":"darkgreen","font-size":"14px","font-weight":"bold"}}," Total ",-1),Qn={style:{width:"40%","text-align":"right","background-color":"darkgreen","font-size":"14px","font-weight":"bold"}},qn=0,Gn=n(86425)["default"],Hn={components:{ManageUsersDialogComponent:Q},mounted:function(){var e=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCategories();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{deleteproductconfirmdialog:!1,overlay:!0,authenticated_:!0,producttodelete:"",ticketvalidate:!0,showvkeyboard:!0,editelement:null,showpad:!1,actiononproduct:!1,btnvalidatedisabled:!0,btnvalidate:!1,newcategoryname:"",showadminprompt:!1,showalert:!1,confirmdialog:!1,adminclass:"adminclasslogout",adminloginicon:"mdi-lock",sessionicon:"mdi-play",confirmationtext:"",selectedcategory:"",alertcardclass:"text-center",alerttext:"",alerttitle:"",adminpassword:"",ticketnumber:"",isadmin:!1,paramsdialog:!1,productdialog:!1,sheet:!1,tab:-1,categorytodelete:"",input:"",categorydialog:!1,selectedcategoryID:-1,currentelement:null,count:0,categories:[],menu:[],ticket:[{content:[],number:"",totalticket:0,discount:0,waiter:"",member:"",memberid:""}]}},computed:{store:function(){return h}},watch:{tab:function(){var e=(0,l.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t){e.next=6;break}if(0!=this.menu.length){e.next=4;break}return e.next=4,this.getMenu();case 4:return this.showFavorites(),e.abrupt("return");case 6:this.showElements(this.selectedcategory.categoryid);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),"store.Member":{handler:function(e){var t=this;if(null==e)return this.ticket[0].member="",this.ticket[0].memberid="",this.ticket[0].discount=0,void this.updateTotalTicket();if(null!=e){this.ticket[0].member=null===e||void 0===e?void 0:e.name,this.ticket[0].memberid=null===e||void 0===e?void 0:e.subscriberId;var n=null===e||void 0===e?void 0:e.remainingConsumables,r=[];this.ticket[0].discount=0,this.ticket[0].content.forEach((function(e){for(var n=0;n<e.count;n++){var o=t.menu.find((function(t){return t.productid==e.id}));r.push({memberdiscount:null===o||void 0===o?void 0:o.memberdiscount,goldmemberdiscount:null===o||void 0===o?void 0:o.goldmemberdiscount})}})),r.sort((function(e,t){return null===e.goldmemberdiscount?1:null===t.goldmemberdiscount?-1:t.goldmemberdiscount-e.goldmemberdiscount})),r.forEach((function(r){e.isGold&&0==n&&null!=r.memberdiscount&&(t.ticket[0].discount+=r.memberdiscount),e.isGold&&null!=r.goldmemberdiscount&&n>=1&&(t.ticket[0].discount+=r.goldmemberdiscount,n--,console.log("remainingConsumables",n)),e.isGold||null!=r.memberdiscount&&(t.ticket[0].discount+=r.memberdiscount)})),this.updateTotalTicket()}},immediate:!0,deep:!0},ticket:{handler:function(e){this.btnvalidatedisabled=!e[0].content.length>0,this.ticketvalidate=!0},deep:!0}},methods:{logout:function(){this.ticket[0].content=[],this.ticket[0].totalticket=0,this.ticket[0].waiter="",this.ticket[0].number="",this.ticketnumber="",this.isadmin=!1,this.adminloginicon="mdi-lock",this.adminclass="adminclasslogout"},adminLogin:function(){var e=this;return(0,l.A)((0,i.A)().mark((function t(){var n;return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("pwd",e.adminpassword),t.next=4,fetch("https://"+v()+"/adminlogin",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){if(e.showadminprompt=!1,"ACCES REFUSE"==t.data)return e.alerttext=t.Message,e.showalert=!0,void(e.alertcardclass="text-center errorclass");e.adminclass="adminclasslogin",e.adminloginicon="mdi-lock-open",e.isadmin=!0,e.adminpassword=""}))["catch"]((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},newTicket:function(){this.ticket[0].content=[],this.ticket[0].totalticket=0,this.ticket[0].discount=0,this.ticketvalidate=!1,this.ticketnumber="",document.body.focus()},emptyTicket:function(){this.ticket[0].content=[],this.ticket[0].totalticket=0,this.ticket[0].discount=0},validateTicket:function(e,t,n){var r=this;return(0,l.A)((0,i.A)().mark((function o(){var a,u,l,c;return(0,i.A)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(console.log("validateTicket",r.ticket[0]),a=r.$refs.waiterbox.$el.querySelector('[inputmode="none"]'),""==a.value){o.next=6;break}if(!e.get(a.value)){o.next=6;break}return r.alertHandler({Prefix:"ERROR",Message:"La session du serveur selectionné n'est pas démarrée.",data:""}),o.abrupt("return");case 6:return u=v(),l=new FormData,c=JSON.parse(sessionStorage.getItem("user")).username,r.ticket[0].waiter=a.value,l.append("totalticket",r.ticket[0].totalticket),l.append("waiter",r.ticket[0].waiter),l.append("creator",c),l.append("content",JSON.stringify(r.ticket[0].content)),l.append("member",r.ticket[0].member),l.append("memberid",r.ticket[0].memberid),o.next=18,fetch("https://"+u+"/saveTicket",{method:"post",body:l}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){r.ticketvalidate=!1,r.btnvalidatedisabled=!0,r.ticketnumber=e.data.padStart(9,0),"one"==t.disconnectmode&&(n(),r.logout())}))["catch"]((function(e){console.log(e)}));case 18:case"end":return o.stop()}}),o)})))()},updateTotalTicket:function(){var e=this;this.ticket[0].totalticket=0,this.ticket[0].content.forEach((function(t){e.ticket[0].totalticket+=t.count*t.price})),this.ticket[0].totalticket-=this.ticket[0].discount},validateInput:function(){var e=document.getElementById("display").innerHTML;if("Entrez un nombre"!==e&&""!==e){if("0"==e)return this.removeFromTicket(this.currentelement.id),void(this.showpad=!1);this.currentelement.count=parseInt(e),this.updateTotalTicket(),this.showpad=!1}else alert("Nombre incorrecte")},pressButton:function(e){var t=document.getElementById("display");"Entrez un nombre"===t.innerHTML?t.innerHTML=e:t.innerHTML+=e},deleteLast:function(){var e=document.getElementById("display");e.innerHTML=e.innerHTML.slice(0,-1)||"Entrez un nombre"},clearDisplay:function(){document.getElementById("display").innerHTML="Entrez un nombre"},showPad:function(e){this.showpad=!0,this.currentelement=e},refresh:function(){var e=this;return(0,l.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategories();case 2:return t.next=4,e.getMenu();case 4:case"end":return t.stop()}}),t)})))()},getImageURL:function(e){return"https://"+v()+"/img/"+e},printReceipt:function(e,t){var n=this;return(0,l.A)((0,i.A)().mark((function r(){var o;return(0,i.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=new FormData,o.append("number",n.ticketnumber),r.next=4,fetch("https://"+v()+"/printreceipt",{method:"post",body:o}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(r){"two"==e.disconnectmode&&(t(),n.logout())}))["catch"]((function(e){console.log(e)}));case 4:case"end":return r.stop()}}),r)})))()},getMenu:function(){var e=(0,l.A)((0,i.A)().mark((function e(){var t=this;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.menu=[],e.next=3,fetch("https://"+v()+"/getMenu").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){t.menu=e,console.log(e)}))["catch"]((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCategories:function(){var e=(0,l.A)((0,i.A)().mark((function e(){var t=this;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.categories=[],e.next=3,Gn.post("https://"+v()+"/getcategories",{withCredentials:!0}).then((function(e){t.categories=e.data}))["catch"]((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),elementClick:function(e){if(h.Member=null,this.isadmin)this.actiononproduct=!0;else{var t=!1;this.ticket[0].totalticket=this.ticket[0].totalticket+parseFloat(e.price),this.ticket[0].content.forEach((function(n){if(n.id==e.productid)return n.count++,void(t=!0)})),0==t&&this.ticket[0].content.push({id:e.productid,count:1,text:e.text,price:e.price,categoryid:e.category,comment:""});var n=document.getElementById("listticket");n.lastElementChild.scrollIntoView(!1)}},alertHandler:function(e){var t=this;return(0,l.A)((0,i.A)().mark((function n(){return(0,i.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.showalert=!0,n.t0=e.Prefix,n.next="ERROR"===n.t0||"EMPTY"===n.t0?4:"INSERT"===n.t0||"EDIT"===n.t0||"DELETE"===n.t0||"UPDATE"===n.t0?7:11;break;case 4:return t.alerttext=e.Message+"  ".concat(e.data),t.alertcardclass="text-center errorclass",n.abrupt("break",11);case 7:return t.alerttext=e.Message+" : ".concat(e.data),t.alertcardclass="text-center successclass","Le ticket a été enregistré"==e.Message&&(t.ticket[0].number=e.data),n.abrupt("break",11);case 11:return n.next=13,t.getCategories();case 13:return n.next=15,t.getMenu();case 15:if(0!=qn||"La catrégorie a été enregistrée"==e.Message&&"La catrégorie a été modifiée"==e.Message){n.next=18;break}return t.showFavorites(),n.abrupt("return");case 18:t.tab=qn,t.showElements(t.selectedcategory.categoryid),setTimeout((function(){t.showalert=!1}),3e3);case 21:case"end":return n.stop()}}),n)})))()},showElements:function(e){var t=this;return(0,l.A)((0,i.A)().mark((function n(){return(0,i.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=e&&(t.selectedcategoryID=e),0!=t.menu.length){n.next=4;break}return n.next=4,t.getMenu();case 4:if(b.value=[],t.menu.forEach((function(t){t.category==e&&b.value.push(t)})),g(e),!localStorage.getItem("filtredMenu"+e)){n.next=10;break}return b.value=y(e),n.abrupt("return");case 10:localStorage.setItem("filtredMenu"+e,JSON.stringify(b.value));case 11:case"end":return n.stop()}}),n)})))()},showFavorites:function(){var e=this;return(0,l.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(b.value=[],e.menu.forEach((function(e){1==e.isfavorite&&b.value.push(e)})),g(-1),!localStorage.getItem("filtredMenu-1")){t.next=6;break}return b.value=y(-1),t.abrupt("return");case 6:localStorage.setItem("filtredMenu-1",JSON.stringify(b.value));case 7:case"end":return t.stop()}}),t)})))()},removeFromTicket:function(e){var t=this;h.Member=null,this.ticket[0].content.forEach((function(n,r){if(n.id==e)return t.ticket[0].content.splice(r,1),void(t.ticket[0].totalticket-=parseFloat(n.price)*n.count)}))},increaseCount:function(e){e.count++,this.ticket[0].totalticket+=parseFloat(e.price),h.Member=null},reduceCount:function(e){if(1==e.count)return e.count--,this.ticket[0].totalticket-=parseFloat(e.price),void this.removeFromTicket(e.id);e.count--,this.ticket[0].totalticket-=parseFloat(e.price),h.Member=null},showTicketOnLowResolution:function(){this.sheet=!0},showadminlogin:function(e){var t=this;return(0,l.A)((0,i.A)().mark((function n(){return(0,i.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("mdi-lock"!=t.adminloginicon){n.next=4;break}return t.showadminprompt=!0,setTimeout((function(){t.$refs.adminpass.focus()}),200),n.abrupt("return");case 4:t.isadmin=!1,t.adminclass="adminclasslogout",t.adminloginicon="mdi-lock",e();case 8:case"end":return n.stop()}}),n)})))()},showAddNewProductDialog:function(){qn=this.tab,this.productdialog=!0},confirmDelete:function(){var e=this;return(0,l.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Gn.post("https://"+v()+"/deletecategory",{categoryid:e.categorytodelete.categoryid}).then(function(){var t=(0,l.A)((0,i.A)().mark((function t(n){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.alertHandler(n.data);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},confirmDeleteProduct:function(){var e=this;return(0,l.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return qn=e.tab,t.next=3,Gn.post("https://"+v()+"/deleteProduct",{productid:e.producttodelete.productid}).then(function(){var t=(0,l.A)((0,i.A)().mark((function t(n){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.alertHandler(n.data),t.next=3,e.getMenu();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},deleteCategory:function(e){this.categorytodelete=e,this.confirmdialog=!0,this.confirmationtext="Etes-vous sûr de vouloir supprimer la catégorie ".concat(e.categoryname,"? ")},deleteProduct:function(e){this.producttodelete=e,this.deleteproductconfirmdialog=!0,this.confirmationtext="Etes-vous sûr de vouloir supprimer le produit ".concat(e.text,"? ")}}};const Yn=Object.assign(Hn,{__name:"App",setup:function(e){var t={profile:"",printingmode:"",printingfunction:"",printingoptions:[],printerip:"",printerport:"9100",copies:1,active:!1},n=(0,d.KR)((0,u.A)({},t)),f=(0,d.KR)(["USB","LAN"]),m=(0,d.KR)(["Reçu","Situation","Personnalisé"]),k=(0,d.KR)([]),y=(0,d.KR)(!1),C=(0,d.KR)(""),_=(0,d.KR)(!1),A=(0,d.KR)(!1),V=(0,d.KR)(!1),L=(0,d.KR)(!1),R=(0,d.KR)(!1),E=(0,d.KR)(!1),D=(0,d.KR)(""),U=(0,d.KR)({managercancreatetickets:!0,managercanselectwaiter:!1}),S=(0,d.KR)(""),T=(0,d.KR)(!0),O=(0,d.KR)(!1),W=(0,d.KR)(""),P=(0,d.KR)(""),K=(0,d.KR)(null),j=(0,d.KR)(""),J=(0,d.KR)(!1),B=(0,d.KR)(""),X=(0,d.KR)(!1),q=(0,d.KR)(!1),G=(0,d.KR)(""),H=(0,d.KR)(""),Y=(0,d.KR)(""),Z=(0,d.KR)(null),ee=(0,d.KR)(!1),te=null,ne=(0,d.KR)(null),re=(0,d.KR)("Tout"),oe=(0,d.KR)(!1),ae=(0,d.KR)(!1),ue={itemsPerPageText:"Utilisateurs par page",itemsPerPageOptions:[5,10,20]},ie={itemsPerPageText:"Imprimantes par page",itemsPerPageOptions:[5,10,20]},le={itemsPerPageText:"Commmandes par page",itemsPerPageOptions:[10,20,50,100]},ce=(0,d.KR)([]),se=(0,d.KR)([]),de={categoryname:"",categoryid:""},pe=!1,fe="",me=0,ve=(0,d.KR)(!1),ke=(0,d.KR)(null),he=(0,d.KR)("00:00:01"),be=(0,d.KR)(null),ge=(0,d.KR)(""),ye=(0,d.KR)("23:59:59"),we=(0,d.KR)("dark"),xe=(0,d.KR)({posname:"",address:"",phone:"",wificode:""}),Fe=(0,d.KR)({disconnectmode:"two"}),Ce=(0,d.KR)(null),_e=(0,d.KR)([{title:"bluegrey"},{title:"dark"},{title:"brown"},{title:"teal"},{title:"deepblue"},{title:"purple"}]);function Ae(){y.value=!0,n.value=(0,u.A)({},t)}var Le=(0,d.KR)(!1);function Re(){Le.value=!0,y.value=!0}var Ee=(0,d.KR)("");function De(){return"z-index:9998;width:100%; height:100%; position: fixed; background-size: cover;top: 0;left: 0; background-image:url(https://"+v()+"/img/coffeeshop.jpg); opacity:0.5"}function Se(e){D.value="Voulez-vous vraiment supprimer le profile d'impression ".concat(e.profile," ?"),We.value=!0,Ee.value=e}var We=(0,d.KR)(!1),Pe=(0,d.KR)(!1),Ke=function(e){return Pe.value=e,e};function Ne(){return ze.apply(this,arguments)}function ze(){return ze=(0,l.A)((0,i.A)().mark((function e(){var r;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==k.value.find((function(e){return e.profile==n.value.profile}))||Le.value){e.next=3;break}return Tr({Prefix:"ERROR",Message:"Ce nom de profile existe déjà",data:""}),e.abrupt("return");case 3:if(!Le.value){e.next=7;break}return e.next=6,Be();case 6:return e.abrupt("return");case 7:return k.value.push((0,u.A)({},n.value)),r=new FormData,r.append("printingsettings",JSON.stringify(k.value)),e.next=12,fetch("https://"+v()+"/saveprintingsettings",{method:"post",body:r}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&(Tr(e),n.value=(0,u.A)({},t),y.value=!1)}))["catch"]((function(e){console.error(e)}));case 12:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function je(){return Je.apply(this,arguments)}function Je(){return Je=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("printingsettings",JSON.stringify(k.value)),e.next=4,fetch("https://"+v()+"/saveprintingsettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&(Tr(e),"ERROR"!=e.Prefix&&(k.value=k.value.filter((function(e){return e.profile!=Ee.value.profile})),We.value=!1))}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Be(){return xn.apply(this,arguments)}function xn(){return xn=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("printingsettings",JSON.stringify(k.value)),e.next=4,fetch("https://"+v()+"/saveprintingsettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&(Tr(e),y.value=!1)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),xn.apply(this,arguments)}function Fn(e){we.value=e,localStorage.setItem("theme",we.value)}function Cn(e){var t=e.split("-"),n=(0,a.A)(t,3),r=n[0],o=n[1],u=n[2];return"".concat(u,"-").concat(o,"-").concat(r)}function _n(e,t,n){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,l.A)((0,i.A)().mark((function e(t,n,r){var o;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new FormData,o.append("elementid",t.productid),o.append("categoryid",n.categoryid),e.next=5,fetch("https://"+v()+"/changeproductcategory",{method:"post",body:o}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){if(null!=e){Tr(e);var o=JSON.parse(localStorage.getItem("filtredMenu"+r)),a=JSON.parse(localStorage.getItem("filtredMenu"+n.categoryid));t.category=n.categoryid,b.value=b.value.filter((function(e){return e.productid!=t.productid})),null!=a&&a.push(t),null!=o&&(o=o.filter((function(e){return e.productid!=t.productid}))),localStorage.setItem("filtredMenu"+r,JSON.stringify(o)),localStorage.setItem("filtredMenu"+n.categoryid,JSON.stringify(a))}}))["catch"]((function(e){console.error(e)}));case 5:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}(0,c.wB)(Pe,(function(e){!1===e?uo():io()}));(0,d.KR)(!1);var Hn=function(e){return!!e||"Champ requis"};function Yn(){var e=new p["default"],t=0;se.value.forEach((function(e){"ANNULE"!=e.status&&(t+=e.totalticket)}));var n=[{title:"Numéro",align:"start",sortable:!0,key:"number"},{title:"Serveur",key:"waiter"},{title:"Initiateur",key:"creator"},{title:"Date et heure",key:"creationdate"},{title:"Etat",key:"status"},{title:"Total",key:"totalticket"}],r=n.map((function(e){return e.title})),o=se.value.map((function(e){return n.map((function(t){return e[t.key]}))})),a=new Date,u=a.getHours(),i=a.getMinutes(),l="".concat(u.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));e.setFontSize(18),e.text("Etat des opérations",10,20),e.setFontSize(12),e.text("Date de début: "+Cn(ke.value)+" à "+he.value,10,30),e.text("Date de fin: "+Cn(be.value)+" à "+l,10,40),e.autoTable({head:[r],body:o,startY:50,margin:{left:10,right:10},styles:{fontSize:10},footStyles:{fontStyle:"bold"}});var c=e.internal.pageSize.getWidth(),s=e.autoTable.previous.finalY+10;e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Total: ".concat(t.toFixed(2)),c-50,s),e.save("Etatopérations.pdf")}function $n(){var e;return!U.value.managercanselectwaiter||"Gérant"!=(null===(e=ne.value)||void 0===e?void 0:e.Role)}function Zn(){return er.apply(this,arguments)}function er(){return er=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("managersettings",JSON.stringify(U.value)),e.next=4,fetch("https://"+v()+"/savemanagersettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&Tr(e)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(){return nr.apply(this,arguments)}function nr(){return nr=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://"+v()+"/loadsettings",{method:"post"}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&(xe.value=JSON.parse(e.generalsettings),U.value=JSON.parse(e.managersettings),k.value=JSON.parse(e.printingsettings),Fe.value=""!=e.securitysettings?JSON.parse(e.securitysettings):{disconnectmode:"two"})}))["catch"]((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e){Er.value=!0,K.value=e,j.value=e.comment}function or(){K.value.comment=j.value}function ar(){return ur.apply(this,arguments)}function ur(){return ur=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("securitysettings",JSON.stringify(Fe.value)),e.next=4,fetch("https://"+v()+"/savesecuritysettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&Tr(e)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function ir(){return lr.apply(this,arguments)}function lr(){return lr=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("generalsettings",JSON.stringify(xe.value)),e.next=4,fetch("https://"+v()+"/savegeneralsettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&Tr(e)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}function cr(){h.Member=null}function sr(){h.Member=null,"Gérant"==ne.value.Role&&(S.value="");var e=document.getElementById("newticketbutton");e.blur()}var dr=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)};function pr(e){var t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),u=String(t.getMinutes()).padStart(2,"0"),i=String(t.getSeconds()).padStart(2,"0");return"".concat(n,"/").concat(r,"/").concat(o," ").concat(a,":").concat(u,":").concat(i)}function fr(){return navigator.userAgent.toLowerCase().includes("electron")}function mr(){return!!(window.chrome&&window.chrome.webview||window.nadilpos||fr())}(0,c.sV)((0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(mr()){e.next=3;break}return window.location.href="notauthorised",e.abrupt("return");case 3:return document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",we.value=localStorage.getItem("theme")||"dark",e.next=8,so();case 8:t=document.querySelector('[aria-label="Please enter OTP character 1"]'),null!=t&&t.focus(),ke.value=dr(),he.value="00:00:00",be.value=dr(),re.value="TOUT",g();case 15:case"end":return e.stop()}}),e)}))));var vr=(0,d.KR)(!1),kr=(0,d.KR)("");function hr(){return br.apply(this,arguments)}function br(){return br=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new FormData,null!=ne.value.Username){e.next=3;break}return e.abrupt("return");case 3:return t.append("username",ne.value.Username),e.next=6,fetch("https://"+v()+"/changesessionstatus",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then(function(){var e=(0,l.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Yr();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){console.error(e)}));case 6:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function gr(){return yr.apply(this,arguments)}function yr(){return yr=(0,l.A)((0,i.A)().mark((function e(){var t,n,r,o,a;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ee.value=!ee.value,ge.value=[],"Serveur"!=(null===(t=ne.value)||void 0===t?void 0:t.Role)){e.next=7;break}return ge.value.push(null===(r=ne.value)||void 0===r?void 0:r.Username),C.value=null===(o=ne.value)||void 0===o?void 0:o.Username,Cr(null===(a=ne.value)||void 0===a?void 0:a.Username),e.abrupt("return");case 7:null===(n=B.value)||void 0===n||n.forEach((function(e){ge.value.push(e.Username)}));case 8:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function wr(e){if(void 0==e)return"";if("0001-01-01T00:00:00Z"==e||""==e)return"";var t=new Date(e),n=t.toISOString().split("T")[0],r=t.toISOString().split("T")[1].slice(0,5);return n+" "+r}var xr=(0,d.KR)(""),Fr=(0,d.KR)({});function Cr(e){return _r.apply(this,arguments)}function _r(){return _r=(0,l.A)((0,i.A)().mark((function e(t){var n,r,o,a,u;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Fr.value={},""!=t){e.next=3;break}return e.abrupt("return");case 3:if(void 0!=(null===(n=Hr.get(t))||void 0===n?void 0:n.start)){e.next=5;break}return e.abrupt("return");case 5:return r=new Date(Hr.get(t).start),o=r.toISOString().split("T")[0],a=r.toISOString().split("T")[1].slice(0,5),u=new FormData,u.append("start",o+" "+a),u.append("username",t),e.next=13,fetch("https://"+v()+"/getsituation",{method:"post",body:u}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var n,r,o,a,u,i,l,c,s;null!=e&&(xr.value=e,Fr.value={username:t,totalpaid:null===(n=xr.value)||void 0===n?void 0:n.totalpaid,countpaid:null===(r=xr.value)||void 0===r?void 0:r.countpaid,totalinpaid:null===(o=xr.value)||void 0===o?void 0:o.totalinpaid,countinpaid:null===(a=xr.value)||void 0===a?void 0:a.countinpaid,totalcanceled:null===(u=xr.value)||void 0===u?void 0:u.totalcanceled,countcanceled:null===(i=xr.value)||void 0===i?void 0:i.countcanceled,total:null===(l=xr.value)||void 0===l?void 0:l.total,sessionstart:null===(c=Hr.get(t))||void 0===c?void 0:c.start,sessionend:null===(s=Hr.get(t))||void 0===s?void 0:s.end})}))["catch"]((function(e){console.error(e)}));case 13:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function Ar(){null!=window.chrome.webview&&window.chrome.webview.postMessage("vkeyboard")}function Vr(){se.value=[],"TOUT"==(null===re||void 0===re?void 0:re.value)?se.value=ce.value:ce.value.forEach((function(e){e.status==re.value&&se.value.push(e)}))}function Lr(){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Jr();case 2:J.value=!1,S.value="",ke.value=dr(),he.value="00:00:00",be.value=dr(),re.value="TOUT",sessionStorage.clear(),t=document.querySelector('[aria-label="Please enter OTP character 1"]'),null!=t&&t.focus();case 11:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}var Er=(0,d.KR)(!1),Dr=(0,d.KR)(!1),Ur=(0,d.KR)(""),Sr=(0,d.KR)("");function Tr(e){return Or.apply(this,arguments)}function Or(){return Or=(0,l.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Dr.value=!0,e.t0=t.Prefix,e.next="ERROR"===e.t0||"EMPTY"===e.t0?4:"INSERT"===e.t0||"EDIT"===e.t0||"DELETE"===e.t0||"UPDATE"===e.t0?7:"SUCCESS"===e.t0?12:15;break;case 4:return Ur.value=t.Message+"  ".concat(t.data),Sr.value="text-center errorclass",e.abrupt("break",15);case 7:return Ur.value=t.Message,Sr.value="text-center successclass",e.next=11,Ir();case 11:return e.abrupt("break",15);case 12:return Ur.value=t.Message,Sr.value="text-center successclass",e.abrupt("break",15);case 15:setTimeout((function(){Dr.value=!1}),4e3);case 16:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}function Wr(){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.nadilpos){e.next=3;break}return window.nadilpos.showMessage("close"),e.abrupt("return");case 3:return null!=window.chrome.webview&&window.chrome.webview.postMessage("close"),e.next=6,Lr();case 6:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Kr(){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=window.chrome.webview&&window.chrome.webview.postMessage("minimize");case 1:case"end":return e.stop()}}),e)}))),Nr.apply(this,arguments)}function Ir(){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return se.value=[],ce.value=[],t=new FormData,t.append("startdate",ke.value),t.append("enddate",be.value),t.append("starttime",he.value),t.append("endtime",ye.value),e.next=9,fetch("https://"+v()+"/getOrders",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&(ce.value=e,"TOUT"==(null===re||void 0===re?void 0:re.value)?(ce.value.forEach((function(e){e.creationdate=pr(e.creationdate),se.value.push(e)})),console.log(ce.value)):ce.value.forEach((function(e){e.status==re.value&&(e.creationdate=pr(e.creationdate),se.value.push(e))})))}))["catch"]((function(e){console.error(e)}));case 9:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function zr(){return jr.apply(this,arguments)}function jr(){return jr=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ir();case 2:q.value=!q.value;case 3:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Jr(){return Br.apply(this,arguments)}function Br(){return Br=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://"+v()+"/endsession")["catch"]((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}window.addEventListener("beforeunload",(function(){document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date(0).toUTCString(),";path=/"))}))}));var Xr=(0,d.KR)("Commencer"),Qr=(0,d.KR)("mdi-play"),qr=(0,d.KR)("statusplay"),Gr=(0,d.Kh)(new Map),Hr=(0,d.Kh)(new Map);function Yr(){return $r.apply(this,arguments)}function $r(){return $r=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://"+v()+"/getsessionsstatus",{method:"post"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var t,n;null!=e&&(e.forEach((function(e){var t;if(Hr.set(e.username,e),Gr.set(e.username,"0001-01-01T00:00:00Z"!=e.end),e.username==(null===(t=ne.value)||void 0===t?void 0:t.Username)){var n=new Date(e.start),r=n.toISOString().split("T")[0],o=n.toISOString().split("T")[1].slice(0,5);return ke.value=r,he.value=o,"0001-01-01T00:00:00Z"==e.end?(Xr.value="Finir",Qr.value="mdi-stop",qr.value="statusstop",void(oe.value=!0)):(Xr.value="Commencer",Qr.value="mdi-play",qr.value="statusplay",void(oe.value=!1))}})),void 0==Gr.get(null===(t=ne.value)||void 0===t?void 0:t.Username)&&(Xr.value="Commencer",Qr.value="mdi-play",qr.value="statusplay",oe.value=!1,Gr.set(null===(n=ne.value)||void 0===n?void 0:n.Username,!0)))}))["catch"]((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Zr(){return eo.apply(this,arguments)}function eo(){return eo=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:kr.value="Commencer"==Xr.value?"Voulez-vous continuer et démarrer une nouvelle session?":"Êtes-vous sûr(e) de vouloir arrêter la session en cours?",vr.value=!0;case 2:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e){return no.apply(this,arguments)}function no(){return no=(0,l.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return J.value=!0,ne.value=t,e.next=4,tr();case 4:return e.next=6,Yr();case 6:sessionStorage.setItem("user",JSON.stringify({username:t.Username,role:t.Role})),"Serveur"==t.Role&&(S.value=t.Username);case 8:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e){return oo.apply(this,arguments)}function oo(){return oo=(0,l.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("user",t),e.next=4,fetch("https://"+v()+"/opensession",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then(function(){var e=(0,l.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tr();case 2:return e.next=4,Yr();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}document.addEventListener("keydown",(function(e){fe+=e.key,me++,W.value.forEach((function(e){var t;return fe.substring(0,me)===e.Code&&1==J.value&&"Gérant"==(null===(t=ne.value)||void 0===t?void 0:t.Role)?("Serveur"==e.Role&&(S.value=e.Username),fe="",void(me=0)):fe.substring(0,me)===e.Code&&0==J.value?(J.value=!0,"Serveur"==e.Role&&(S.value=e.Username),ne.value=e,fe="",me=0,sessionStorage.setItem("user",JSON.stringify({username:e.Username,role:e.Role})),void ro(e.Username)):void 0})),"Enter"==e.key&&(fe="",me=0),setTimeout((function(){fe="",me=0}),1e3)}),!0);var ao="";function uo(){document.addEventListener("keydown",lo)}function io(){document.removeEventListener("keydown",lo),ao=""}function lo(e){1==e.key.length&&(ao+=e.key),"Enter"==e.key&&(co(ao),ao=""),setTimeout((function(){ao=""}),2e3)}var co=function(){var e=(0,l.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("command","getSubscriberInfosFromRFID"),n.append("rfid_id",t),e.next=5,fetch("https://"+window.location.hostname+":8080/api",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){if(null!=e&&"SUCCESS"==e.status){if(0==e.data.hasValidSubscription)return Tr({Prefix:"ERROR",Message:"Abonnement non valide",data:""}),void(h.Member=null);Tr({Prefix:"SUCCESS",Message:"Abonnement valide",data:""}),h.Member=e.data}}))["catch"]((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function so(){return po.apply(this,arguments)}function po(){return po=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return W.value=[],P.value=[],ge.value=[],e.next=5,fetch("https://"+v()+"/getusers").then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){var t;B.value=JSON.parse(e),null===(t=B.value)||void 0===t||t.forEach((function(e){ge.value.push(e.Username),W.value.push({Username:e.Username,Role:e.Role,Code:e.Code}),P.value.push(e.Username)}))}))["catch"]((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}var fo=(0,d.KR)(!1),mo=(0,d.KR)(""),vo=(0,d.KR)(null);function ko(e){mo.value="Continuer pour annuler la commande n° : "+e.number+" ?",vo.value=e,fo.value=!0}function ho(){return bo.apply(this,arguments)}function bo(){return bo=(0,l.A)((0,i.A)().mark((function e(){var t,n,r;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ANNULE"!=(null===(t=vo.value)||void 0===t?void 0:t.status)){e.next=3;break}return Tr({Prefix:"ERROR",Message:"Ce ticket est déjà annulé.",data:"CANCELED_ORDER"}),e.abrupt("return");case 3:return r=new FormData,r.append("number",null===(n=vo.value)||void 0===n?void 0:n.number),e.next=7,fetch("https://"+v()+"/cancelorder",{method:"post",body:r}).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){null!=e&&Tr(e)}));case 7:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}var go=(0,d.KR)(!1),yo=(0,d.KR)(""),wo=(0,d.KR)(!1);function xo(e){yo.value="Voulez-vous valider le paiement de la commande  N° "+e.number+" ?",go.value=!0,wo.value=e}function Fo(){return Co.apply(this,arguments)}function Co(){return Co=(0,l.A)((0,i.A)().mark((function e(){var t,n,r,o,a,u;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ANNULE"!=(null===(t=wo.value)||void 0===t?void 0:t.status)){e.next=3;break}return Tr({Prefix:"ERROR",Message:"Ce ticket a été annulé.",data:"CANCELED_ORDER"}),e.abrupt("return");case 3:if("PAYE"!=(null===(n=wo.value)||void 0===n?void 0:n.status)){e.next=6;break}return Tr({Prefix:"ERROR",Message:"Ce ticket est déjà payé.",data:"PAID_ORDER"}),e.abrupt("return");case 6:return u=new FormData,u.append("number",null===(r=wo.value)||void 0===r?void 0:r.number),u.append("creator",null===(o=wo.value)||void 0===o?void 0:o.creator),u.append("waiter",null===(a=wo.value)||void 0===a?void 0:a.waiter),e.next=12,fetch("https://"+v()+"/checkoutorder",{method:"post",body:u}).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){null!=e&&Tr(e)}));case 12:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function _o(e){ve.value=!0,Z.value=e}function Ao(e){D.value="Êtes-vous sûr de vouloir supprimer l'utilisateur "+e.Username+"?",Y.value=e,E.value=!E.value}function Vo(){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("id",Y.value.ID),e.next=4,fetch("https://"+v()+"/deleteuser",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){No(),E.value=!1}))["catch"]((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Ro(){L.value=!L.value}function Eo(e){L.value=e}function Do(){R.value=!R.value}function Uo(e){R.value=e}function So(){pe=!0,_.value=!_.value}function To(e){_.value=e}function Oo(){A.value=!A.value}function Wo(e){A.value=e}function Po(){V.value=!V.value}function Ko(e){V.value=e}function No(){return Io.apply(this,arguments)}function Io(){return Io=(0,l.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,so();case 2:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function Mo(e){de=e,_.value=!0}function zo(){T.value=!T.value,O.value=!O.value}function jo(){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,l.A)((0,i.A)().mark((function e(){var t,n,r,o;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("0001-01-01T00:00:00Z"!=(null===(t=Fr.value)||void 0===t?void 0:t.sessionend)&&""!=(null===(n=Fr.value)||void 0===n?void 0:n.sessionend)){e.next=3;break}return Tr({Prefix:"ERROR",Message:"Votre session n'est pas encore finie. Veuillez mettre fin à la session en cours avant d'imprimer.",data:""}),e.abrupt("return");case 3:if(void 0!=(null===(r=Fr.value)||void 0===r?void 0:r.username)){e.next=6;break}return Tr({Prefix:"ERROR",Message:"Vous n'avez aucune session.",data:""}),e.abrupt("return");case 6:return o=new FormData,o.append("situation",JSON.stringify(Fr.value)),e.next=10,fetch("https://"+v()+"/printsituation",{method:"post",body:o}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){}))["catch"]((function(e){console.log(e)}));case 10:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Bo(e,t,n,r,o,a){return!r&&(!!n||(0==o.managercancreatetickets&&""==a||(!(!e||t)||void 0)))}return window.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),function(e,t){var a=(0,c.g2)("v-list-item-text"),u=(0,c.g2)("v-number-input");return(0,c.uX)(),(0,c.Wv)(Ct.JB,{class:"border rounded no-select"},{default:(0,c.k6)((function(){return[(0,c.Lk)("div",Dt,[0==J.value?((0,c.uX)(),(0,c.Wv)(wt.L,{key:0,modelValue:e.overlay,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.overlay=t}),persistent:"",style:(0,s.Tr)(De())},null,8,["modelValue","style"])):(0,c.Q3)("",!0),0==J.value?((0,c.uX)(),(0,c.Wv)(Ve,{key:1,class:"centerstuff",onAuthOk:to})):(0,c.Q3)("",!0)]),(0,c.bF)(Qe.E,{theme:we.value},{default:(0,c.k6)((function(){return[(0,c.bF)(qe.z,{elevation:4,density:"compact"},(0,c.eX)({prepend:(0,c.k6)((function(){return[(0,c.bF)(Ge.Z,{onClick:zo})]})),default:(0,c.k6)((function(){return[(0,c.bF)(gt.q,null,{activator:(0,c.k6)((function(e){var t=e.props;return[(0,c.bF)(x.D,(0,c.v6)({style:{"font-size":"10px"},color:"primary"},t),{default:(0,c.k6)((function(){return[(0,c.eW)(" Thème ")]})),_:2},1040)]})),default:(0,c.k6)((function(){return[(0,c.bF)(mt.x8,null,{default:(0,c.k6)((function(){return[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(_e.value,(function(e,t){return(0,c.uX)(),(0,c.Wv)(vt.g,{key:t,style:{cursor:"default"},onClick:function(t){return Fn(e.title)}},{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{style:{"font-size":"12px","font-weight":"bold"}},{default:(0,c.k6)((function(){return[(0,c.eW)((0,s.v_)(e.title),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1}),(0,c.bF)(He.l,null,{default:(0,c.k6)((function(){return[(0,c.eW)("Nadil-POS AC")]})),_:1})]})),_:2},[J.value?{name:"append",fn:(0,c.k6)((function(){return[(0,c.Lk)("span",{ref:"authuser"},(0,s.v_)(ne.value.Username.toUpperCase()),513),(0,c.bF)(x.D,{onClick:t[1]||(t[1]=function(t){Lr(),e.logout()})},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{size:"18px"},{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-logout")]})),_:1})]})),_:1}),(0,c.bF)(x.D,{value:"quit",onClick:t[2]||(t[2]=function(e){return Kr()}),style:{width:"48px"},class:"NOMOBILE"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,null,{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-window-minimize")]})),_:1})]})),_:1}),(0,c.bF)(x.D,{value:"quit",color:"red",onClick:t[3]||(t[3]=function(e){return Wr()}),style:{width:"48px"}},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{size:"24px"},{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-power")]})),_:1})]})),_:1})]})),key:"0"}:void 0]),1024),(0,c.bF)(bt.Y,null,{default:(0,c.k6)((function(){return[(0,c.bF)(ct.I,null,{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:"menu",style:{float:"left",overflow:"auto","max-height":"80vh",height:"80vh"}},{default:(0,c.k6)((function(){return[(0,c.bF)(At.h,{modelValue:e.tab,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.tab=t}),"align-tabs":"end","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","show-arrows":"",color:"deep-purple-accent-4","center-active":""},{default:(0,c.k6)((function(){return[(0,c.Lk)("b",null,[(0,c.bF)(Vt.U,{onClick:t[4]||(t[4]=function(e){return(0,d.i9)(qn)?qn.value=0:qn=0}),key:"-1",color:"orange"},{default:(0,c.k6)((function(){return[(0,c.eW)(" Favoris ")]})),_:1})]),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.categories,(function(t){return(0,c.uX)(),(0,c.CE)("b",{key:t.categoryid},[((0,c.uX)(),(0,c.Wv)(Vt.U,{color:"orange",onClick:function(n){(0,d.i9)(pe)?pe.value=!1:pe=!1,e.selectedcategory=t,(0,d.i9)(qn)?qn.value=e.tab:qn=e.tab},key:t.categoryid},{default:(0,c.k6)((function(){return[(0,c.eW)((0,s.v_)(t.categoryname)+" ",1),e.isadmin?((0,c.uX)(),(0,c.Wv)(ft.w,{key:0,icon:"mdi-menu-down",style:{padding:"6px"},size:"x-large"})):(0,c.Q3)("",!0),(0,c.bF)(gt.q,{activator:"parent"},{default:(0,c.k6)((function(){return[e.isadmin?((0,c.uX)(),(0,c.Wv)(mt.x8,{key:0},{default:(0,c.k6)((function(){return[(0,c.bF)(vt.g,null,{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{onClick:function(n){return e.deleteCategory(t)}},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-trash-can",style:{"margin-right":"15px"}}),(0,c.eW)(" Supprimer")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,c.bF)(vt.g,null,{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{onClick:function(e){return Mo(t)}},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-pencil",style:{"margin-right":"15px"}}),(0,c.eW)("Editer")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)):(0,c.Q3)("",!0)]})),_:2},1024)]})),_:2},1032,["onClick"]))])})),128)),e.isadmin?((0,c.uX)(),(0,c.CE)("b",Ut,[(0,c.bF)(Vt.U,{onClick:t[5]||(t[5]=function(e){return So()})},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{size:"32"},{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-plus")]})),_:1})]})),_:1})])):(0,c.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,c.bF)(Lt.l,{modelValue:e.tab,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.tab=t}),id:"menuwindow"},{default:(0,c.k6)((function(){return[((0,c.uX)(),(0,c.CE)(c.FK,null,(0,c.pI)(24,(function(t){return(0,c.bF)(Rt.Y,{key:t,value:t},{default:(0,c.k6)((function(){return[(0,c.bF)(ct.I,{fluid:"",style:{"text-align":"center"}},{default:(0,c.k6)((function(){return[(0,c.bF)(st.L,{ref_for:!0,ref:"sortableContainer",class:"sortable-grid"},{default:(0,c.k6)((function(){return[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)((0,d.R1)(b),(function(t,n){return(0,c.uX)(),(0,c.Wv)(dt.B,{key:t.text,cols:"12",md:"2",class:"sortable-item","data-index":n},{default:(0,c.k6)((function(){var n;return[(0,c.bF)(I.J,{disabled:Bo(e.btnvalidatedisabled,e.ticketvalidate,Gr.get(null===(n=ne.value)||void 0===n?void 0:n.Username),e.isadmin,U.value,S.value),style:{"background-color":"transparent","line-height":"3mm"},onClick:function(n){return e.elementClick(t)},elevation:5,class:"card-element",rounded:"lg"},{default:(0,c.k6)((function(){return[(0,c.bF)(gt.q,{activator:"parent"},{default:(0,c.k6)((function(){return[e.isadmin?((0,c.uX)(),(0,c.Wv)(mt.x8,{key:0},{default:(0,c.k6)((function(){return[(0,c.bF)(vt.g,null,{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{onClick:function(n){return e.deleteProduct(t)},style:{"font-size":"14px"}},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-trash-can",style:{"margin-right":"5px","font-size":"14px",color:"orangered"}}),(0,c.eW)(" Supprimer ")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,c.bF)(vt.g,null,{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{onClick:function(n){e.editelement=t,Po()},style:{"font-size":"14px"}},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-pencil",style:{"margin-right":"5px","font-size":"14px",color:"darkgreen"}}),(0,c.eW)(" Editer ")]})),_:2},1032,["onClick"])]})),_:2},1024),e.selectedcategory.categoryid>0?((0,c.uX)(),(0,c.Wv)(vt.g,{key:0},{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{style:{"font-size":"14px"}},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-pencil",style:{"margin-right":"5px","font-size":"14px",color:"darkgreen"}}),(0,c.eW)(" Catégorie ")]})),_:1}),(0,c.bF)(gt.q,{activator:"parent",submenu:"",location:"end"},{default:(0,c.k6)((function(){return[(0,c.bF)(mt.x8,null,{default:(0,c.k6)((function(){return[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.categories,(function(n){return(0,c.uX)(),(0,c.Wv)(vt.g,{key:n.categoryid,link:"",onClick:function(r){return _n(t,n,e.selectedcategory.categoryid)}},{default:(0,c.k6)((function(){return[(0,c.bF)(kt.U,{class:(0,s.C4)(t.category==n.categoryid?"highlighted":null)},{default:(0,c.k6)((function(){return[(0,c.eW)((0,s.v_)(n.categoryname),1)]})),_:2},1032,["class"])]})),_:2},1032,["onClick"])})),128))]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)):(0,c.Q3)("",!0)]})),_:2},1024)):(0,c.Q3)("",!0)]})),_:2},1024),(0,c.bF)(Te.y,{src:e.getImageURL(t.image),class:"card-element-image",rounded:"lg",cover:""},null,8,["src"]),(0,c.Lk)("label",St,(0,s.v_)(t.text),1)]})),_:2},1032,["disabled","onClick"])]})),_:2},1032,["data-index"])})),128)),(0,c.bF)(dt.B,null,{default:(0,c.k6)((function(){return[(0,c.Lk)("div",Tt,[e.isadmin&&0!=e.tab?((0,c.uX)(),(0,c.Wv)(I.J,{key:0,onClick:Oo,style:{"background-color":"transparent","line-height":"3mm","vertical-align":"center"},elevation:10,class:"card-element-no-drag",rounded:"lg"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{size:"48",style:{"margin-top":"50px"}},{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-plus")]})),_:1})]})),_:1})):(0,c.Q3)("",!0)])]})),_:1})]})),_:1},512)]})),_:1})]})),_:2},1032,["value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,c.bF)(pt.h),(0,c.bF)(I.J,{style:{float:"right"},class:"mx-auto ticket",width:"34%"},{default:(0,c.k6)((function(){return[(0,c.bF)(ht.w,{style:{"font-weight":"bolder",width:"100%"}},{default:(0,c.k6)((function(){return[(0,c.eW)(" Ticket N° : "+(0,s.v_)(e.ticketnumber),1)]})),_:1}),(0,d.R1)(h).Member?((0,c.uX)(),(0,c.Wv)(ht.w,{key:0,style:{"font-weight":"bolder",width:"100%"}},{default:(0,c.k6)((function(){return[(0,c.eW)(" Nom de l'abonné(e) : "+(0,s.v_)((0,d.R1)(h).Member.name)+" ",1),(0,d.R1)(h).Member.isGold?((0,c.uX)(),(0,c.Wv)(ft.w,{key:0,color:"amber-darken-2",size:"small",class:"ml-2"},{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-crown")]})),_:1})):(0,c.Q3)("",!0)]})),_:1})):(0,c.Q3)("",!0),(0,c.bF)(mt.x8,{style:{"max-height":"40vh","overflow-y":"auto"},id:"listticket"},{default:(0,c.k6)((function(){return[(0,c.bF)(ot.G),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.ticket[0].content,(function(t){return(0,c.uX)(),(0,c.Wv)(vt.g,{key:t.ID},{default:(0,c.k6)((function(){return[(0,c.bF)(_t.Y,{disabled:e.btnvalidatedisabled&&!e.ticketvalidate,location:"left center",transition:"fade-transition"},{activator:(0,c.k6)((function(e){var n=e.props;return[(0,c.bF)(tt.x,(0,c.v6)({ref_for:!0},n,{size:"small",color:"orange",text:t.count}),null,16,["text"])]})),default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{key:"1",icon:"mdi-comment-text",style:{color:"mediumslateblue","background-color":"yellow"},size:"small",onClick:function(e){return rr(t)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"1",icon:"$clear",color:"red",size:"small",onClick:function(n){return e.removeFromTicket(t.id)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"2",icon:"$plus",color:"green",size:"small",onClick:function(n){return e.increaseCount(t)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"3",icon:"$minus",color:"orange",size:"small",style:{color:"white !important"},onClick:function(n){return e.reduceCount(t)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"4",icon:"mdi-dialpad",color:"orangered",size:"small",style:{color:"white !important","background-color":"grey !important"},onClick:function(n){return e.showPad(t)}},null,8,["onClick"])]})),_:2},1032,["disabled"]),(0,c.bF)(a,{style:{"font-size":"13px"}},{default:(0,c.k6)((function(){return[(0,c.Lk)("label",Ot,(0,s.v_)(t.text),1),(0,c.Lk)("span",Wt,(0,s.v_)((t.count*parseFloat(t.price)).toFixed(2)),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),(0,c.bF)(ot.G),(0,c.Lk)("div",Pt,[Kt,(0,c.Lk)("span",Nt,"-"+(0,s.v_)(parseFloat(e.ticket[0].discount).toFixed(2)||(0).toFixed(2)),1)]),(0,c.Lk)("div",It,[Mt,(0,c.Lk)("span",zt,(0,s.v_)(e.ticket[0].totalticket.toFixed(2)),1)]),(0,c.bF)(ot.G),(0,c.Lk)("div",jt,[(0,c.bF)(x.D,{style:{"background-color":"chocolate",float:"left",width:"45%"},onClick:t[8]||(t[8]=function(t){e.emptyTicket(),cr()}),disabled:e.btnvalidatedisabled&&!e.ticketvalidate},{default:(0,c.k6)((function(){return[(0,c.eW)(" vider")]})),_:1},8,["disabled"]),(0,c.bF)(x.D,{style:{"background-color":"cadetblue",float:"right",width:"45%"},onClick:t[9]||(t[9]=function(t){return e.validateTicket(Gr,Fe.value,Lr)}),disabled:Ke(e.btnvalidatedisabled)},{default:(0,c.k6)((function(){return[(0,c.eW)(" Valider")]})),_:1},8,["disabled"]),(0,c.bF)(x.D,{onClick:t[10]||(t[10]=function(t){return e.printReceipt(Fe.value,Lr)}),style:{"background-color":"darkolivegreen",float:"right",width:"45%","margin-top":"5px"},disabled:e.ticketvalidate},{default:(0,c.k6)((function(){return[(0,c.eW)(" Imprimer")]})),_:1},8,["disabled"]),Jt,(0,c.bF)(x.D,{style:{"background-color":"darkseagreen",float:"bottom",width:"100%","margin-top":"20px"},disabled:!e.btnvalidatedisabled,onClick:t[11]||(t[11]=function(t){e.newTicket(),sr()}),id:"newticketbutton"},{default:(0,c.k6)((function(){return[(0,c.eW)(" Nouveau ticket")]})),_:1},8,["disabled"])]),(0,c.Lk)("div",Bt,[(0,c.bF)(M.d4,{label:"Serveur",items:P.value,variant:"outlined",ref_key:"waiterbox",ref:Ce,disabled:$n(),modelValue:S.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return S.value=e})},null,8,["items","disabled","modelValue"])])]})),_:1})]})),_:1})]})),_:1}),(0,c.bF)(Ye.i,null,{default:(0,c.k6)((function(){var n,r;return["Gérant"==(null===(n=ne.value)||void 0===n?void 0:n.Role)||"SETUP"==(null===(r=ne.value)||void 0===r?void 0:r.Username)?((0,c.uX)(),(0,c.Wv)(x.D,{key:0,value:"Administrer",onClick:t[13]||(t[13]=function(t){return e.showadminlogin(Lr)}),class:"bottomnavbutton"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{ref:"adminicon",class:(0,s.C4)(e.adminclass)},{default:(0,c.k6)((function(){return[(0,c.eW)((0,s.v_)(e.adminloginicon),1)]})),_:1},8,["class"]),Xt]})),_:1})):(0,c.Q3)("",!0),(0,c.bF)(x.D,{value:"session",onClick:t[14]||(t[14]=function(e){return Zr()}),class:"bottomnavbutton"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{ref:"session_icon",class:(0,s.C4)(qr.value)},{default:(0,c.k6)((function(){return[(0,c.eW)((0,s.v_)(Qr.value),1)]})),_:1},8,["class"]),(0,c.Lk)("span",null,(0,s.v_)(Xr.value),1)]})),_:1}),(0,c.bF)(x.D,{value:"orderslist",onClick:t[15]||(t[15]=function(e){return zr()}),class:"bottomnavbutton"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{ref:"orderslist"},{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-format-list-bulleted")]})),_:1},512),Qt]})),_:1}),(0,c.bF)(x.D,{value:"Situation",onClick:t[16]||(t[16]=function(e){return gr()}),class:"bottomnavbutton"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,null,{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-cash")]})),_:1}),qt]})),_:1}),(0,c.bF)(x.D,{value:"vkeyboard",onClick:t[17]||(t[17]=function(e){return Ar()}),class:"NOMOBILE"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,null,{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-keyboard")]})),_:1}),Gt]})),_:1}),(0,c.bF)(x.D,{value:"Ticket",onClick:t[18]||(t[18]=function(t){return e.showTicketOnLowResolution()}),class:"showinlowresolution bottomnavbutton"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,null,{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-receipt")]})),_:1}),Ht]})),_:1})]})),_:1}),(0,c.bF)(I.J,null,{default:(0,c.k6)((function(){return[e.isadmin?((0,c.uX)(),(0,c.Wv)(yt.e,{key:0,modelValue:O.value,"onUpdate:modelValue":t[22]||(t[22]=function(e){return O.value=e}),location:e.$vuetify.display.mobile?"bottom":void 0,temporary:""},{default:(0,c.k6)((function(){return[(0,c.bF)(mt.x8,{density:"compact",nav:""},{default:(0,c.k6)((function(){return[e.isadmin?((0,c.uX)(),(0,c.Wv)(vt.g,{key:0,"prepend-icon":"mdi-tune",title:"Paramètres",value:"params",onClick:t[19]||(t[19]=function(t){e.paramsdialog=!0,O.value=!1})})):(0,c.Q3)("",!0),e.isadmin?((0,c.uX)(),(0,c.Wv)(vt.g,{key:1,"prepend-icon":"mdi-account-group-outline",title:"Gestion des utilisateurs",value:"usersmanagement",onClick:t[20]||(t[20]=function(e){return X.value=!X.value})})):(0,c.Q3)("",!0),e.isadmin?((0,c.uX)(),(0,c.Wv)(vt.g,{key:2,"prepend-icon":"mdi-printer-settings",title:"Gestion de l'impression",value:"printingmanagement",onClick:t[21]||(t[21]=function(e){return ae.value=!ae.value})})):(0,c.Q3)("",!0)]})),_:1})]})),_:1},8,["modelValue","location"])):(0,c.Q3)("",!0)]})),_:1}),(0,c.Lk)("div",Yt,[(0,c.bF)(F.p,{modelValue:e.paramsdialog,"onUpdate:modelValue":t[34]||(t[34]=function(t){return e.paramsdialog=t}),width:"auto","max-height":"600",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"max-width":"400","max-height":"600","prepend-icon":"mdi-tune",text:"Ici vous pouvez modifier les paramètres de l'application",title:"Pramètres de l'application"},{actions:(0,c.k6)((function(){return[(0,c.bF)(x.D,{class:"ms-auto",text:"Fermer",onClick:t[33]||(t[33]=function(t){return e.paramsdialog=!1})})]})),default:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(at.$,null,{default:(0,c.k6)((function(){return[(0,c.bF)(ut.c,null,{default:(0,c.k6)((function(){return[(0,c.bF)(it.w,{"collapse-icon":"mdi-minus","expand-icon":"mdi-plus"},{default:(0,c.k6)((function(){return[(0,c.eW)(" Pramètres généraux ")]})),_:1}),(0,c.bF)(lt.T,null,{default:(0,c.k6)((function(){return[(0,c.bF)(z.W,{clearable:"",modelValue:xe.value.posname,"onUpdate:modelValue":t[23]||(t[23]=function(e){return xe.value.posname=e}),label:"Intitulé du point de vent",variant:"solo",dense:"",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"]),(0,c.bF)(z.W,{clearable:"",modelValue:xe.value.address,"onUpdate:modelValue":t[24]||(t[24]=function(e){return xe.value.address=e}),label:"Adresse",variant:"solo",dense:"",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"]),(0,c.bF)(z.W,{clearable:"",label:"Téléphone",modelValue:xe.value.phone,"onUpdate:modelValue":t[25]||(t[25]=function(e){return xe.value.phone=e}),variant:"solo",dense:"",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"]),(0,c.bF)(z.W,{clearable:"",label:"Code WIFI",modelValue:xe.value.wificode,"onUpdate:modelValue":t[26]||(t[26]=function(e){return xe.value.wificode=e}),variant:"solo",dense:"",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"]),(0,c.bF)(x.D,{text:"Enregister",onClick:t[27]||(t[27]=function(e){return ir()}),style:{color:"darkcyan","margin-left":"65%"}})]})),_:1})]})),_:1}),(0,c.bF)(ut.c,null,{default:(0,c.k6)((function(){return[(0,c.bF)(it.w,{"collapse-icon":"mdi-minus","expand-icon":"mdi-plus"},{default:(0,c.k6)((function(){return[(0,c.eW)(" Sécurité ")]})),_:1}),(0,c.bF)(lt.T,null,{default:(0,c.k6)((function(){return[(0,c.bF)(Ft.$,{label:"Mode de déconnexion",modelValue:Fe.value.disconnectmode,"onUpdate:modelValue":t[28]||(t[28]=function(e){return Fe.value.disconnectmode=e})},{default:(0,c.k6)((function(){return[(0,c.bF)(xt.i,{label:"Déconnecter après validation",value:"one"}),(0,c.bF)(xt.i,{label:"Déconnecter après impression",value:"two"})]})),_:1},8,["modelValue"]),(0,c.bF)(x.D,{text:"Enregister",onClick:t[29]||(t[29]=function(e){return ar()}),style:{color:"darkcyan","margin-left":"65%"}})]})),_:1})]})),_:1}),(0,c.bF)(ut.c,null,{default:(0,c.k6)((function(){return[(0,c.bF)(it.w,{"collapse-icon":"mdi-minus","expand-icon":"mdi-plus"},{default:(0,c.k6)((function(){return[(0,c.eW)(" Autorisations ")]})),_:1}),(0,c.bF)(lt.T,null,{default:(0,c.k6)((function(){return[(0,c.bF)(Me.a,{modelValue:U.value.managercancreatetickets,"onUpdate:modelValue":t[30]||(t[30]=function(e){return U.value.managercancreatetickets=e}),label:"Permettre au manager de créer des commandes."},null,8,["modelValue"]),(0,c.bF)(Me.a,{modelValue:U.value.managercanselectwaiter,"onUpdate:modelValue":t[31]||(t[31]=function(e){return U.value.managercanselectwaiter=e}),label:"Permettre au manager de selectionner le serveur manuellement."},null,8,["modelValue"]),(0,c.bF)(x.D,{text:"Enregister",onClick:t[32]||(t[32]=function(e){return Zn()}),style:{color:"darkcyan","margin-left":"65%"}})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",$t,[(0,c.bF)($e.R,{modelValue:e.sheet,"onUpdate:modelValue":t[41]||(t[41]=function(t){return e.sheet=t}),inset:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:"text-left",height:"400"},{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{size:"x-large",onClick:t[35]||(t[35]=function(t){return e.sheet=!e.sheet})},{default:(0,c.k6)((function(){return[(0,c.eW)("Fermer")]})),_:1}),(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(ht.w,{style:{"font-weight":"bolder",width:"100%"}},{default:(0,c.k6)((function(){return[(0,c.eW)(" Ticket N° : "+(0,s.v_)(e.ticketnumber),1)]})),_:1}),(0,c.bF)(mt.x8,{style:{"max-height":"50vh","overflow-y":"auto"},id:"listticket"},{default:(0,c.k6)((function(){return[(0,c.bF)(ot.G),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.ticket[0].content,(function(t){return(0,c.uX)(),(0,c.Wv)(vt.g,{key:t.ID},{default:(0,c.k6)((function(){return[(0,c.bF)(_t.Y,{location:"left center",transition:"fade-transition"},{activator:(0,c.k6)((function(e){var n=e.props;return[(0,c.bF)(tt.x,(0,c.v6)({ref_for:!0},n,{style:{},size:"small",color:"orange",text:t.count}),null,16,["text"])]})),default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{key:"1",icon:"mdi-comment-text",style:{color:"mediumslateblue","background-color":"yellow"},size:"small",onClick:function(e){return rr(t)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"1",icon:"$clear",color:"red",size:"small",onClick:function(n){return e.removeFromTicket(t.id)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"2",icon:"$plus",color:"green",size:"small",onClick:function(n){return e.increaseCount(t)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"3",icon:"$minus",color:"orange",size:"small",style:{color:"white !important"},onClick:function(n){return e.reduceCount(t)}},null,8,["onClick"]),(0,c.bF)(x.D,{key:"4",icon:"mdi-dialpad",color:"orange",size:"small",style:{color:"white !important","background-color":"grey !important"},onClick:function(n){return e.showPad(t)}},null,8,["onClick"])]})),_:2},1024),(0,c.bF)(a,{style:{"font-size":"11px"}},{default:(0,c.k6)((function(){return[(0,c.Lk)("label",Zt,(0,s.v_)(t.text),1),(0,c.Lk)("span",en,(0,s.v_)((t.count*parseFloat(t.price)).toFixed(2)),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),(0,c.bF)(ot.G),(0,c.Lk)("div",tn,[nn,(0,c.Lk)("span",rn,(0,s.v_)(e.ticket[0].totalticket.toFixed(2)),1)]),(0,c.bF)(ot.G),(0,c.Lk)("div",on,[(0,c.bF)(x.D,{style:{"background-color":"orange",float:"left",width:"45%"},onClick:t[36]||(t[36]=function(t){e.emptyTicket(),cr()}),disabled:e.btnvalidatedisabled&&!e.ticketvalidate},{default:(0,c.k6)((function(){return[(0,c.eW)(" vider")]})),_:1},8,["disabled"]),(0,c.bF)(x.D,{style:{"background-color":"cadetblue",float:"right",width:"45%"},onClick:t[37]||(t[37]=function(t){return e.validateTicket(Gr,Fe.value,Lr)}),disabled:e.btnvalidatedisabled},{default:(0,c.k6)((function(){return[(0,c.eW)(" Valider")]})),_:1},8,["disabled"]),(0,c.bF)(x.D,{onClick:t[38]||(t[38]=function(t){return e.printReceipt(Fe.value,Lr)}),style:{"background-color":"darkolivegreen",float:"right",width:"45%","margin-top":"5px"},disabled:e.ticketvalidate},{default:(0,c.k6)((function(){return[(0,c.eW)(" Imprimer")]})),_:1},8,["disabled"]),an,(0,c.bF)(x.D,{style:{"background-color":"darkseagreen",float:"bottom",width:"100%","margin-top":"20px"},disabled:!e.btnvalidatedisabled,onClick:t[39]||(t[39]=function(t){e.newTicket(),sr()})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Nouveau ticket")]})),_:1},8,["disabled"])]),(0,c.Lk)("div",un,[(0,c.bF)(M.d4,{label:"Serveur",items:P.value,variant:"outlined",ref_key:"waiterbox",ref:Ce,modelValue:S.value,"onUpdate:modelValue":t[40]||(t[40]=function(e){return S.value=e}),readonly:""},null,8,["items","modelValue"])])])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,c.bF)(Ue,{modelValue:_.value,"onUpdate:modelValue":[t[42]||(t[42]=function(e){return _.value=e}),To],categorytoedit:(0,d.R1)(de),onAlert:e.alertHandler,categories:e.categories},null,8,["modelValue","categorytoedit","onAlert","categories"]),e.isadmin?((0,c.uX)(),(0,c.Wv)(Ie,{key:0,parentcategory:e.selectedcategory,modelValue:A.value,"onUpdate:modelValue":[t[43]||(t[43]=function(e){return A.value=e}),Wo],onAlert:e.alertHandler},null,8,["parentcategory","modelValue","onAlert"])):(0,c.Q3)("",!0),e.isadmin?((0,c.uX)(),(0,c.Wv)(Xe,{key:1,editproduct:e.editelement,modelValue:V.value,"onUpdate:modelValue":[t[44]||(t[44]=function(e){return V.value=e}),Ko],onAlert:e.alertHandler,categories:e.categories},null,8,["editproduct","modelValue","onAlert","categories"])):(0,c.Q3)("",!0),e.isadmin?((0,c.uX)(),(0,c.Wv)(Q,{key:2,modelValue:L.value,"onUpdate:modelValue":[t[45]||(t[45]=function(e){return L.value=e}),Eo],onAlert:e.alertHandler,onInform:No},null,8,["modelValue","onAlert"])):(0,c.Q3)("",!0),e.isadmin?((0,c.uX)(),(0,c.Wv)($,{key:3,modelValue:R.value,"onUpdate:modelValue":[t[46]||(t[46]=function(e){return R.value=e}),Uo],onAlert:e.alertHandler,onInform:No,usertoedit:(0,d.R1)(te)},null,8,["modelValue","onAlert","usertoedit"])):(0,c.Q3)("",!0),(0,c.Lk)("div",ln,[(0,c.bF)($e.R,{modelValue:Dr.value,"onUpdate:modelValue":t[48]||(t[48]=function(e){return Dr.value=e}),inset:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:(0,s.C4)(Sr.value),id:"alertcard",height:"150",style:{opacity:"0.9"}},{default:(0,c.k6)((function(){return[(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{variant:"text",onClick:t[47]||(t[47]=function(e){return Dr.value=!Dr.value})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.Lk)("div",null,(0,s.v_)(Ur.value),1)]})),_:1})]})),_:1},8,["class"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",cn,[(0,c.bF)($e.R,{modelValue:e.showalert,"onUpdate:modelValue":t[50]||(t[50]=function(t){return e.showalert=t}),inset:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:(0,s.C4)(e.alertcardclass),id:"alertcard",height:"150",style:{opacity:"0.9"}},{default:(0,c.k6)((function(){return[(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{variant:"text",onClick:t[49]||(t[49]=function(t){return e.showalert=!e.showalert})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.Lk)("div",null,(0,s.v_)(e.alerttext),1)]})),_:1})]})),_:1},8,["class"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",sn,[(0,c.bF)(F.p,{modelValue:e.confirmdialog,"onUpdate:modelValue":t[53]||(t[53]=function(t){return e.confirmdialog=t}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-delete",text:e.confirmationtext,title:"Supression"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[51]||(t[51]=function(t){e.confirmDelete(),e.confirmdialog=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[52]||(t[52]=function(t){return e.confirmdialog=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.bF)(F.p,{modelValue:Er.value,"onUpdate:modelValue":t[57]||(t[57]=function(e){return Er.value=e}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-comment-text",title:"Message"},{default:(0,c.k6)((function(){return[(0,c.bF)(Et.J,{class:"ma-2",modelValue:j.value,"onUpdate:modelValue":t[54]||(t[54]=function(e){return j.value=e}),label:"Message","bg-color":"amber-lighten-4",onFocus:(0,d.R1)(w),clearable:""},null,8,["modelValue","onFocus"]),(0,c.bF)(x.D,{onClick:t[55]||(t[55]=function(e){return or(K.value)})},{default:(0,c.k6)((function(){return[(0,c.eW)("Enregistrer")]})),_:1}),(0,c.bF)(x.D,{onClick:t[56]||(t[56]=function(e){return Er.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,c.Lk)("div",dn,[(0,c.bF)(F.p,{modelValue:We.value,"onUpdate:modelValue":t[60]||(t[60]=function(e){return We.value=e}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-delete",text:D.value,title:"Supression de profile d'impression"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[58]||(t[58]=function(e){je(),We.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[59]||(t[59]=function(e){return E.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",pn,[(0,c.bF)(F.p,{modelValue:E.value,"onUpdate:modelValue":t[63]||(t[63]=function(e){return E.value=e}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-delete",text:D.value,title:"Supression"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[61]||(t[61]=function(t){Vo(),e.confirmdialog=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[62]||(t[62]=function(e){return E.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",fn,[(0,c.bF)(F.p,{modelValue:go.value,"onUpdate:modelValue":t[66]||(t[66]=function(e){return go.value=e}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-marker-check",text:yo.value,title:"Paiement"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[64]||(t[64]=function(e){Fo(),go.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[65]||(t[65]=function(e){return go.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",mn,[(0,c.bF)(F.p,{modelValue:fo.value,"onUpdate:modelValue":t[69]||(t[69]=function(e){return fo.value=e}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-cancel",text:mo.value,title:"Annulation"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[67]||(t[67]=function(e){ho(),fo.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[68]||(t[68]=function(e){return fo.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",vn,[(0,c.bF)(F.p,{modelValue:vr.value,"onUpdate:modelValue":t[72]||(t[72]=function(e){return vr.value=e}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-clock-start",text:kr.value,title:"Session"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[70]||(t[70]=function(e){hr(),vr.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[71]||(t[71]=function(e){return vr.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",kn,[(0,c.bF)(F.p,{modelValue:e.deleteproductconfirmdialog,"onUpdate:modelValue":t[75]||(t[75]=function(t){return e.deleteproductconfirmdialog=t}),"max-width":"400",persistent:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-delete",text:e.confirmationtext,title:"Supression"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[73]||(t[73]=function(t){e.confirmDeleteProduct(),e.deleteproductconfirmdialog=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" OUI ")]})),_:1}),(0,c.bF)(x.D,{onClick:t[74]||(t[74]=function(t){return e.deleteproductconfirmdialog=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)(F.p,{modelValue:e.showpad,"onUpdate:modelValue":t[89]||(t[89]=function(t){return e.showpad=t}),width:"150px",class:"centerstuff"},{default:(0,c.k6)((function(){return[(0,c.Lk)("div",hn,(0,s.v_)(e.currentelement.count),1),(0,c.Lk)("div",bn,[(0,c.Lk)("button",{onClick:t[76]||(t[76]=function(t){return e.pressButton("1")})},"1"),(0,c.Lk)("button",{onClick:t[77]||(t[77]=function(t){return e.pressButton("2")})},"2"),(0,c.Lk)("button",{onClick:t[78]||(t[78]=function(t){return e.pressButton("3")})},"3"),(0,c.Lk)("button",{onClick:t[79]||(t[79]=function(t){return e.pressButton("4")})},"4"),(0,c.Lk)("button",{onClick:t[80]||(t[80]=function(t){return e.pressButton("5")})},"5"),(0,c.Lk)("button",{onClick:t[81]||(t[81]=function(t){return e.pressButton("6")})},"6"),(0,c.Lk)("button",{onClick:t[82]||(t[82]=function(t){return e.pressButton("7")})},"7"),(0,c.Lk)("button",{onClick:t[83]||(t[83]=function(t){return e.pressButton("8")})},"8"),(0,c.Lk)("button",{onClick:t[84]||(t[84]=function(t){return e.pressButton("9")})},"9"),(0,c.Lk)("button",{class:"control",onClick:t[85]||(t[85]=function(t){return e.clearDisplay()})},"C"),(0,c.Lk)("button",{onClick:t[86]||(t[86]=function(t){return e.pressButton("0")})},"0"),(0,c.Lk)("button",{class:"control",onClick:t[87]||(t[87]=function(t){return e.deleteLast()})},"⌫"),(0,c.Lk)("button",{class:"validate",onClick:t[88]||(t[88]=function(t){return e.validateInput()})},"✔")])]})),_:1},8,["modelValue"])]),(0,c.bF)(F.p,{modelValue:y.value,"onUpdate:modelValue":t[99]||(t[99]=function(e){return y.value=e}),width:"400",height:"700",class:"centerstuff"},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{"prepend-icon":"mdi-printer",class:"pa-2",title:"Impression"},{actions:(0,c.k6)((function(){return[(0,c.bF)(pt.h),(0,c.bF)(x.D,{onClick:t[98]||(t[98]=function(e){return y.value=!1})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.bF)(x.D,{onClick:Ne,disabled:!Object.values(n.value).every((function(e){return""!==e&&null!==e&&void 0!==e}))},{default:(0,c.k6)((function(){return[(0,c.eW)(" Enregistrer ")]})),_:1},8,["disabled"])]})),default:(0,c.k6)((function(){return[(0,c.bF)(z.W,{label:"Nom du profile",modelValue:n.value.profile,"onUpdate:modelValue":t[90]||(t[90]=function(e){return n.value.profile=e}),variant:"solo-filled",rules:[Hn],density:"compact"},null,8,["modelValue","rules"]),(0,c.bF)(M.d4,{label:"Mode d'impression",modelValue:n.value.printingmode,"onUpdate:modelValue":t[91]||(t[91]=function(e){return n.value.printingmode=e}),items:f.value,variant:"solo-filled",density:"compact",rules:[Hn]},null,8,["modelValue","items","rules"]),(0,c.bF)(M.d4,{label:"Fonction",modelValue:n.value.printingfunction,"onUpdate:modelValue":t[92]||(t[92]=function(e){return n.value.printingfunction=e}),items:m.value,variant:"solo-filled",density:"compact",rules:[Hn]},null,8,["modelValue","items","rules"]),"Personnalisé"==n.value.printingfunction?((0,c.uX)(),(0,c.Wv)(I.J,{key:0,style:{"overflow-y":"scroll"},"min-height":"80"},{default:(0,c.k6)((function(){return[(0,c.bF)(nt.mt,{modelValue:n.value.printingoptions,"onUpdate:modelValue":t[93]||(t[93]=function(e){return n.value.printingoptions=e}),column:"",multiple:""},{default:(0,c.k6)((function(){return[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.categories,(function(e){return(0,c.uX)(),(0,c.Wv)(tt.x,{style:{"font-size":"0.6rem"},key:e.categoryid,text:e.categoryname,value:e.categoryid,variant:"outlined",filter:""},null,8,["text","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})):(0,c.Q3)("",!0),(0,c.bF)(z.W,{label:"Adresse IP",modelValue:n.value.printerip,"onUpdate:modelValue":t[94]||(t[94]=function(e){return n.value.printerip=e}),variant:"solo-filled",density:"compact",rules:[Hn]},null,8,["modelValue","rules"]),(0,c.bF)(z.W,{label:"Port",modelValue:n.value.printerport,"onUpdate:modelValue":t[95]||(t[95]=function(e){return n.value.printerport=e}),variant:"solo-filled",density:"compact",rules:[Hn]},null,8,["modelValue","rules"]),(0,c.bF)(u,{modelValue:n.value.copies,"onUpdate:modelValue":t[96]||(t[96]=function(e){return n.value.copies=e}),label:"Copies",density:"compact",variant:"solo-filled","control-variant":"hidden",rules:[Hn],min:"1"},null,8,["modelValue","rules"]),(0,c.bF)(Oe.N,{modelValue:n.value.active,"onUpdate:modelValue":t[97]||(t[97]=function(e){return n.value.active=e}),color:"green",label:n.value.active?"Actif":"Inactif","hide-details":""},null,8,["modelValue","label"])]})),_:1})]})),_:1},8,["modelValue"]),(0,c.Lk)("div",null,[(0,c.bF)(F.p,{modelValue:e.showadminprompt,"onUpdate:modelValue":t[103]||(t[103]=function(t){return e.showadminprompt=t}),width:"150px",class:"centerstuff"},{default:(0,c.k6)((function(){return[(0,c.Lk)("div",gn,[(0,c.bo)((0,c.Lk)("input",{ref:"adminpass",type:"password","onUpdate:modelValue":t[100]||(t[100]=function(t){return e.adminpassword=t}),style:{width:"80%",color:"black","text-align":"center","font-size":"20px","border-color":"darkslateblue","background-color":"darkseagreen","border-radius":"10px","border-style":"solid","border-width":"3px"},onFocus:t[101]||(t[101]=function(){return(0,d.R1)(w)&&(0,d.R1)(w).apply(void 0,arguments)})},null,544),[[r.Jo,e.adminpassword]]),(0,c.bF)(x.D,{style:{"margin-top":"20px","background-color":"darkolivegreen",color:"white"},onClick:t[102]||(t[102]=function(t){return e.adminLogin()})},{default:(0,c.k6)((function(){return[(0,c.eW)("Go")]})),_:1})])]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)($e.R,{modelValue:q.value,"onUpdate:modelValue":t[115]||(t[115]=function(e){return q.value=e})},{default:(0,c.k6)((function(){return[(0,c.Lk)("div",null,[(0,c.bF)(N,{order:Z.value,settings:xe.value,modelValue:ve.value,"onUpdate:modelValue":t[104]||(t[104]=function(e){return ve.value=e}),onClose:t[105]||(t[105]=function(e){return ve.value=!1})},null,8,["order","settings","modelValue"])]),(0,c.bF)(I.J,{class:"text-center",height:"100vh"},{default:(0,c.k6)((function(){return[(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{variant:"text",onClick:t[106]||(t[106]=function(e){return q.value=!q.value})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.Lk)("div",null,[(0,c.bF)(I.J,{flat:""},{default:(0,c.k6)((function(){return[(0,c.bF)(et.r,{class:"d-flex"},{default:(0,c.k6)((function(){return[(0,c.bo)((0,c.Lk)("input",{type:"date","onUpdate:modelValue":t[107]||(t[107]=function(e){return ke.value=e})},null,512),[[r.Jo,ke.value]]),yn,(0,c.bo)((0,c.Lk)("input",{type:"time",id:"appt-time",name:"appt-time",step:"600",value:"00:00:01","onUpdate:modelValue":t[108]||(t[108]=function(e){return he.value=e})},null,512),[[r.Jo,he.value]]),wn,(0,c.bo)((0,c.Lk)("select",{id:"statusbox",name:"language","onUpdate:modelValue":t[109]||(t[109]=function(e){return re.value=e}),onChange:Vr},An,544),[[r.u1,re.value]]),(0,c.bF)(pt.h),(0,c.bF)(z.W,{modelValue:H.value,"onUpdate:modelValue":t[110]||(t[110]=function(e){return H.value=e}),density:"compact",label:"Recherche","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":"","max-width":"300",style:{height:"40px"},onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]})),_:1}),(0,c.bF)(et.r,{class:"d-flex"},{default:(0,c.k6)((function(){return[(0,c.bo)((0,c.Lk)("input",{type:"date","onUpdate:modelValue":t[111]||(t[111]=function(e){return be.value=e})},null,512),[[r.Jo,be.value]]),Vn,(0,c.bo)((0,c.Lk)("input",{type:"time",id:"appt-time",name:"appt-time",step:"600",value:"23:59:59","onUpdate:modelValue":t[112]||(t[112]=function(e){return ye.value=e})},null,512),[[r.Jo,ye.value]]),(0,c.bF)(x.D,{style:{"margin-top":"5px","margin-left":"10px"},onClick:Ir},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,null,{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-refresh")]})),_:1}),(0,c.eW)(" Recharger")]})),_:1}),(0,c.bF)(x.D,{style:{"margin-top":"5px","margin-left":"10px"},onClick:t[113]||(t[113]=function(e){return Yn()})},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,null,{default:(0,c.k6)((function(){return[(0,c.eW)("mdi-file-pdf")]})),_:1}),(0,c.eW)(" Exporter")]})),_:1}),(0,c.bF)(pt.h)]})),_:1}),(0,c.bF)(rt.Py,{id:"orderstable",headers:[{title:"Numéro",align:"start",sortable:!0,key:"number"},{title:"Serveur",key:"waiter"},{title:"Initiateur",key:"creator"},{title:"Date et heure",key:"creationdate"},{title:"Etat",key:"status"},{title:"Total",key:"totalticket"},{title:"Actions",key:"actions"}],search:H.value,"onUpdate:search":t[114]||(t[114]=function(e){return H.value=e}),"filter-keys":["waiter","creator","status","number"],items:se.value,style:{"text-align":"left"},itemsPerPageText:le.itemsPerPageText,itemsPerPageOptions:le.itemsPerPageOptions},(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},"item.status",(0,c.k6)((function(e){var t=e.item;return[(0,c.Lk)("p",{class:(0,s.C4)(t.status)},(0,s.v_)(t.status),3)]}))),"item.totalticket",(0,c.k6)((function(e){var t=e.item;return[(0,c.Lk)("p",null,(0,s.v_)(t.totalticket.toFixed(2)),1)]}))),"item.actions",(0,c.k6)((function(e){var t,n=e.item;return[(0,c.bF)(ft.w,{class:"me-2",size:"large",onClick:function(e){return xo(n)}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-cash-check ")]})),_:2},1032,["onClick"]),(0,c.bF)(ft.w,{size:"large",style:{"margin-left":"5px"},onClick:function(e){return _o(n)}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-eye ")]})),_:2},1032,["onClick"]),"Gérant"==(null===(t=ne.value)||void 0===t?void 0:t.Role)?((0,c.uX)(),(0,c.Wv)(ft.w,{key:0,size:"large",style:{"margin-left":"5px"},onClick:function(e){return ko(n)}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-cancel ")]})),_:2},1032,["onClick"])):(0,c.Q3)("",!0)]}))),"_",2),1032,["search","items","itemsPerPageText","itemsPerPageOptions"])]})),_:1})])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)($e.R,{modelValue:ee.value,"onUpdate:modelValue":t[119]||(t[119]=function(e){return ee.value=e}),inset:"",class:"situation"},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:"text-center",height:"55vh"},{default:(0,c.k6)((function(){return[(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{variant:"text",onClick:t[116]||(t[116]=function(e){return ee.value=!ee.value})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.bF)(I.J,{flat:""},{default:(0,c.k6)((function(){var e,n,r,o,a,u,i,l,d,p,f,m,v,k,h,b;return[(0,c.bF)(et.r,{class:"d-flex align-center pe-2"},{default:(0,c.k6)((function(){return[(0,c.eW)(" Situation des commandes "),(0,c.bF)(pt.h)]})),_:1}),(0,c.bF)(ot.G),(0,c.bF)(pt.h),(0,c.bF)(M.d4,{label:"Utilisateur",items:ge.value,variant:"outlined","onUpdate:modelValue":[Cr,t[117]||(t[117]=function(e){return C.value=e})],modelValue:C.value},null,8,["items","modelValue"]),(0,c.Lk)("div",Ln,[(0,c.Lk)("table",Rn,[(0,c.Lk)("tr",null,[En,(0,c.Lk)("td",Dn,(0,s.v_)(wr(null===(e=Hr.get(C.value))||void 0===e?void 0:e.start)),1)]),(0,c.Lk)("tr",null,[Un,(0,c.Lk)("td",Sn,(0,s.v_)(wr(null===(n=Hr.get(C.value))||void 0===n?void 0:n.end)),1)]),(0,c.Lk)("tr",null,[Tn,(0,c.Lk)("td",On,(0,s.v_)(""!=wr(null===(r=Hr.get(C.value))||void 0===r?void 0:r.start)?null===(o=xr.value)||void 0===o||null===(o=o.totalpaid)||void 0===o?void 0:o.toFixed(2):"0.00"),1)]),(0,c.Lk)("tr",null,[Wn,(0,c.Lk)("td",Pn,(0,s.v_)(""!=wr(null===(a=Hr.get(C.value))||void 0===a?void 0:a.start)?null===(u=xr.value)||void 0===u?void 0:u.countpaid:"0.00"),1)]),(0,c.Lk)("tr",null,[Kn,(0,c.Lk)("td",Nn,(0,s.v_)(""!=wr(null===(i=Hr.get(C.value))||void 0===i?void 0:i.start)?null===(l=xr.value)||void 0===l||null===(l=l.totalinpaid)||void 0===l?void 0:l.toFixed(2):"0.00"),1)]),(0,c.Lk)("tr",null,[In,(0,c.Lk)("td",Mn,(0,s.v_)(""!=wr(null===(d=Hr.get(C.value))||void 0===d?void 0:d.start)?null===(p=xr.value)||void 0===p?void 0:p.countinpaid:"0.00"),1)]),(0,c.Lk)("tr",null,[zn,(0,c.Lk)("td",jn,(0,s.v_)(""!=wr(null===(f=Hr.get(C.value))||void 0===f?void 0:f.start)?null===(m=xr.value)||void 0===m||null===(m=m.totalcanceled)||void 0===m?void 0:m.toFixed(2):"0.00"),1)]),(0,c.Lk)("tr",null,[Jn,(0,c.Lk)("td",Bn,(0,s.v_)(""!=wr(null===(v=Hr.get(C.value))||void 0===v?void 0:v.start)?null===(k=xr.value)||void 0===k?void 0:k.countcanceled:"0.00"),1)]),(0,c.Lk)("tr",null,[Xn,(0,c.Lk)("td",Qn,(0,s.v_)(""!=wr(null===(h=Hr.get(C.value))||void 0===h?void 0:h.start)?null===(b=xr.value)||void 0===b||null===(b=b.total)||void 0===b?void 0:b.toFixed(2):"0.00"),1)])]),(0,c.bF)(x.D,{color:"orange",style:{float:"right","margin-top":"10px"},onClick:t[118]||(t[118]=function(e){return jo()})},{default:(0,c.k6)((function(){return[(0,c.eW)("Imprimer")]})),_:1})])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)($e.R,{modelValue:ae.value,"onUpdate:modelValue":t[122]||(t[122]=function(e){return ae.value=e}),inset:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:"text-center",height:"70vh",width:"80vw"},{default:(0,c.k6)((function(){return[(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{variant:"text",onClick:t[120]||(t[120]=function(e){return ae.value=!ae.value})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.bF)(x.D,{ariant:"text",onClick:t[121]||(t[121]=function(e){return Ae()})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Nouveau ")]})),_:1}),(0,c.Lk)("div",null,[(0,c.bF)(I.J,{flat:""},{default:(0,c.k6)((function(){return[(0,c.bF)(et.r,{class:"d-flex align-center pe-2"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-printer"}),(0,c.eW)("   Gestion de l'impression ")]})),_:1}),(0,c.bF)(pt.h),(0,c.bF)(rt.Py,{headers:[{title:"Profile",align:"start",sortable:!0,key:"profile"},{title:"Mode",key:"printingmode"},{title:"Fonction",key:"printingfunction"},{title:"Adresse IP",key:"printerip"},{title:"Port",key:"printerport"},{title:"Copies",key:"copies"},{title:"Actif",key:"active"},{title:"Actions",key:"actions"}],items:k.value,style:{"text-align":"left"},itemsPerPageText:ie.itemsPerPageText,itemsPerPageOptions:ie.itemsPerPageOptions},(0,o.A)((0,o.A)((0,o.A)({},"item.active",(0,c.k6)((function(e){var t=e.item;return[(0,c.Lk)("p",{class:(0,s.C4)(t.active?"active":"inactive")},(0,s.v_)(t.active?"Oui":"Non"),3)]}))),"item.actions",(0,c.k6)((function(e){var t=e.item;return[(0,c.bF)(ft.w,{class:"me-2",size:"small",onClick:function(e){n.value=t,Re()}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-pencil ")]})),_:2},1032,["onClick"]),(0,c.bF)(ft.w,{size:"small",onClick:function(e){return Se(t)}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-delete ")]})),_:2},1032,["onClick"])]}))),"_",2),1032,["items","itemsPerPageText","itemsPerPageOptions"])]})),_:1})])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,c.Lk)("div",null,[(0,c.bF)($e.R,{modelValue:X.value,"onUpdate:modelValue":t[127]||(t[127]=function(e){return X.value=e}),inset:""},{default:(0,c.k6)((function(){return[(0,c.bF)(I.J,{class:"text-center",height:"70vh"},{default:(0,c.k6)((function(){return[(0,c.bF)(Ze.O,null,{default:(0,c.k6)((function(){return[(0,c.bF)(x.D,{variant:"text",onClick:t[123]||(t[123]=function(e){return X.value=!X.value})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Fermer ")]})),_:1}),(0,c.bF)(x.D,{ariant:"text",onClick:t[124]||(t[124]=function(e){return Ro()})},{default:(0,c.k6)((function(){return[(0,c.eW)(" Nouveau ")]})),_:1}),(0,c.Lk)("div",null,[(0,c.bF)(I.J,{flat:""},{default:(0,c.k6)((function(){return[(0,c.bF)(et.r,{class:"d-flex align-center pe-2"},{default:(0,c.k6)((function(){return[(0,c.bF)(ft.w,{icon:"mdi-account-group-outline"}),(0,c.eW)("   Liste des utilisateurs "),(0,c.bF)(pt.h),(0,c.bF)(z.W,{modelValue:G.value,"onUpdate:modelValue":t[125]||(t[125]=function(e){return G.value=e}),density:"compact",label:"Recherche","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":"",onFocus:(0,d.R1)(w)},null,8,["modelValue","onFocus"])]})),_:1}),(0,c.bF)(ot.G),(0,c.bF)(pt.h),(0,c.bF)(rt.Py,{headers:[{title:"Nom d'utilisateur",align:"start",sortable:!0,key:"Username"},{title:"Rôle",key:"Role"},{title:"Actions",key:"actions"}],search:G.value,"onUpdate:search":t[126]||(t[126]=function(e){return G.value=e}),"filter-keys":["Username","Role"],items:B.value,style:{"text-align":"left"},itemsPerPageText:ue.itemsPerPageText,itemsPerPageOptions:ue.itemsPerPageOptions},(0,o.A)((0,o.A)({},"item.actions",(0,c.k6)((function(e){var t=e.item;return[(0,c.bF)(ft.w,{class:"me-2",size:"small",onClick:function(e){(0,d.i9)(te)?te.value=t:te=t,Do()}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-pencil ")]})),_:2},1032,["onClick"]),(0,c.bF)(ft.w,{size:"small",onClick:function(e){return Ao(t)}},{default:(0,c.k6)((function(){return[(0,c.eW)(" mdi-delete ")]})),_:2},1032,["onClick"])]}))),"_",2),1032,["search","items","itemsPerPageText","itemsPerPageOptions"])]})),_:1})])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])]})),_:1},8,["theme"])]})),_:1})}}}),$n=Yn,Zn=$n;n(35524);var er=n(35790),tr=n(40712);const nr=(0,er.$N)({components:{VNumberInput:tr.w},theme:{defaultTheme:localStorage.getItem("theme")||"dark",themes:{bluegrey:{colors:{primary:"#4CAF93",secondary:"#FFB74D",accent:"#82B1FF",background:"#5d6d7e",surface:"#34495e",error:"#E57373",success:"#81C784",warning:"#FFD54F",info:"#64B5F6",textPrimary:"#212121",textSecondary:"#757575"},variables:{borderRadius:"12px",customShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"}},brown:{colors:{primary:"#3E2723",secondary:"#FFB74D",accent:"#82B1FF",background:"#8D6E63",surface:"#A1887F",error:"#F44336",success:"#66BB6A",warning:"#FFC107",info:"#29B6F6",textPrimary:"#212121",textSecondary:"#757575"},variables:{borderRadius:"10px",customShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"}},teal:{colors:{primary:"#004D40",secondary:"#FFB74D",accent:"#82B1FF",background:"#26A69A",surface:"#80CBC4",error:"#F44336",success:"#66BB6A",warning:"#FFC107",info:"#29B6F6",textPrimary:"#212121",textSecondary:"#757575"},variables:{borderRadius:"10px",customShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"}},purple:{colors:{primary:"#673AB7",secondary:"#E91E63",accent:"#FF4081",background:"#EDE7F6",surface:"#D1C4E9",error:"#D32F2F",success:"#4CAF50",warning:"#FFEB3B",info:"#3F51B5",textPrimary:"#1A237E",textSecondary:"#4A148C"},variables:{borderRadius:"8px",customShadow:"0px 5px 15px rgba(0, 0, 0, 0.2)"}},orange:{colors:{primary:"#FF5722",secondary:"#FFC107",accent:"#FF9800",background:"#FFCCBC",surface:"#FFAB91",error:"#D84315",success:"#2E7D32",warning:"#FF8F00",info:"#FF6F00",textPrimary:"#BF360C",textSecondary:"#5D4037"},variables:{borderRadius:"10px",customShadow:"0px 4px 14px rgba(0, 0, 0, 0.15)"}},deepblue:{colors:{primary:"#0D47A1",secondary:"#1565C0",accent:"#42A5F5",background:"#1E88E5",surface:"#64B5F6",error:"#B71C1C",success:"#2E7D32",warning:"#F57C00",info:"#1976D2",textPrimary:"#E3F2FD",textSecondary:"#BBDEFB"},variables:{borderRadius:"10px",customShadow:"0px 6px 16px rgba(0, 0, 0, 0.2)"}}}}});function rr(){return or.apply(this,arguments)}function or(){return or=(0,l.A)((0,i.A)().mark((function e(){var t;return(0,i.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.e(53).then(n.t.bind(n,48874,23));case 2:t=e.sent,t.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}});case 4:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}rr();var ar=(0,r.Ef)(Zn).use(nr);ar.config.warnHandler=function(){return null},history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)},ar.mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var u=1/0;for(s=0;s<e.length;s++){for(var[r,o,a]=e[s],i=!0,l=0;l<r.length;l++)(!1&a||u>=a)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(i=!1,a<u&&(u=a));if(i){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var u={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>u[e]=()=>r[e]));return u["default"]=()=>r,n.d(a,u),a}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+(53===e?"webfontloader":e)+"."+{53:"6f28bc1e",125:"a17f9d0c",179:"e8f139b2",870:"73024b12"}[e]+".js"})(),(()=>{n.miniCssF=e=>{}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="nadil-pos:";n.l=(r,o,a,u)=>{if(e[r])e[r].push(o);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var d=c[s];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[o];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{var e={524:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var u=n.p+n.u(t),i=new Error,l=r=>{if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+u+")",i.name="ChunkLoadError",i.type=a,i.request=u,o[1](i)}};n.l(u,l,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[u,i,l]=r,c=0;if(u.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var s=l(n)}for(t&&t(r);c<u.length;c++)a=u[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},r=self["webpackChunknadil_pos"]=self["webpackChunknadil_pos"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(72881)));r=n.O(r)})();
//# sourceMappingURL=app.870b9cbc.js.map