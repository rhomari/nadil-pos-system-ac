{"version":3,"file":"js/app.870b9cbc.js","mappings":"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","sources":["webpack://nadil-pos/./src/Utils.js","webpack://nadil-pos/./src/components/OrderContentComponent.vue","webpack://nadil-pos/./src/components/OrderContentComponent.vue?8fc4","webpack://nadil-pos/./src/components/ManageUsersDialogComponent.vue","webpack://nadil-pos/./src/components/ManageUsersDialogComponent.vue?5050","webpack://nadil-pos/./src/components/EditUsersDialogComponent.vue","webpack://nadil-pos/./src/components/EditUsersDialogComponent.vue?6e14","webpack://nadil-pos/./src/components/AuthNumPadComponent.vue","webpack://nadil-pos/./src/components/UserSelectComponent.vue","webpack://nadil-pos/./src/components/UserSelectComponent.vue?5ee8","webpack://nadil-pos/./src/components/AuthNumPadComponent.vue?97f5","webpack://nadil-pos/./src/components/NewCategoryDialogComponent.vue","webpack://nadil-pos/./src/components/NewCategoryDialogComponent.vue?3470","webpack://nadil-pos/./src/components/NewProductDialogComponent.vue","webpack://nadil-pos/./src/components/NewProductDialogComponent.vue?8b0a","webpack://nadil-pos/./src/components/EditProductDialogComponent.vue","webpack://nadil-pos/./src/components/EditProductDialogComponent.vue?65e9","webpack://nadil-pos/./src/App.vue","webpack://nadil-pos/./src/App.vue?7ccd","webpack://nadil-pos/./src/plugins/vuetify.js","webpack://nadil-pos/./src/plugins/webfontloader.js","webpack://nadil-pos/./src/main.js","webpack://nadil-pos/webpack/bootstrap","webpack://nadil-pos/webpack/runtime/chunk loaded","webpack://nadil-pos/webpack/runtime/compat get default export","webpack://nadil-pos/webpack/runtime/create fake namespace object","webpack://nadil-pos/webpack/runtime/define property getters","webpack://nadil-pos/webpack/runtime/ensure chunk","webpack://nadil-pos/webpack/runtime/get javascript chunk filename","webpack://nadil-pos/webpack/runtime/get mini-css chunk filename","webpack://nadil-pos/webpack/runtime/global","webpack://nadil-pos/webpack/runtime/hasOwnProperty shorthand","webpack://nadil-pos/webpack/runtime/load script","webpack://nadil-pos/webpack/runtime/make namespace object","webpack://nadil-pos/webpack/runtime/node module decorator","webpack://nadil-pos/webpack/runtime/publicPath","webpack://nadil-pos/webpack/runtime/jsonp chunk loading","webpack://nadil-pos/webpack/startup"],"sourcesContent":["import { ref, nextTick, reactive} from \"vue\";\r\nimport Sortable from \"sortablejs\";\r\nexport function getHostName() {\r\n  if (process.env.NODE_ENV !== \"development\")\r\n    return window.location.hostname + \":\" + window.location.port;\r\n  return window.location.hostname + \":2304\";\r\n}\r\n\r\nlet sortableInstances = []; \r\n\r\n\r\nexport const store = reactive({\r\n  Member: null\r\n})\r\nexport let ticketOK = false;\r\nexport const filtredMenu=ref([])\r\nexport  const initSortable = (id) => {\r\n  \r\n  nextTick(() => {\r\n    \r\n    sortableInstances.forEach((instance) => instance.destroy());\r\n    sortableInstances = [];\r\n\r\n\r\n    document.querySelectorAll(\".sortable-grid\").forEach((container, index) => {\r\n      \r\n      const sortable = Sortable.create(container, {\r\n        animation: 150,\r\n        ghostClass: \"sortable-ghost\",\r\n        filter: \".card-element-no-drag\",\r\n        preventOnFilter: false,\r\n        supportPointer: false,\r\n        \r\n        onEnd: (evt) => {\r\n          \r\n          const movedItem = filtredMenu.value.splice(evt.oldIndex, 1)[0];\r\n          filtredMenu.value.splice(evt.newIndex, 0, movedItem);\r\n          localStorage.setItem(\"filtredMenu\" + id, JSON.stringify(filtredMenu.value));\r\n          \r\n         \r\n        },\r\n      }); \r\n\r\n      sortableInstances.push(sortable);\r\n    });\r\n  });\r\n};\r\nexport const getSortedFiltredMenu = (id) => {\r\n  const strlocalfiltredmenu = localStorage.getItem(\"filtredMenu\" + id);\r\n  \r\n  \r\n  const localfitredMenu = JSON.parse(strlocalfiltredmenu);\r\n \r\n  const dbSet = new Set(filtredMenu.value.map(item => item.productid));\r\n  \r\n  let updatedLocalArray = localfitredMenu.filter(item => dbSet.has(item.productid));\r\n  const localSet = new Set(updatedLocalArray.map(item => item.productid));\r\n  const missingItems = filtredMenu.value.filter(item => !localSet.has(item.productid));\r\n\r\n \r\n  updatedLocalArray = [...updatedLocalArray, ...missingItems];\r\n\r\n\r\n  return updatedLocalArray;\r\n}\r\nexport function onUpdatefocused() {\r\n  if (window.chrome.webview!=null)\r\n  window.chrome.webview.postMessage(\"vkeyboard\")\r\n}","<template>\n  <div\n    class=\"text-center pa-4\"\n    style=\"-webkit-user-select: none; -ms-user-select: none; user-select: none\"\n  >\n    <v-dialog :model-value=\"modelValue\" max-width=\"80mm\"  persistent>\n      <div class=\"receipt\">\n    <div class=\"receipt-header\">\n      <h1>{{settings.posname}}</h1>\n      <p>{{settings.address}}</p>\n      <p>{{settings.phone}}</p>\n    </div>\n    <span style=\"font-size:12px; font-weight:bold\">Serveur : {{order.waiter}}</span> \n    <table class=\"receipt-items\">\n      <thead>\n        <tr>\n          <th>Produit</th>\n          <th >Qté</th>\n          <th style=\"text-align:right\">Prix</th>\n          <th style=\"text-align:right\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in order.content\" :key=\"item.id\" >\n          <td>{{item.text}}</td>\n          <td>{{item.count}}</td>\n          <td style=\"text-align:right\">{{item.price.toFixed(2)}}</td>\n          <td style=\"text-align:right\">{{(item.price*item.count).toFixed(2)}}</td>\n        </tr>\n       \n      </tbody>\n    </table>\n\n    <div class=\"receipt-summary\">\n      \n      <span style=\"float:left; margin-left:50%\"><strong>Total:</strong></span><span style=\"float:right; margin-right:10px\"><strong>{{ order.totalticket.toFixed(2)  }}</strong></span> \n    </div>\n\n    <div class=\"thank-you\" style=\"margin-top:50px;\">\n      <p style=\"text-align:left\">Merci de votre visite.</p>\n      <p style=\"text-align:left\">A bientôt!</p>\n     \n    </div>\n    <div style=\"color:white; margin-top:10px; text-align:center\">\n    <v-btn @click=\"close\" style=\"float:left; margin-right:5px\">Fermer</v-btn>\n    \n    <v-btn @click=\"print\" style=\"float:right;margin-left:5px;\">Imprimer</v-btn>\n    </div>\n    \n  </div>\n    </v-dialog>\n  </div>\n</template>\n<script setup>\n\n// eslint-disable-next-line\nimport {getHostName} from '..\\\\src\\\\Utils.js'\nconst props = defineProps({ modelValue: Boolean, order: Object, settings: Object });\nconst emit = defineEmits([\"close\"]);\n\n// eslint-disable-next-line\nfunction close(){\n  emit(\"close\")\n}\nasync function print(){\n  console.log(props.settings)\n  const form = new FormData()\n  form.append(\"number\", props.order.number)\n\n  await fetch(\"https://\"+ getHostName()+ \"/printreceipt\", {method:\"post\",body:form})\n  .then(r=>{\n    if (!r.ok) throw Error(r.statusText)\n    return r.json()\n  })\n  .then(data=>{\n    console.log(data)\n  })\n  .catch(err=>{\n    console.log(err)\n  })\n}\n</script>\n\n<style>\n.receipt {\n      \n      max-width: 80mm;\n      width:80mm;\n      margin: 0 auto;\n      padding: 10px;\n      background: #fff;\n      border: 1px solid #ddd;\n      border-radius:5px;\n      box-shadow: 0 2px 10px rgba(1, 20, 30, 0.1);\n      color :black;\n    }\n    .receipt-header {\n      text-align: center;\n      margin-bottom: 20px;\n    }\n    .receipt-header h1 {\n      margin: 0;\n      font-size: 20px;\n    }\n    .receipt-header p {\n      margin: 0;\n      font-size: 12px;\n      color: #666;\n    }\n    .receipt-items {\n      width: 100%;\n      border-collapse: collapse;\n      margin-bottom: 20px;\n      font-size:10px;\n    }\n    .receipt-items th, .receipt-items td {\n      text-align: left;\n      padding: 8px;\n      border-bottom: 1px solid #ddd;\n    }\n    .receipt-summary {\n      text-align: right;\n      margin-top: 20px;\n    }\n    .receipt-summary p {\n      margin: 5px 0;\n    }\n    .thank-you {\n      text-align: center;\n      margin-top: 20px;\n      font-size: 12px;\n      color: #555;\n    }\n</style>\n","import script from \"./OrderContentComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrderContentComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrderContentComponent.vue?vue&type=style&index=0&id=612f5158&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable */\n<template>\n  <div\n    class=\"text-center pa-4\"\n    style=\"-webkit-user-select: none; -ms-user-select: none; user-select: none\"\n  >\n    <v-dialog :model-value=\"modelValue\" max-width=\"400\" persistent>\n      <v-card title=\"Ajouter un utilisateur\">\n        <template v-slot:actions>\n          <div>\n            <v-text-field\n              label=\"Nom de l'utilisateur\"\n              required\n              v-model=\"username\"\n              clearable\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n          <div>\n            <v-select\n              label=\"Role\"\n              required\n              :items=\"['Gérant', 'Serveur']\"\n              v-model=\"role\"\n              :rules=\"rules\"\n              \n            >\n            </v-select>\n          </div>\n          <div>\n            <v-text-field\n              label=\"Mot de passe\"\n              required\n              v-model=\"password\"\n              @keydown=\"isNumber\"\n              :type=\"showpassword ? 'text' : 'password'\"\n              clearable\n              :append-icon=\"showpassword ? 'mdi-eye' : 'mdi-eye-off'\"\n              @click:append=\"showpassword = !showpassword\"\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n          <div>\n            <v-text-field\n             \n              label=\"CODE\"\n              required\n              v-model=\"code\"\n              clearable\n              type=\"password\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n\n          <div>\n            <v-btn @click=\"saveUser()\" icon=\"mdi-content-save\"> </v-btn>\n\n            <v-btn @click=\"closeDialog\" icon=\"mdi-exit-to-app\"> </v-btn>\n          </div>\n        </template>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script setup>\nimport { getHostName, onUpdatefocused } from \"@/Utils\";\nimport { ref } from \"vue\";\n// eslint-disable-next-line\nconst props = defineProps({ modelValue: Boolean });\n// eslint-disable-next-line\nconst emit = defineEmits([\"update:modelValue\", \"alert\", \"inform\"]);\nconst showpassword = ref(false);\nconst role = ref(\"\");\nconst password = ref(\"\");\nconst username = ref(\"\");\nconst code = ref(\"\");\nfunction closeDialog() {\n  emit(\"update:modelValue\", false);\n}\nconst rules = [\n  (value) => {\n    if (value) return true;\n\n    return \"ce champ est obligatoire\";\n  },\n];\n\nconst isNumber = (event) => {\n  if (\n    password.value.length === 6 &&\n    event.key != \"Backspace\" &&\n    event.key != \"Delete\"\n  ) {\n    event.preventDefault();\n  }\n  if (event.key.length === 1 && isNaN(Number(event.key))) {\n    event.preventDefault();\n  }\n};\nasync function saveUser() {\n  if (username.value == \"\" || password.value == \"\" || role.value == \"\") {\n    alert(\"Tous les champs sont obligatoires\");\n    return;\n  }\n  let form = new FormData();\n  form.append(\"username\", username.value);\n  form.append(\"role\", role.value);\n  form.append(\"password\", password.value);\n  form.append(\"code\", code.value);\n\n  await fetch(\"https://\" + getHostName() + \"/saveuser\", {\n    method: \"post\",\n    body: form,\n  })\n    .then((r) => {\n      if (!r.ok) {\n        throw Error(r.statusText);\n      }\n      return r.json();\n    })\n    .then((data) => {\n      emit(\"alert\", data);\n      emit(\"inform\");\n\n      closeDialog();\n    })\n    .catch((e) => {\n      console.log(e);\n    });\n  username.value = \"\";\n  password.value = \"\";\n  code.value = \"\";\n  role.value = \"\";\n}\n</script>\n<script>\nexport default {\n  name: \"NewCategoryDialogComponent\",\n  data() {},\n\n  methods: {},\n};\n</script>\n\n<style></style>\n","import script from \"./ManageUsersDialogComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ManageUsersDialogComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div\n    class=\"text-center pa-4\"\n    style=\"-webkit-user-select: none; -ms-user-select: none; user-select: none\"\n  >\n    <v-dialog :model-value=\"modelValue\" max-width=\"400\" persistent>\n      <v-card title=\"Editer un utilisateur\">\n        <template v-slot:actions>\n          <div>\n            <v-text-field\n              label=\"Nom de l'utilisateur\"\n              required\n              v-model=\"usertoedit.Username\"\n              disabled\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n          <div>\n            <v-select\n              label=\"Role\"\n              required\n              :items=\"['Gérant', 'Serveur']\"\n              v-model=\"role\"\n              :rules=\"rules\"\n            >\n            </v-select>\n          </div>\n          <div>\n            <v-text-field\n              label=\"Mot de passe\"\n              required\n              v-model=\"password\"\n              @keydown=\"isNumber\"\n              :type=\"showpassword ? 'text' : 'password'\"\n              clearable\n              :append-icon=\"showpassword ? 'mdi-eye' : 'mdi-eye-off'\"\n              @click:append=\"showpassword = !showpassword\"\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n          <div>\n            <v-text-field\n              \n              label=\"CODE\"\n              required\n              v-model=\"usertoedit.Code\"\n              clearable\n              type=\"password\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n\n          <div>\n            <v-btn @click=\"editUser()\" icon=\"mdi-content-save\"> </v-btn>\n\n            <v-btn @click=\"closeDialog\" icon=\"mdi-exit-to-app\"> </v-btn>\n          </div>\n        </template>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script setup>\nimport { getHostName,  onUpdatefocused } from \"@/Utils\";\nimport { ref } from \"vue\";\n// eslint-disable-next-line\nconst props = defineProps({ modelValue: Boolean, usertoedit: Object });\n// eslint-disable-next-line\nconst emit = defineEmits([\"update:modelValue\", \"alert\", \"inform\"]);\nconst showpassword = ref(false);\n\nconst password = ref(\"\");\nconst role = ref(\"\");\n\nfunction closeDialog() {\n  emit(\"update:modelValue\", false);\n}\nconst rules = [\n  (value) => {\n    if (value) return true;\n\n    return \"ce champ est obligatoire\";\n  },\n];\n\nconst isNumber = (event) => {\n  if (\n    password.value?.length === 6 &&\n    event.key != \"Backspace\" &&\n    event.key != \"Delete\"\n  ) {\n    event.preventDefault();\n  }\n  if (event.key.length === 1 && isNaN(Number(event.key))) {\n    event.preventDefault();\n  }\n};\nasync function editUser() {\n  if (\n    props.usertoedit.Username == \"\" ||\n    password.value == \"\" ||\n    role.value == \"\"\n  ) {\n    alert(\"Tous les champs sont obligatoires\");\n    return;\n  }\n  let form = new FormData();\n  form.append(\"username\", props.usertoedit.Username);\n  form.append(\"role\", role.value);\n  form.append(\"password\", password.value);\n  form.append(\"code\", props.usertoedit.Code);\n  form.append(\"id\", props.usertoedit.ID);\n\n  await fetch(\"https://\" + getHostName() + \"/edituser\", {\n    method: \"post\",\n    body: form,\n  })\n    .then((r) => {\n      if (!r.ok) {\n        throw Error(r.statusText);\n      }\n      return r.json();\n    })\n    .then((data) => {\n    \n      \n      emit(\"alert\", data);\n      emit(\"inform\");\n      \n      closeDialog();\n    })\n    .catch((e) => {\n      console.log(e);\n    });\n  props.usertoedit.Username = \"\" \n  password.value = \"\" \n  showpassword.value=false\n  role.value = \"\"\n  console.log(props.usertoedit.Username, role.value, showpassword.value,password.value)\n}\n</script>\n<script>\nexport default {\n  name: \"NewCategoryDialogComponent\",\n  data() {},\n\n  methods: {},\n};\n</script>\n\n<style></style>\n","import script from \"./EditUsersDialogComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditUsersDialogComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n \r\n  <v-card\r\n    class=\"py-8 px-6 text-center mx-auto ma-4 loginform\"\r\n    \r\n    elevation=\"20\"\r\n    max-height=\"600\"\r\n    max-width=\"350\"\r\n    width=\"350\"\r\n   \r\n    style=\"z-index:9999;margin-bottom:50px\"\r\n    \r\n  >\r\n  \r\n      <user-select-component @user-selected=\"userSelected\"></user-select-component>\r\n\r\n   \r\n    <v-sheet color=\"surface\">\r\n      <v-otp-input\r\n        v-model=\"otp\"\r\n        type=\"password\"\r\n        variant=\"solo\"\r\n        length=\"6\"  \r\n       \r\n        \r\n      ></v-otp-input>\r\n    </v-sheet>\r\n\r\n    \r\n    <div class=\"numpad mt-4\" :disabled=\"userselected=='' ? '' : disabled\">\r\n      <div class=\"numpad-buttons\">\r\n        <button v-for=\"num in [1, 2, 3]\" :key=\"'row1' + num\" @click=\"appendNumber(num)\" class=\"button\">\r\n          {{ num }}\r\n        </button>\r\n        <button v-for=\"num in [4, 5, 6]\" :key=\"'row2' + num\" @click=\"appendNumber(num)\" class=\"button\">\r\n          {{ num }}\r\n        </button>\r\n        <button v-for=\"num in [7, 8, 9]\" :key=\"'row3' + num\" @click=\"appendNumber(num)\" class=\"button\">\r\n          {{ num }}\r\n        </button>\r\n        <button class=\"button button-clear\" @click=\"clearOtp\">Vider</button>\r\n        <button @click=\"appendNumber(0)\" class=\"button\">0</button>\r\n      </div>\r\n    </div>\r\n\r\n    <v-btn\r\n      class=\"my-4\"\r\n      color=\"purple\"\r\n      height=\"40\"\r\n      text=\"Verify\"\r\n      variant=\"flat\"\r\n      width=\"70%\"\r\n      @click=\"authenticate\"\r\n      :disabled=\"((otp.length < 6) || (userselected==null)) ? '' : disabled\"\r\n    >\r\n      S'authentifier\r\n    </v-btn>\r\n    <p></p>\r\n    <span v-if=\"autherror\" style=\"color: darkred; font-size:12px\">Erreur d'authenfication, merci de vérifier vos données de connexion.</span>\r\n\r\n    <v-fab  size=\"32\" color=\"red\" icon=\"mdi-power\" style=\"position: absolute;top: 96%;left: 45%;transform: translate(-50%, -50%);\" @click=\"quitApp()\" ></v-fab>\r\n  </v-card>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { getHostName, onUpdatefocused } from '@/Utils';\r\nimport UserSelectComponent from './UserSelectComponent.vue';\r\nexport default {\r\n  components: { UserSelectComponent },\r\n \r\n  data() {\r\n    return {\r\n      otp: \"\", \r\n      userselected:null,\r\n      autherror:false,\r\n      iswebview2:false,\r\n\r\n    };\r\n  },\r\n \r\n  methods: {\r\n    userSelected(user){\r\n        this.userselected=user\r\n        \r\n        \r\n    },\r\n    quitApp(){\r\n      if (window.nadilpos) {\r\n        window.nadilpos.showMessage(\"close\");\r\n        return\r\n      }   \r\n      if (window.chrome.webview!=null)\r\n        window.chrome.webview.postMessage(\"close\")\r\n\r\n    },\r\n    appendNumber(num) {\r\n      \r\n      if (this.otp.length < 6) {\r\n        this.otp += num.toString();\r\n      }\r\n    },\r\n    clearOtp() {\r\n      this.otp = \"\";\r\n    },\r\n    async authenticate() {\r\n      \r\n      if (this.userselected.Role === \"SETUP\"){\r\n        this.$emit(\"auth-ok\", this.userselected)\r\n        return\r\n      }\r\n      this.autherror=false\r\n      if (this.userselected==null){\r\n        alert(\"Veuillez selectionner  un utilisateur\");\r\n        return\r\n      }\r\n      \r\n\r\n      if (this.otp.length < 6) {\r\n        alert(\"Veuillez enter votre mot de passe\");\r\n        return\r\n      }\r\n      let form = new FormData()\r\n      form.append(\"user\", this.userselected.Username)\r\n      form.append(\"password\", this.otp)\r\n      await fetch(\"https://\" + getHostName() + \"/auth\", {\r\n        method:'post',\r\n        body:form\r\n      })\r\n      .then(r=>{\r\n        if (!r.ok) throw Error(r.statusText)\r\n        return r.json()\r\n        \r\n\r\n      })\r\n      .then(data=>{\r\n        \r\n        if (data.data == \"OK\"){\r\n         \r\n          this.$emit(\"auth-ok\", this.userselected)\r\n          return\r\n        }\r\n        this.autherror=true\r\n\r\n      })\r\n      .catch(ex=>{\r\n        console.log(ex)\r\n      })\r\n      \r\n    },\r\n   \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.numpad-buttons {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n\r\n.button {\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.button-clear {\r\n  background-color: #FF5722;\r\n  grid-column: span 2;\r\n}\r\n\r\n.button:active {\r\n  background-color: #3e8e41;\r\n}\r\n@media only screen and (max-width: 574px) {\r\n  .loginform{\r\n    height: 525px;\r\n\r\n    \r\n    top:350px\r\n  }\r\n  \r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"user-select\">\r\n        <div class=\"dropdown\" >\r\n        <button class=\"dropdown-button\" @click=\"toggleDropdown\">\r\n          <span v-if=\"selectedUser\">\r\n            \r\n            \r\n                <b style=\"font-weight: bold;\">{{selectedUser.Username.toUpperCase()}}</b>\r\n                \r\n            \r\n            \r\n          </span>\r\n          <span v-else>Sélectionnez un utilisateur</span>\r\n          <svg class=\"chevron\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\r\n            <path fill-rule=\"evenodd\" d=\"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01-.02-1.06z\" clip-rule=\"evenodd\" />\r\n          </svg>\r\n        </button>\r\n        <transition name=\"fade\">\r\n          <div v-if=\"showDropdown\" class=\"dropdown-list\">\r\n            <div\r\n              v-for=\"user in users\"\r\n              :key=\"user.ID\"\r\n              class=\"dropdown-item\"\r\n              @click=\"selectUser(user)\"\r\n            >\r\n             \r\n             \r\n              {{ user.Username.toUpperCase() }}\r\n            </div>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref,defineEmits, onMounted } from 'vue';\r\n  import { getHostName } from '@/Utils';\r\n  \r\n  export default {\r\n    name: 'UserSelect',\r\n    \r\n    setup(props,{emit}) {\r\n      \r\n      \r\n      const users = ref(null)\r\n      const selectedUser = ref(null);\r\n      const showDropdown = ref(false);\r\n      \r\n      const toggleDropdown = () => {\r\n        showDropdown.value = !showDropdown.value;\r\n      };\r\n      onMounted(async () => {\r\n        await getUsers();\r\n        \r\n      }); \r\n     \r\n      const selectUser = (user) => {\r\n        emit(\"user-selected\", user)\r\n        selectedUser.value = user;\r\n        \r\n       \r\n        showDropdown.value = false;\r\n        \r\n        \r\n      };\r\n      async function getUsers() {\r\n        \r\n        \r\n        await fetch(\"https://\" + getHostName() + \"/getusers\")\r\n        .then((r) => {\r\n            if (!r.ok) throw Error(r.statusText);\r\n                return r.text();\r\n        })\r\n        .then((data) => {\r\n            users.value = JSON.parse(data);\r\n\r\n            if (users.value== null || !users.value.some(obj => obj.Role == \"Gérant\" )){\r\n              users.value= [{ID: '-1', Username: 'SETUP', Role: 'SETUP', Code: ''}]\r\n            }\r\n            \r\n      \r\n         \r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n      const getInitials = (name) => {\r\n        \r\n        \r\n       \r\n      };\r\n  \r\n      return {\r\n        users,\r\n        selectedUser,\r\n        showDropdown,\r\n        toggleDropdown,\r\n        selectUser,\r\n        getInitials,\r\n      };\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .user-select {\r\n    font-family: Arial, sans-serif;\r\n    max-width: 500px;\r\n    margin: 10px;\r\n  }\r\n  \r\n  .dropdown {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 100%;\r\n  }\r\n  \r\n  .dropdown-button {\r\n    width: 100%;\r\n    padding: 12px;\r\n    background: #f9f9f9;\r\n    border: 1px solid #ddd;\r\n    border-radius: 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    color: #333;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    transition: background 0.3s ease;\r\n  }\r\n  \r\n  .dropdown-button:hover {\r\n    background: #f0f0f0;\r\n  }\r\n  \r\n  .dropdown-button .chevron {\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n  \r\n  .dropdown-list {\r\n    position: absolute;\r\n    top: 110%;\r\n    left: 0;\r\n    width: 100%;\r\n    background: #fff;\r\n    border: 1px solid #ddd;\r\n    border-radius: 8px;\r\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\r\n    overflow: hidden;\r\n    max-height: 250px;\r\n    overflow-y: auto;\r\n    z-index: 1000;\r\n  }\r\n  \r\n  .dropdown-item {\r\n    padding: 10px 15px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    transition: background 0.2s;\r\n    color: black !important;\r\n  }\r\n  .dropdown-item:hover {\r\n    color: tomato !important;\r\n  }\r\n  \r\n  .user-image, .user-initials {\r\n    width: 35px;\r\n    height: 35px;\r\n    border-radius: 50%;\r\n    margin-right: 10px;\r\n  }\r\n  \r\n  .user-image {\r\n    object-fit: cover;\r\n  }\r\n  \r\n  .user-initials {\r\n    background-color: #666;\r\n    color: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity 0.3s ease;\r\n  }\r\n  .fade-enter-from, .fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./UserSelectComponent.vue?vue&type=template&id=3fd63fa0&scoped=true\"\nimport script from \"./UserSelectComponent.vue?vue&type=script&lang=js\"\nexport * from \"./UserSelectComponent.vue?vue&type=script&lang=js\"\n\nimport \"./UserSelectComponent.vue?vue&type=style&index=0&id=3fd63fa0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3fd63fa0\"]])\n\nexport default __exports__","import { render } from \"./AuthNumPadComponent.vue?vue&type=template&id=2fb685f6&scoped=true\"\nimport script from \"./AuthNumPadComponent.vue?vue&type=script&lang=js\"\nexport * from \"./AuthNumPadComponent.vue?vue&type=script&lang=js\"\n\nimport \"./AuthNumPadComponent.vue?vue&type=style&index=0&id=2fb685f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fb685f6\"]])\n\nexport default __exports__","<template>\n  <div\n    class=\"text-center pa-4\"\n    style=\"-webkit-user-select: none; -ms-user-select: none; user-select: none\"\n  >\n    <v-dialog :model-value=\"modelValue\" max-width=\"400\" persistent>\n      <v-card\n        text=\"Indiquez le nom de la nouvelle catégorie\"\n        title=\"Nouvelle catégorie\"\n      >\n        <template v-slot:actions>\n          <div>\n            <v-text-field\n              label=\"Intitulé\"\n              required\n              v-model=\"categorytoedit.categoryname\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n          </div>\n\n          <div>\n            <v-btn @click=\"saveCategory()\" icon=\"mdi-content-save\"> </v-btn>\n\n            <v-btn @click=\"closeDialog\" icon=\"mdi-exit-to-app\"> </v-btn>\n          </div>\n        </template>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script setup>\nimport { getHostName, onUpdatefocused } from \"@/Utils\";\n\nconst props = defineProps({\n  modelValue: Boolean,\n  categorytoedit: { categoryname: \"\", categoryid: \"\" },\n});\nconst emit = defineEmits([\"update:modelValue\"]);\nfunction closeDialog() {\n  props.categorytoedit.categoryname=''\n  props.categorytoedit.categoryid=''\n  emit(\"update:modelValue\", false);\n}\n\nasync function saveCategory() {\n  const hostname = getHostName();\n  const axios = require(\"axios\").default;\n  let requesturl = \"https://\" + hostname + \"/saveNewCategory\";\n  let requestparams = { categoryname: props.categorytoedit.categoryname };\n  if (props.categorytoedit.categoryid != \"\") {\n    requesturl = \"https://\" + hostname + \"/editCategory\";\n    requestparams = {\n      categoryname: props.categorytoedit.categoryname,\n      categoryid: props.categorytoedit.categoryid,\n    };\n  }\n\n  await axios\n    .post(requesturl, requestparams)\n    .then((r) => {\n      \n      emit(\"alert\", r.data);\n    })\n    .catch((e) => console.log(e));\n\n  props.categorytoedit.categoryname = \"\";\n  props.categorytoedit.categoryid = \"\";\n  closeDialog();\n}\n</script>\n<script>\nexport default {\n  name: \"NewCategoryDialogComponent\",\n  data() {},\n\n  methods: {},\n};\n</script>\n\n<style></style>\n","import script from \"./NewCategoryDialogComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewCategoryDialogComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"text-center pa-4\">\n    <v-dialog :model-value=\"modelValue\" max-width=\"400\" persistent>\n      <v-card text=\"Indiquez le nom du nouveau produit\" title=\"Nouveau produit\">\n        <template v-slot:actions>\n          <div>\n            <v-text-field\n              :label=\"parentcategory.categoryname\"\n              prepend-icon=\"mdi-basket\"\n              disabled\n              density=\"compact\"\n              \n            >\n            </v-text-field>\n            <v-text-field\n              label=\"Intitulé\"\n              v-model=\"newproductname\"\n              prepend-icon=\"mdi-food\"\n              density=\"compact\"\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n            <v-text-field\n              label=\"Prix\"\n              v-model=\"price\"\n              prepend-icon=\"mdi-cash-multiple\"\n              type=\"number\"\n              density=\"compact\"\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            ></v-text-field>\n            <v-file-input\n              accept=\"image/png, image/jpeg, image/bmp, image/webp\"\n              label=\"image\"\n              @change=\"makePreview\"\n              density=\"compact\"\n              :rules=\"rules\"\n              v-model=\"imagefile\"\n              prepend-icon=\"mdi-camera\"\n            >\n            </v-file-input>\n            <v-img\n              :width=\"100\"\n              :height=\"100\"\n              style=\"float: right; margin-bottom: 10px; border-radius: 5px\"\n              cover\n              :src=\"preview\"\n            ></v-img>\n            <v-switch\n              density=\"compact\"\n              color=\"green\"\n              v-model=\"isFavorite\"\n              label=\"Favori\"\n            ></v-switch>\n          </div>\n\n          <div>\n            <v-btn @click=\"saveNewProduct()\" icon=\"mdi-content-save\"> </v-btn>\n\n            <v-btn @click=\"closeDialog\" icon=\"mdi-exit-to-app\"> </v-btn>\n          </div>\n        </template>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script setup>\nimport { getHostName, onUpdatefocused } from \"@/Utils\";\nimport { ref } from \"vue\";\n\nconst props = defineProps({\n  modelValue: Boolean,\n  parentcategory: { categoryname: String, categoryid: Number },\n});\nconst emit = defineEmits([\"update:modelValue\"]);\nconst isFavorite = ref(false);\nconst newproductname = ref(\"\");\nconst price = ref(0);\nconst preview = ref(null)\nconst imagefile = ref(\"\");\nfunction closeDialog() {\n  \n  newproductname.value=\"\"\n  price.value=''\n  imagefile.value=null\n  preview.value=null\n\n  emit(\"update:modelValue\", false);\n}\n\nasync function saveNewProduct() {\n  if (price.value<0) {\n    alert(\"Le prix ne peut pas prendre une valeur négative.\")\n    return\n  }\n  const hostname = getHostName();\n  if (newproductname.value == \"\" || imagefile.value == \"\") {\n    alert(\"Veuillez remplir les champs obligatoires\");\n    return;\n  }\n  console.log(\"sending...\");\n\n  const form = new FormData();\n  form.append(\"imagefile\", imagefile.value);\n  form.append(\n    \"details\",\n    JSON.stringify({\n      isfavorite: isFavorite.value,\n      category: props.parentcategory.categoryid,\n      text: newproductname.value,\n      price: price.value,\n    })\n  );\n  await fetch(\"https://\" + hostname + \"/addNewProduct\", {\n    method: \"post\",\n\n    body: form,\n  })\n    .then((r) => {\n      if (!r.ok) {\n        throw Error(r.statusText);\n      }\n      return r.json();\n    })\n    .then((data) => {\n      emit(\"alert\", data);\n\n      closeDialog();\n    })\n    .catch((e) => {\n      console.log(e);\n    });\n}\n\nfunction setPreview(file) {\n  const r = new FileReader();\n  r.onload = (e) => {\n    preview.value = e.target.result;\n  };\n  r.readAsDataURL(file);\n}\nfunction makePreview(e) {\n  if (!e.target.files[0]) {\n    return;\n  }\n  \n  setPreview(e.target.files[0]);\n}\n</script>\n\n<script>\nexport default {\n  data() {\n    return {\n     \n\n      rules: [\n        (value) => {\n          if (value) return true;\n\n          return \"ce champ est obligatoire\";\n        },\n      ],\n    };\n  },\n  methods: {\n    \n  },\n};\n</script>\n\n<style></style>\n","import script from \"./NewProductDialogComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewProductDialogComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"text-center pa-4\">\n    <v-dialog :model-value=\"modelValue\" max-width=\"400\" persistent>\n      <v-card text=\"Modification du produit\" title=\"Modification\">\n        <template v-slot:actions>\n          <div>\n            <v-text-field\n              :label=\"getCategory(editproduct.category)\"\n              prepend-icon=\"mdi-basket\"\n              disabled\n              density=\"compact\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n            <v-text-field\n              label=\"Intitulé\"\n              v-model=\"editproduct.text\"\n              prepend-icon=\"mdi-food\"\n              density=\"compact\"\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            >\n            </v-text-field>\n            <v-text-field\n              label=\"Prix\"\n              v-model=\"editproduct.price\"\n              prepend-icon=\"mdi-cash-multiple\"\n              type=\"number\"\n              density=\"compact\"\n              :rules=\"rules\"\n               @focus=\"onUpdatefocused\"\n            ></v-text-field>\n            <v-file-input\n              accept=\"image/png, image/jpeg, image/bmp\"\n              label=\"image\"\n              @change=\"makePreview\"\n              density=\"compact\"\n              :rules=\"rules\"\n              v-model=\"imagefile\"\n              prepend-icon=\"mdi-camera\"\n            >\n            </v-file-input>\n            <v-img\n              :width=\"100\"\n              :height=\"100\"\n              style=\"float: right; margin-bottom: 10px; border-radius: 5px\"\n              cover\n              :src=\"preview\"\n            ></v-img>\n            <v-checkbox\n              v-model=\"editproduct.isfavorite\"\n              color=\"indigo\"\n              label=\"Favori\"\n            ></v-checkbox>\n          </div>\n\n          <div>\n            <v-btn v-on:click=\"editProduct\" icon=\"mdi-content-save\"> </v-btn>\n\n            <v-btn v-on:click=\"closeDialog\" icon=\"mdi-exit-to-app\"> </v-btn>\n          </div>\n        </template>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script setup>\nimport { ref, watch } from \"vue\";\n\nimport { getHostName } from \"@/Utils\";\nconst props = defineProps({\n  modelValue: Boolean,\n  editproduct: Object,\n  categories: Object,\n});\nconst emit = defineEmits([\"update:modelValue\"]);\nlet categoryname;\n\nconst imagefile = ref(\"\");\nlet preview = ref(\"\");\n\nasync function editProduct() {\n  if (props.editproduct.price<0) {\n    alert(\"Le prix ne peut pas prendre une valeur négative.\")\n    return\n  }\n\n  const hostname = getHostName();\n\n  if (props.editproduct.text == \"\" || props.editproduct.price == \"\") {\n    alert(\"Veuillez remplir les champs obligatoires\");\n    return;\n  }\n\n  const form = new FormData();\n  form.append(\"imagefile\", imagefile.value);\n  form.append(\n    \"details\",\n    JSON.stringify({\n      productid: props.editproduct.productid,\n      isfavorite: props.editproduct.isfavorite,\n      category: props.editproduct.category,\n      text: props.editproduct.text,\n      price: props.editproduct.price,\n    })\n  );\n  await fetch(\"https://\" + hostname + \"/editProduct\", {\n    method: \"post\",\n\n    body: form,\n  })\n    .then((r) => {\n      if (!r.ok) {\n        throw Error(r.statusText);\n      }\n      return r.json();\n    })\n    .then((data) => {\n      emit(\"alert\", data);\n\n     \n      closeDialog();\n    })\n    .catch((e) => {\n      console.log(e);\n    });\n}\nfunction closeDialog() {\n  imagefile.value=null\n  preview.value=null\n  emit(\"update:modelValue\", false);\n}\nfunction getCategory(id) {\n  props.categories.forEach((c) => {\n    if (c.categoryid == id) {\n      categoryname = c.categoryname;\n      return categoryname;\n    }\n  });\n\n  return categoryname;\n}\nfunction setPreview(file) {\n  const r = new FileReader();\n  r.onload = (e) => {\n    preview.value = e.target.result;\n  };\n  r.readAsDataURL(file);\n}\nfunction makePreview(e) {\n  \n  if (!e.target.files[0]) {\n    return;\n  }\n\n  setPreview(e.target.files[0]);\n}\n</script>\n\n<script>\nexport default {\n  data() {\n    return {\n      rules: [\n        (value) => {\n          if (value) return true;\n\n          return \"ce champ est obligatoire\";\n        },\n      ],\n    };\n  },\n};\n</script>\n\n<style></style>\n","import script from \"./EditProductDialogComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditProductDialogComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable */\r\n<template>\r\n  <v-responsive class=\"border rounded no-select\">\r\n    <div class=\"text-center\">\r\n      <v-overlay\r\n        v-if=\"authenticated == false\"\r\n        v-model=\"overlay\"\r\n        persistent\r\n        :style=\"getOverlayStyle()\"\r\n      >\r\n      </v-overlay>\r\n      <auth-num-pad-component\r\n        v-if=\"authenticated == false\"\r\n        class=\"centerstuff\"\r\n        @auth-ok=\"authOK\"\r\n      ></auth-num-pad-component>\r\n    </div>\r\n    <v-app :theme=\"theme\">\r\n      <v-app-bar :elevation=\"4\" density=\"compact\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ props }\">\r\n            <v-btn style=\"font-size: 10px\" color=\"primary\" v-bind=\"props\"> Thème </v-btn>\r\n          </template>\r\n          <v-list>\r\n            <v-list-item\r\n              v-for=\"(t, index) in themes\"\r\n              :key=\"index\"\r\n              style=\"cursor: default\"\r\n              @click=\"changeTheme(t.title)\"\r\n            >\r\n              <v-list-item-title style=\"font-size: 12px; font-weight: bold\">{{\r\n                t.title\r\n              }}</v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n        <template v-slot:prepend>\r\n          <v-app-bar-nav-icon @click=\"showMenu\"></v-app-bar-nav-icon>\r\n        </template>\r\n\r\n        <v-app-bar-title>Nadil-POS AC</v-app-bar-title>\r\n        <template v-if=\"authenticated\" v-slot:append>\r\n          <span ref=\"authuser\">{{ loggeduser.Username.toUpperCase() }}</span>\r\n\r\n          <v-btn\r\n            @click=\"\r\n              authOff();\r\n              logout();\r\n            \"\r\n          >\r\n            <v-icon size=\"18px\">mdi-logout</v-icon></v-btn\r\n          >\r\n          <v-btn value=\"quit\" @click=\"minimizeApp()\" style=\"width: 48px\" class=\"NOMOBILE\">\r\n            <v-icon>mdi-window-minimize</v-icon>\r\n          </v-btn>\r\n          <v-btn value=\"quit\" color=\"red\" @click=\"quitApp()\" style=\"width: 48px\">\r\n            <v-icon size=\"24px\">mdi-power</v-icon>\r\n          </v-btn>\r\n        </template>\r\n      </v-app-bar>\r\n\r\n      <v-main>\r\n        <v-container>\r\n          <v-card\r\n            class=\"menu\"\r\n            style=\"float: left; overflow: auto; max-height: 80vh; height: 80vh\"\r\n          >\r\n            <v-tabs\r\n              v-model=\"tab\"\r\n              align-tabs=\"end\"\r\n              next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n              prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n              show-arrows\r\n              color=\"deep-purple-accent-4\"\r\n              center-active\r\n            >\r\n              <b>\r\n                <v-tab @click=\"oldtab = 0\" key=\"-1\" color=\"orange\"> Favoris </v-tab>\r\n              </b>\r\n              <b v-for=\"cat in categories\" :key=\"cat.categoryid\">\r\n                <v-tab\r\n                  color=\"orange\"\r\n                  @click=\"\r\n                    addcatbutton = false;\r\n                    selectedcategory = cat;\r\n                    oldtab = tab;\r\n                  \"\r\n                  :key=\"cat.categoryid\"\r\n                  >{{ cat.categoryname }}\r\n\r\n                  <v-icon\r\n                    icon=\"mdi-menu-down\"\r\n                    style=\"padding: 6px\"\r\n                    size=\"x-large\"\r\n                    v-if=\"isadmin\"\r\n                  >\r\n                  </v-icon>\r\n                  <v-menu activator=\"parent\">\r\n                    <v-list v-if=\"isadmin\">\r\n                      <v-list-item>\r\n                        <v-list-item-title @click=\"deleteCategory(cat)\">\r\n                          <v-icon\r\n                            icon=\"mdi-trash-can\"\r\n                            style=\"margin-right: 15px\"\r\n                          ></v-icon>\r\n                          Supprimer</v-list-item-title\r\n                        >\r\n                      </v-list-item>\r\n                      <v-list-item>\r\n                        <v-list-item-title @click=\"editCategory(cat)\"\r\n                          ><v-icon icon=\"mdi-pencil\" style=\"margin-right: 15px\"></v-icon\r\n                          >Editer</v-list-item-title\r\n                        >\r\n                      </v-list-item>\r\n                    </v-list>\r\n                  </v-menu>\r\n                </v-tab>\r\n              </b>\r\n              <b v-if=\"isadmin\">\r\n                <v-tab @click=\"openAddCategoryDialog()\">\r\n                  <v-icon size=\"32\">mdi-plus</v-icon></v-tab\r\n                >\r\n              </b>\r\n            </v-tabs>\r\n\r\n            <v-tabs-window v-model=\"tab\" id=\"menuwindow\">\r\n              <v-tabs-window-item v-for=\"n in 24\" :key=\"n\" :value=\"n\">\r\n                <v-container fluid style=\"text-align: center\">\r\n                  <v-row ref=\"sortableContainer\" class=\"sortable-grid\">\r\n                    <v-col\r\n                      v-for=\"(element, index) in filtredMenu\"\r\n                      :key=\"element.text\"\r\n                      cols=\"12\"\r\n                      md=\"2\"\r\n                      class=\"sortable-item\"\r\n                      :data-index=\"index\"\r\n                    >\r\n                      <v-card\r\n                        :disabled=\"\r\n                          getMenuDisabled(\r\n                            btnvalidatedisabled,\r\n                            ticketvalidate,\r\n                            sessionsmap.get(loggeduser?.Username),\r\n                            isadmin,\r\n                            managerauthorisations,\r\n                            selectedwaiter\r\n                          )\r\n                        \"\r\n                        style=\"background-color: transparent; line-height: 3mm\"\r\n                        @click=\"elementClick(element)\"\r\n                        :elevation=\"5\"\r\n                        class=\"card-element\"\r\n                        rounded=\"lg\"\r\n                      >\r\n                        <v-menu activator=\"parent\">\r\n                          <v-list v-if=\"isadmin\">\r\n                            <v-list-item>\r\n                              <v-list-item-title\r\n                                @click=\"deleteProduct(element)\"\r\n                                style=\"font-size: 14px\"\r\n                              >\r\n                                <v-icon\r\n                                  icon=\"mdi-trash-can\"\r\n                                  style=\"\r\n                                    margin-right: 5px;\r\n                                    font-size: 14px;\r\n                                    color: orangered;\r\n                                  \"\r\n                                ></v-icon>\r\n                                Supprimer\r\n                              </v-list-item-title>\r\n                            </v-list-item>\r\n                            <v-list-item>\r\n                              <v-list-item-title\r\n                                @click=\"\r\n                                  editelement = element;\r\n                                  openEditProductDialog();\r\n                                \"\r\n                                style=\"font-size: 14px\"\r\n                              >\r\n                                <v-icon\r\n                                  icon=\"mdi-pencil\"\r\n                                  style=\"\r\n                                    margin-right: 5px;\r\n                                    font-size: 14px;\r\n                                    color: darkgreen;\r\n                                  \"\r\n                                ></v-icon>\r\n                                Editer\r\n                              </v-list-item-title>\r\n                            </v-list-item>\r\n                            <v-list-item v-if=\"selectedcategory.categoryid > 0\">\r\n                              <v-list-item-title style=\"font-size: 14px\">\r\n                                <v-icon\r\n                                  icon=\"mdi-pencil\"\r\n                                  style=\"\r\n                                    margin-right: 5px;\r\n                                    font-size: 14px;\r\n                                    color: darkgreen;\r\n                                  \"\r\n                                ></v-icon>\r\n                                Catégorie\r\n                              </v-list-item-title>\r\n                              <v-menu activator=\"parent\" submenu location=\"end\">\r\n                                <v-list>\r\n                                  <v-list-item\r\n                                    v-for=\"cat in categories\"\r\n                                    :key=\"cat.categoryid\"\r\n                                    link\r\n                                    @click=\"\r\n                                      changeProductCategory(\r\n                                        element,\r\n                                        cat,\r\n                                        selectedcategory.categoryid\r\n                                      )\r\n                                    \"\r\n                                  >\r\n                                    <v-list-item-title\r\n                                      :class=\"\r\n                                        element.category == cat.categoryid\r\n                                          ? 'highlighted'\r\n                                          : null\r\n                                      \"\r\n                                      >{{ cat.categoryname }}</v-list-item-title\r\n                                    >\r\n                                  </v-list-item>\r\n                                </v-list>\r\n                              </v-menu>\r\n                            </v-list-item>\r\n                          </v-list>\r\n                        </v-menu>\r\n                        <v-img\r\n                          :src=\"getImageURL(element.image)\"\r\n                          class=\"card-element-image\"\r\n                          rounded=\"lg\"\r\n                          cover\r\n                        ></v-img>\r\n                        <label class=\"card-label\" style=\"font-size: 11px\"\r\n                          >{{ element.text }}\r\n                        </label>\r\n                      </v-card>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <div class=\"d-flex flex-wrap ga-2\">\r\n                        <v-card\r\n                          v-if=\"isadmin && tab != 0\"\r\n                          @click=\"openAddProductDialog\"\r\n                          style=\"\r\n                            background-color: transparent;\r\n                            line-height: 3mm;\r\n                            vertical-align: center;\r\n                          \"\r\n                          :elevation=\"10\"\r\n                          class=\"card-element-no-drag\"\r\n                          rounded=\"lg\"\r\n                        >\r\n                          <v-icon size=\"48\" style=\"margin-top: 50px\">mdi-plus</v-icon>\r\n                        </v-card>\r\n                      </div>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-container>\r\n              </v-tabs-window-item>\r\n            </v-tabs-window>\r\n          </v-card>\r\n          <v-spacer></v-spacer>\r\n          <v-card style=\"float: right\" class=\"mx-auto ticket\" width=\"34%\">\r\n            <v-list-subheader style=\"font-weight: bolder; width: 100%\">\r\n              Ticket N° : {{ ticketnumber }}\r\n            </v-list-subheader>\r\n            <v-list-subheader\r\n              style=\"font-weight: bolder; width: 100%\"\r\n              v-if=\"store.Member\"\r\n            >\r\n              Nom de l'abonné(e) : {{ store.Member.name }}\r\n              <v-icon\r\n                v-if=\"store.Member.isGold\"\r\n                color=\"amber-darken-2\"\r\n                size=\"small\"\r\n                class=\"ml-2\"\r\n                >mdi-crown</v-icon\r\n              >\r\n            </v-list-subheader>\r\n            <v-list style=\"max-height: 40vh; overflow-y: auto\" id=\"listticket\">\r\n              <v-divider></v-divider>\r\n\r\n              <v-list-item v-for=\"e in ticket[0].content\" :key=\"e.ID\">\r\n                <v-speed-dial\r\n                  :disabled=\"btnvalidatedisabled && !ticketvalidate\"\r\n                  location=\"left center\"\r\n                  transition=\"fade-transition\"\r\n                >\r\n                  <template v-slot:activator=\"{ props: activatorProps }\">\r\n                    <v-chip\r\n                      v-bind=\"activatorProps\"\r\n                      size=\"small\"\r\n                      color=\"orange\"\r\n                      :text=\"e.count\"\r\n                    ></v-chip>\r\n                  </template>\r\n                  <v-btn\r\n                    key=\"1\"\r\n                    icon=\"mdi-comment-text\"\r\n                    style=\"color: mediumslateblue; background-color: yellow\"\r\n                    size=\"small\"\r\n                    @click=\"showComment(e)\"\r\n                  ></v-btn>\r\n                  <v-btn\r\n                    key=\"1\"\r\n                    icon=\"$clear\"\r\n                    color=\"red\"\r\n                    size=\"small\"\r\n                    @click=\"removeFromTicket(e.id)\"\r\n                  ></v-btn>\r\n                  <v-btn\r\n                    key=\"2\"\r\n                    icon=\"$plus\"\r\n                    color=\"green\"\r\n                    size=\"small\"\r\n                    @click=\"increaseCount(e)\"\r\n                  ></v-btn>\r\n                  <v-btn\r\n                    key=\"3\"\r\n                    icon=\"$minus\"\r\n                    color=\"orange\"\r\n                    size=\"small\"\r\n                    style=\"color: white !important\"\r\n                    @click=\"reduceCount(e)\"\r\n                  ></v-btn>\r\n                  <v-btn\r\n                    key=\"4\"\r\n                    icon=\"mdi-dialpad\"\r\n                    color=\"orangered\"\r\n                    size=\"small\"\r\n                    style=\"color: white !important; background-color: grey !important\"\r\n                    @click=\"showPad(e)\"\r\n                  ></v-btn>\r\n                </v-speed-dial>\r\n                <v-list-item-text style=\"font-size: 13px\">\r\n                  <label style=\"margin-left: 10px\">{{ e.text }}</label>\r\n                  <span\r\n                    size=\"small\"\r\n                    style=\"float: right; margin-right: 10px; align-content: center\"\r\n                    variant=\"elevated\"\r\n                    color=\"primary\"\r\n                    >{{ (e.count * parseFloat(e.price)).toFixed(2) }}</span\r\n                  >\r\n                </v-list-item-text>\r\n              </v-list-item>\r\n            </v-list>\r\n            <v-divider></v-divider>\r\n            <div style=\"height: 30px; margin-top: 5px\">\r\n\r\n<label style=\"float: left; padding-left: 5px\">Réduction  </label>\r\n<span\r\n  style=\"\r\n    float: right;\r\n    margin-right: 10px;\r\n    color: whitesmoke !important  ;\r\n    font-size: 16px;\r\n  \"\r\n  variant=\"elevated\"\r\n  color=\"orange\"\r\n  >-{{ parseFloat(ticket[0].discount).toFixed(2) || 0.00.toFixed(2) }}</span\r\n>\r\n</div>\r\n            <div style=\"height: 30px; margin-top: 5px\">\r\n\r\n              <label style=\"float: left; padding-left: 5px\">Total </label>\r\n              <span\r\n                style=\"\r\n                  float: right;\r\n                  margin-right: 10px;\r\n                  color: whitesmoke !important  ;\r\n                  font-size: 16px;\r\n                \"\r\n                variant=\"elevated\"\r\n                color=\"orange\"\r\n                >{{ ticket[0].totalticket.toFixed(2) }}</span\r\n              >\r\n            </div>\r\n            <v-divider></v-divider>\r\n\r\n            <div\r\n              style=\"\r\n                height: 140px;\r\n                margin-top: 5px;\r\n                margin-left: 10px;\r\n                margin-right: 10px;\r\n                margin-bottom: 5px;\r\n              \"\r\n            >\r\n              <v-btn\r\n                style=\"background-color: chocolate; float: left; width: 45%\"\r\n                v-on:click=\"\r\n                  emptyTicket();\r\n                  emptyTicketTwo();\r\n                \"\r\n                :disabled=\"btnvalidatedisabled && !ticketvalidate\"\r\n              >\r\n                vider</v-btn\r\n              >\r\n              <v-btn\r\n                style=\"background-color: cadetblue; float: right; width: 45%\"\r\n                v-on:click=\"validateTicket(sessionsmap, securitysettings, authOff)\"\r\n                :disabled=\"getBtnState(btnvalidatedisabled)\"\r\n              >\r\n                Valider</v-btn\r\n              >\r\n              <v-btn\r\n                v-on:click=\"printReceipt(securitysettings, authOff)\"\r\n                style=\"\r\n                  background-color: darkolivegreen;\r\n                  float: right;\r\n                  width: 45%;\r\n                  margin-top: 5px;\r\n                \"\r\n                :disabled=\"ticketvalidate\"\r\n              >\r\n                Imprimer</v-btn\r\n              >\r\n              <p></p>\r\n              <v-btn\r\n                style=\"\r\n                  background-color: darkseagreen;\r\n                  float: right;\r\n                  width: 100%;\r\n                  margin-top: 20px;\r\n                  float: bottom;\r\n                \"\r\n                :disabled=\"!btnvalidatedisabled\"\r\n                v-on:click=\"\r\n                  newTicket();\r\n                  newTicketTwo();\r\n                \"\r\n                id=\"newticketbutton\"\r\n              >\r\n                Nouveau ticket</v-btn\r\n              >\r\n            </div>\r\n            <div style=\"width: 99%; padding-left: 5px; padding-right: 5px\">\r\n              <v-select\r\n                label=\"Serveur\"\r\n                :items=\"waitersnames\"\r\n                variant=\"outlined\"\r\n                ref=\"waiterbox\"\r\n                :disabled=\"getDisabledState()\"\r\n                v-model=\"selectedwaiter\"\r\n              ></v-select>\r\n            </div>\r\n          </v-card>\r\n        </v-container>\r\n      </v-main>\r\n      <v-bottom-navigation>\r\n        <v-btn\r\n          value=\"Administrer\"\r\n          @click=\"showadminlogin(authOff)\"\r\n          v-if=\"loggeduser?.Role == 'Gérant' || loggeduser?.Username == 'SETUP'\"\r\n          class=\"bottomnavbutton\"\r\n        >\r\n          <v-icon ref=\"adminicon\" :class=\"adminclass\">{{ adminloginicon }}</v-icon>\r\n          <span s>Admin</span>\r\n        </v-btn>\r\n        <v-btn value=\"session\" @click=\"changeSessionStatus()\" class=\"bottomnavbutton\">\r\n          <v-icon ref=\"session_icon\" :class=\"sessionstatusclass\">{{\r\n            sessionstatusicon\r\n          }}</v-icon>\r\n\r\n          <span>{{ sessionstatustext }}</span>\r\n        </v-btn>\r\n        <v-btn value=\"orderslist\" @click=\"showOrdersList()\" class=\"bottomnavbutton\">\r\n          <v-icon ref=\"orderslist\">mdi-format-list-bulleted</v-icon>\r\n          <span>Commandes</span>\r\n        </v-btn>\r\n\r\n        <v-btn value=\"Situation\" @click=\"showSituation()\" class=\"bottomnavbutton\">\r\n          <v-icon>mdi-cash</v-icon>\r\n          <span>Situation</span>\r\n        </v-btn>\r\n        <v-btn value=\"vkeyboard\" @click=\"showVirtualkeyBoard()\" class=\"NOMOBILE\">\r\n          <v-icon>mdi-keyboard</v-icon>\r\n\r\n          <span>Clavier virtuel</span>\r\n        </v-btn>\r\n\r\n        <v-btn\r\n          value=\"Ticket\"\r\n          @click=\"showTicketOnLowResolution()\"\r\n          class=\"showinlowresolution bottomnavbutton\"\r\n        >\r\n          <v-icon>mdi-receipt</v-icon>\r\n\r\n          <span>Ticket</span>\r\n        </v-btn>\r\n      </v-bottom-navigation>\r\n      <v-card>\r\n        <v-navigation-drawer\r\n          v-if=\"isadmin\"\r\n          v-model=\"drawer\"\r\n          :location=\"$vuetify.display.mobile ? 'bottom' : undefined\"\r\n          temporary\r\n        >\r\n          <v-list density=\"compact\" nav>\r\n            <v-list-item\r\n              v-if=\"isadmin\"\r\n              prepend-icon=\"mdi-tune\"\r\n              title=\"Paramètres\"\r\n              value=\"params\"\r\n              @click=\"\r\n                paramsdialog = true;\r\n                drawer = false;\r\n              \"\r\n            ></v-list-item>\r\n\r\n            <v-list-item\r\n              v-if=\"isadmin\"\r\n              prepend-icon=\"mdi-account-group-outline\"\r\n              title=\"Gestion des utilisateurs\"\r\n              value=\"usersmanagement\"\r\n              @click=\"userslistsheet = !userslistsheet\"\r\n            ></v-list-item>\r\n            <v-list-item\r\n              v-if=\"isadmin\"\r\n              prepend-icon=\"mdi-printer-settings\"\r\n              title=\"Gestion de l'impression\"\r\n              value=\"printingmanagement\"\r\n              @click=\"printingmanagementsheet = !printingmanagementsheet\"\r\n            ></v-list-item>\r\n          </v-list>\r\n        </v-navigation-drawer>\r\n      </v-card>\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"paramsdialog\" width=\"auto\" max-height=\"600\" persistent>\r\n          <v-card\r\n            max-width=\"400\"\r\n            max-height=\"600\"\r\n            prepend-icon=\"mdi-tune\"\r\n            text=\"Ici vous pouvez modifier les paramètres de l'application\"\r\n            title=\"Pramètres de l'application\"\r\n          >\r\n            <div>\r\n              <v-expansion-panels>\r\n                <v-expansion-panel>\r\n                  <v-expansion-panel-title\r\n                    collapse-icon=\"mdi-minus\"\r\n                    expand-icon=\"mdi-plus\"\r\n                  >\r\n                    Pramètres généraux\r\n                  </v-expansion-panel-title>\r\n                  <v-expansion-panel-text>\r\n                    <v-text-field\r\n                      clearable\r\n                      v-model=\"generalsettings.posname\"\r\n                      label=\"Intitulé du point de vent\"\r\n                      variant=\"solo\"\r\n                      dense\r\n                      @focus=\"onUpdatefocused\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                      clearable\r\n                      v-model=\"generalsettings.address\"\r\n                      label=\"Adresse\"\r\n                      variant=\"solo\"\r\n                      dense\r\n                      @focus=\"onUpdatefocused\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                      clearable\r\n                      label=\"Téléphone\"\r\n                      v-model=\"generalsettings.phone\"\r\n                      variant=\"solo\"\r\n                      dense\r\n                      @focus=\"onUpdatefocused\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                      clearable\r\n                      label=\"Code WIFI\"\r\n                      v-model=\"generalsettings.wificode\"\r\n                      variant=\"solo\"\r\n                      dense\r\n                      @focus=\"onUpdatefocused\"\r\n                    ></v-text-field>\r\n                    <v-btn\r\n                      text=\"Enregister\"\r\n                      v-on:click=\"saveGeneralInformations()\"\r\n                      style=\"color: darkcyan; margin-left: 65%\"\r\n                    ></v-btn>\r\n                  </v-expansion-panel-text>\r\n                </v-expansion-panel>\r\n                <v-expansion-panel>\r\n                  <v-expansion-panel-title\r\n                    collapse-icon=\"mdi-minus\"\r\n                    expand-icon=\"mdi-plus\"\r\n                  >\r\n                    Sécurité\r\n                  </v-expansion-panel-title>\r\n                  <v-expansion-panel-text>\r\n                    <v-radio-group\r\n                      label=\"Mode de déconnexion\"\r\n                      v-model=\"securitysettings.disconnectmode\"\r\n                    >\r\n                      <v-radio label=\"Déconnecter après validation\" value=\"one\"></v-radio>\r\n                      <v-radio label=\"Déconnecter après impression\" value=\"two\"></v-radio>\r\n                    </v-radio-group>\r\n\r\n                    <v-btn\r\n                      text=\"Enregister\"\r\n                      v-on:click=\"saveSecurityOptions()\"\r\n                      style=\"color: darkcyan; margin-left: 65%\"\r\n                    ></v-btn>\r\n                  </v-expansion-panel-text>\r\n                </v-expansion-panel>\r\n                <v-expansion-panel>\r\n                  <v-expansion-panel-title\r\n                    collapse-icon=\"mdi-minus\"\r\n                    expand-icon=\"mdi-plus\"\r\n                  >\r\n                    Autorisations\r\n                  </v-expansion-panel-title>\r\n                  <v-expansion-panel-text>\r\n                    <v-checkbox\r\n                      v-model=\"managerauthorisations.managercancreatetickets\"\r\n                      label=\"Permettre au manager de créer des commandes.\"\r\n                    ></v-checkbox>\r\n                    <v-checkbox\r\n                      v-model=\"managerauthorisations.managercanselectwaiter\"\r\n                      label=\"Permettre au manager de selectionner le serveur manuellement.\"\r\n                    ></v-checkbox>\r\n                    <v-btn\r\n                      text=\"Enregister\"\r\n                      v-on:click=\"saveAuthSettings()\"\r\n                      style=\"color: darkcyan; margin-left: 65%\"\r\n                    ></v-btn>\r\n                  </v-expansion-panel-text>\r\n                </v-expansion-panel>\r\n              </v-expansion-panels>\r\n            </div>\r\n\r\n            <template v-slot:actions>\r\n              <v-btn class=\"ms-auto\" text=\"Fermer\" @click=\"paramsdialog = false\"></v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <div class=\"text-center\">\r\n        <v-bottom-sheet v-model=\"sheet\" inset>\r\n          <v-card class=\"text-left\" height=\"400\">\r\n            <v-btn size=\"x-large\" @click=\"sheet = !sheet\">Fermer</v-btn>\r\n\r\n            <v-card-text>\r\n              <div>\r\n                <v-list-subheader style=\"font-weight: bolder; width: 100%\">\r\n                  Ticket N° : {{ ticketnumber }}\r\n                </v-list-subheader>\r\n                <v-list style=\"max-height: 50vh; overflow-y: auto\" id=\"listticket\">\r\n                  <v-divider></v-divider>\r\n\r\n                  <v-list-item v-for=\"e in ticket[0].content\" :key=\"e.ID\">\r\n                    <v-speed-dial location=\"left center\" transition=\"fade-transition\">\r\n                      <template v-slot:activator=\"{ props: activatorProps }\">\r\n                        <v-chip\r\n                          v-bind=\"activatorProps\"\r\n                          style=\"\"\r\n                          size=\"small\"\r\n                          color=\"orange\"\r\n                          :text=\"e.count\"\r\n                        ></v-chip>\r\n                      </template>\r\n                      <v-btn\r\n                        key=\"1\"\r\n                        icon=\"mdi-comment-text\"\r\n                        style=\"color: mediumslateblue; background-color: yellow\"\r\n                        size=\"small\"\r\n                        @click=\"showComment(e)\"\r\n                      ></v-btn>\r\n                      <v-btn\r\n                        key=\"1\"\r\n                        icon=\"$clear\"\r\n                        color=\"red\"\r\n                        size=\"small\"\r\n                        @click=\"removeFromTicket(e.id)\"\r\n                      ></v-btn>\r\n                      <v-btn\r\n                        key=\"2\"\r\n                        icon=\"$plus\"\r\n                        color=\"green\"\r\n                        size=\"small\"\r\n                        @click=\"increaseCount(e)\"\r\n                      ></v-btn>\r\n                      <v-btn\r\n                        key=\"3\"\r\n                        icon=\"$minus\"\r\n                        color=\"orange\"\r\n                        size=\"small\"\r\n                        style=\"color: white !important\"\r\n                        @click=\"reduceCount(e)\"\r\n                      ></v-btn>\r\n                      <v-btn\r\n                        key=\"4\"\r\n                        icon=\"mdi-dialpad\"\r\n                        color=\"orange\"\r\n                        size=\"small\"\r\n                        style=\"color: white !important; background-color: grey !important\"\r\n                        @click=\"showPad(e)\"\r\n                      ></v-btn>\r\n                    </v-speed-dial>\r\n                    <v-list-item-text style=\"font-size: 11px\">\r\n                      <label style=\"margin-left: 5px\">{{ e.text }}</label>\r\n                      <span\r\n                        size=\"small\"\r\n                        style=\"float: right; margin-right: 5px; align-content: center\"\r\n                        variant=\"elevated\"\r\n                        color=\"primary\"\r\n                        >{{ (e.count * parseFloat(e.price)).toFixed(2) }}</span\r\n                      >\r\n                    </v-list-item-text>\r\n                  </v-list-item>\r\n                </v-list>\r\n                <v-divider></v-divider>\r\n                <div style=\"height: 30px; margin-top: 5px\">\r\n                  <label style=\"float: left; padding-left: 5px\">Total : </label>\r\n                  <span\r\n                    size=\"small\"\r\n                    style=\"\r\n                      float: right;\r\n                      width: 120px;\r\n                      padding: 0 25px;\r\n                      text-align: right;\r\n                      color: whitesmoke !important  ;\r\n                      font-size: 14px;\r\n                    \"\r\n                    variant=\"elevated\"\r\n                    color=\"orange\"\r\n                    >{{ ticket[0].totalticket.toFixed(2) }}</span\r\n                  >\r\n                </div>\r\n                <v-divider></v-divider>\r\n                <div\r\n                  style=\"\r\n                    height: 140px;\r\n                    margin-top: 5px;\r\n                    margin-left: 10px;\r\n                    margin-right: 10px;\r\n                    margin-bottom: 5px;\r\n                  \"\r\n                >\r\n                  <v-btn\r\n                    style=\"background-color: orange; float: left; width: 45%\"\r\n                    v-on:click=\"\r\n                      emptyTicket();\r\n                      emptyTicketTwo();\r\n                    \"\r\n                    :disabled=\"btnvalidatedisabled && !ticketvalidate\"\r\n                  >\r\n                    vider</v-btn\r\n                  >\r\n                  <v-btn\r\n                    style=\"background-color: cadetblue; float: right; width: 45%\"\r\n                    v-on:click=\"validateTicket(sessionsmap, securitysettings, authOff)\"\r\n                    :disabled=\"btnvalidatedisabled\"\r\n                  >\r\n                    Valider</v-btn\r\n                  >\r\n                  <v-btn\r\n                    v-on:click=\"printReceipt(securitysettings, authOff)\"\r\n                    style=\"\r\n                      background-color: darkolivegreen;\r\n                      float: right;\r\n                      width: 45%;\r\n                      margin-top: 5px;\r\n                    \"\r\n                    :disabled=\"ticketvalidate\"\r\n                  >\r\n                    Imprimer</v-btn\r\n                  >\r\n                  <p></p>\r\n                  <v-btn\r\n                    style=\"\r\n                      background-color: darkseagreen;\r\n                      float: right;\r\n                      width: 100%;\r\n                      margin-top: 20px;\r\n                      float: bottom;\r\n                    \"\r\n                    :disabled=\"!btnvalidatedisabled\"\r\n                    v-on:click=\"\r\n                      newTicket();\r\n                      newTicketTwo();\r\n                    \"\r\n                  >\r\n                    Nouveau ticket</v-btn\r\n                  >\r\n                </div>\r\n                <div style=\"width: 99%; padding-left: 5px; padding-right: 5px\">\r\n                  <v-select\r\n                    label=\"Serveur\"\r\n                    :items=\"waitersnames\"\r\n                    variant=\"outlined\"\r\n                    ref=\"waiterbox\"\r\n                    v-model=\"selectedwaiter\"\r\n                    readonly\r\n                  ></v-select>\r\n                </div>\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n\r\n      <!--Add new Category dialog-->\r\n      <new-category-dialog-component\r\n        v-model=\"isCategoryDialogOpen\"\r\n        :categorytoedit=\"editcat\"\r\n        @alert=\"alertHandler\"\r\n        @update:model-value=\"closeCategoryDialog\"\r\n        :categories=\"categories\"\r\n      ></new-category-dialog-component>\r\n\r\n      <!--Add new product dialog-->\r\n      <new-product-dialog-component\r\n        v-if=\"isadmin\"\r\n        :parentcategory=\"selectedcategory\"\r\n        v-model=\"isProductDialogOpen\"\r\n        @alert=\"alertHandler\"\r\n        @update:model-value=\"closeProductDialog\"\r\n      ></new-product-dialog-component>\r\n      <!--Edit product dialog-->\r\n      <edit-product-dialog-component\r\n        v-if=\"isadmin\"\r\n        :editproduct=\"editelement\"\r\n        v-model=\"isEditProductDialogOpen\"\r\n        @alert=\"alertHandler\"\r\n        @update:model-value=\"closeEditProductDialog\"\r\n        :categories=\"categories\"\r\n      ></edit-product-dialog-component>\r\n      <!--User management dialog-->\r\n      <manage-users-dialog-component\r\n        v-if=\"isadmin\"\r\n        v-model=\"isManageUsersDialogOpen\"\r\n        @alert=\"alertHandler\"\r\n        @update:model-value=\"closeManageUsersDialog\"\r\n        @inform=\"inform\"\r\n      ></manage-users-dialog-component>\r\n      <!--Edit users dialog-->\r\n      <edit-users-dialog-component\r\n        v-if=\"isadmin\"\r\n        v-model=\"isEditUsersDialogOpen\"\r\n        @alert=\"alertHandler\"\r\n        @update:model-value=\"closeEditUsersDialog\"\r\n        @inform=\"inform\"\r\n        :usertoedit=\"usertoedit\"\r\n      ></edit-users-dialog-component>\r\n\r\n      <!--alert dialog-->\r\n      <div class=\"centerstuff\">\r\n        <v-bottom-sheet v-model=\"showalerttwo\" inset>\r\n          <v-card\r\n            :class=\"alertcardclasstwo\"\r\n            id=\"alertcard\"\r\n            height=\"150\"\r\n            style=\"opacity: 0.9\"\r\n          >\r\n            <v-card-text>\r\n              <v-btn variant=\"text\" @click=\"showalerttwo = !showalerttwo\"> Fermer </v-btn>\r\n              <div>\r\n                {{ alerttexttwo }}\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n      <div class=\"centerstuff\">\r\n        <v-bottom-sheet v-model=\"showalert\" inset>\r\n          <v-card\r\n            :class=\"alertcardclass\"\r\n            id=\"alertcard\"\r\n            height=\"150\"\r\n            style=\"opacity: 0.9\"\r\n          >\r\n            <v-card-text>\r\n              <v-btn variant=\"text\" @click=\"showalert = !showalert\"> Fermer </v-btn>\r\n              <div>\r\n                {{ alerttext }}\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"confirmdialog\" max-width=\"400\" persistent>\r\n          <v-card prepend-icon=\"mdi-delete\" :text=\"confirmationtext\" title=\"Supression\">\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  confirmDelete();\r\n                  confirmdialog = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"confirmdialog = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <!--COMMENT DIALOG-->\r\n      <v-dialog v-model=\"showcommentdialog\" max-width=\"400\" persistent>\r\n        <v-card prepend-icon=\"mdi-comment-text\" title=\"Message\">\r\n          <v-textarea\r\n            class=\"ma-2\"\r\n            v-model=\"comment\"\r\n            label=\"Message\"\r\n            bg-color=\"amber-lighten-4\"\r\n            @focus=\"onUpdatefocused\"\r\n            clearable\r\n          ></v-textarea>\r\n\r\n          <v-btn @click=\"saveComment(selecteditem)\">Enregistrer</v-btn>\r\n          <v-btn @click=\"showcommentdialog = false\"> Fermer </v-btn>\r\n        </v-card>\r\n      </v-dialog>\r\n      <!--DELETE USER CONFIRMATION-->\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"confirmdeleteprintingprofiledialog\" max-width=\"400\" persistent>\r\n          <v-card\r\n            prepend-icon=\"mdi-delete\"\r\n            :text=\"confirmtext\"\r\n            title=\"Supression de profile d'impression\"\r\n          >\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  deletePrintingProfile();\r\n                  confirmdeleteprintingprofiledialog = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"confirmdeleteuderdialog = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <!--DELETE USER CONFIRMATION-->\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"confirmdeleteuderdialog\" max-width=\"400\" persistent>\r\n          <v-card prepend-icon=\"mdi-delete\" :text=\"confirmtext\" title=\"Supression\">\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  deleteUser();\r\n                  confirmdialog = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"confirmdeleteuderdialog = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <!--CONFIRM CHECK ORDER-->\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"confirmcheckorderdialog\" max-width=\"400\" persistent>\r\n          <v-card\r\n            prepend-icon=\"mdi-marker-check\"\r\n            :text=\"confirmcheckordertext\"\r\n            title=\"Paiement\"\r\n          >\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  checkConfirmation();\r\n                  confirmcheckorderdialog = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"confirmcheckorderdialog = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <!--CONFIRM CANCEL ORDER-->\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"confirmcancelorderdialg\" max-width=\"400\" persistent>\r\n          <v-card\r\n            prepend-icon=\"mdi-cancel\"\r\n            :text=\"confirmcancelordertext\"\r\n            title=\"Annulation\"\r\n          >\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  cancelOrder();\r\n                  confirmcancelorderdialg = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"confirmcancelorderdialg = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <!--CONFIRM START END SESSION-->\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"confirmstartendsessiondialog\" max-width=\"400\" persistent>\r\n          <v-card\r\n            prepend-icon=\"mdi-clock-start\"\r\n            :text=\"confirmstartendsessiontext\"\r\n            title=\"Session\"\r\n          >\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  confirmStartOrEndSession();\r\n                  confirmstartendsessiondialog = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"confirmstartendsessiondialog = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <div class=\"text-center pa-4\">\r\n        <v-dialog v-model=\"deleteproductconfirmdialog\" max-width=\"400\" persistent>\r\n          <v-card prepend-icon=\"mdi-delete\" :text=\"confirmationtext\" title=\"Supression\">\r\n            <template v-slot:actions>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                @click=\"\r\n                  confirmDeleteProduct();\r\n                  deleteproductconfirmdialog = false;\r\n                \"\r\n              >\r\n                OUI\r\n              </v-btn>\r\n\r\n              <v-btn @click=\"deleteproductconfirmdialog = false\"> NON </v-btn>\r\n            </template>\r\n          </v-card>\r\n        </v-dialog>\r\n      </div>\r\n      <!--KEYPAD-->\r\n      <div>\r\n        <v-dialog v-model=\"showpad\" width=\"150px\" class=\"centerstuff\">\r\n          <div class=\"display\" id=\"display\">{{ currentelement.count }}</div>\r\n          <div class=\"keypad\">\r\n            <button @click=\"pressButton('1')\">1</button>\r\n            <button @click=\"pressButton('2')\">2</button>\r\n            <button @click=\"pressButton('3')\">3</button>\r\n            <button @click=\"pressButton('4')\">4</button>\r\n            <button @click=\"pressButton('5')\">5</button>\r\n            <button @click=\"pressButton('6')\">6</button>\r\n            <button @click=\"pressButton('7')\">7</button>\r\n            <button @click=\"pressButton('8')\">8</button>\r\n            <button @click=\"pressButton('9')\">9</button>\r\n            <button class=\"control\" @click=\"clearDisplay()\">C</button>\r\n            <button @click=\"pressButton('0')\">0</button>\r\n            <button class=\"control\" @click=\"deleteLast()\">⌫</button>\r\n            <button class=\"validate\" @click=\"validateInput()\">✔</button>\r\n          </div>\r\n        </v-dialog>\r\n      </div>\r\n      <!--PRINTING DIALOG-->\r\n\r\n      <v-dialog v-model=\"showprintingdialog\" width=\"400\" height=\"700\" class=\"centerstuff\">\r\n        <v-card prepend-icon=\"mdi-printer\" class=\"pa-2\" title=\"Impression\">\r\n          <v-text-field\r\n            label=\"Nom du profile\"\r\n            v-model=\"printingprofile.profile\"\r\n            variant=\"solo-filled\"\r\n            :rules=\"[required]\"\r\n            density=\"compact\"\r\n          ></v-text-field>\r\n          <v-select\r\n            label=\"Mode d'impression\"\r\n            v-model=\"printingprofile.printingmode\"\r\n            :items=\"printingmodes\"\r\n            variant=\"solo-filled\"\r\n            density=\"compact\"\r\n            :rules=\"[required]\"\r\n          >\r\n          </v-select>\r\n          <v-select\r\n            label=\"Fonction\"\r\n            v-model=\"printingprofile.printingfunction\"\r\n            :items=\"printingfunctions\"\r\n            variant=\"solo-filled\"\r\n            density=\"compact\"\r\n            :rules=\"[required]\"\r\n          >\r\n          </v-select>\r\n          <v-card\r\n            v-if=\"printingprofile.printingfunction == 'Personnalisé'\"\r\n            style=\"overflow-y: scroll\"\r\n            min-height=\"80\"\r\n          >\r\n            <v-chip-group v-model=\"printingprofile.printingoptions\" column multiple>\r\n              <v-chip\r\n                v-for=\"cat in categories\"\r\n                style=\"font-size: 0.6rem\"\r\n                :key=\"cat.categoryid\"\r\n                :text=\"cat.categoryname\"\r\n                :value=\"cat.categoryid\"\r\n                variant=\"outlined\"\r\n                filter\r\n              ></v-chip>\r\n            </v-chip-group>\r\n          </v-card>\r\n          <v-text-field\r\n            label=\"Adresse IP\"\r\n            v-model=\"printingprofile.printerip\"\r\n            variant=\"solo-filled\"\r\n            density=\"compact\"\r\n            :rules=\"[required]\"\r\n          >\r\n          </v-text-field>\r\n          <v-text-field\r\n            label=\"Port\"\r\n            v-model=\"printingprofile.printerport\"\r\n            variant=\"solo-filled\"\r\n            density=\"compact\"\r\n            :rules=\"[required]\"\r\n          >\r\n          </v-text-field>\r\n          <v-number-input\r\n            v-model=\"printingprofile.copies\"\r\n            label=\"Copies\"\r\n            density=\"compact\"\r\n            variant=\"solo-filled\"\r\n            control-variant=\"hidden\"\r\n            :rules=\"[required]\"\r\n            min=\"1\"\r\n          >\r\n          </v-number-input>\r\n          <v-switch\r\n            v-model=\"printingprofile.active\"\r\n            color=\"green\"\r\n            :label=\"printingprofile.active ? 'Actif' : 'Inactif'\"\r\n            hide-details\r\n          ></v-switch>\r\n\r\n          <template v-slot:actions>\r\n            <v-spacer></v-spacer>\r\n\r\n            <v-btn @click=\"showprintingdialog = false\"> Fermer </v-btn>\r\n            <v-btn\r\n              @click=\"savePrintingProfile\"\r\n              :disabled=\"\r\n                !Object.values(printingprofile).every(\r\n                  (value) => value !== '' && value !== null && value !== undefined\r\n                )\r\n              \"\r\n            >\r\n              Enregistrer\r\n            </v-btn>\r\n          </template>\r\n        </v-card>\r\n      </v-dialog>\r\n\r\n      <!--ADMIN LOGIN-->\r\n\r\n      <div>\r\n        <v-dialog v-model=\"showadminprompt\" width=\"150px\" class=\"centerstuff\">\r\n          <div style=\"border-radius: 10px; width: 150px; text-align: center\">\r\n            <input\r\n              ref=\"adminpass\"\r\n              type=\"password\"\r\n              v-model=\"adminpassword\"\r\n              style=\"\r\n                width: 80%;\r\n                color: black;\r\n                text-align: center;\r\n                font-size: 20px;\r\n                border-color: darkslateblue;\r\n                background-color: darkseagreen;\r\n                border-radius: 10px;\r\n                border-style: solid;\r\n                border-width: 3px;\r\n              \"\r\n              @focus=\"onUpdatefocused\"\r\n            />\r\n            <v-btn\r\n              style=\"margin-top: 20px; background-color: darkolivegreen; color: white\"\r\n              @click=\"adminLogin()\"\r\n              >Go</v-btn\r\n            >\r\n          </div>\r\n        </v-dialog>\r\n      </div>\r\n      <!--ORDERS LIST-->\r\n      <div>\r\n        <v-bottom-sheet v-model=\"showorderslist\">\r\n          <div>\r\n            <order-content-component\r\n              :order=\"selectedorder\"\r\n              :settings=\"generalsettings\"\r\n              v-model=\"showcontent\"\r\n              @close=\"showcontent = false\"\r\n            ></order-content-component>\r\n          </div>\r\n\r\n          <v-card class=\"text-center\" height=\"100vh\">\r\n            <v-card-text>\r\n              <v-btn variant=\"text\" @click=\"showorderslist = !showorderslist\">\r\n                Fermer\r\n              </v-btn>\r\n\r\n              <div>\r\n                <v-card flat>\r\n                  <v-card-title class=\"d-flex\">\r\n                    <input type=\"date\" v-model=\"startdatemodel\" />\r\n\r\n                    <label\r\n                      style=\"\r\n                        font-size: 12px;\r\n                        padding-top: 15px;\r\n                        margin-right: 10px;\r\n                        margin-left: 10px;\r\n                        width: 100px;\r\n                        align-content: right;\r\n                      \"\r\n                      >à partir de :</label\r\n                    >\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"appt-time\"\r\n                      name=\"appt-time\"\r\n                      step=\"600\"\r\n                      value=\"00:00:01\"\r\n                      v-model=\"starttimemodel\"\r\n                    />\r\n                    <label\r\n                      for=\"status\"\r\n                      style=\"\r\n                        font-size: 12px;\r\n                        padding-top: 15px;\r\n                        margin-right: 10px;\r\n                        margin-left: 10px;\r\n                      \"\r\n                      >Etat:</label\r\n                    >\r\n                    <select\r\n                      id=\"statusbox\"\r\n                      name=\"language\"\r\n                      v-model=\"ordersstatus\"\r\n                      @change=\"statuschanged\"\r\n                    >\r\n                      <option value=\"TOUT\" selected>Tout</option>\r\n                      <option value=\"IMPAYE\">Impayé</option>\r\n                      <option value=\"PAYE\">Payé</option>\r\n                      <option value=\"ANNULE\">Annulé</option>\r\n                    </select>\r\n\r\n                    <v-spacer></v-spacer>\r\n\r\n                    <v-text-field\r\n                      v-model=\"searchorder\"\r\n                      density=\"compact\"\r\n                      label=\"Recherche\"\r\n                      prepend-inner-icon=\"mdi-magnify\"\r\n                      variant=\"solo-filled\"\r\n                      flat\r\n                      hide-details\r\n                      single-line\r\n                      max-width=\"300\"\r\n                      style=\"height: 40px\"\r\n                      @focus=\"onUpdatefocused\"\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n                  <v-card-title class=\"d-flex\">\r\n                    <input type=\"date\" v-model=\"enddatemodel\" />\r\n\r\n                    <label\r\n                      style=\"\r\n                        font-size: 12px;\r\n                        padding-top: 15px;\r\n                        margin-right: 10px;\r\n                        margin-left: 10px;\r\n                        width: 100px;\r\n                        align-content: right;\r\n                      \"\r\n                      >jusqu'à :</label\r\n                    >\r\n                    <input\r\n                      type=\"time\"\r\n                      id=\"appt-time\"\r\n                      name=\"appt-time\"\r\n                      step=\"600\"\r\n                      value=\"23:59:59\"\r\n                      v-model=\"endtimemodel\"\r\n                    />\r\n\r\n                    <v-btn style=\"margin-top: 5px; margin-left: 10px\" @click=\"getOrders\"\r\n                      ><v-icon>mdi-refresh</v-icon> Recharger</v-btn\r\n                    >\r\n                    <v-btn\r\n                      style=\"margin-top: 5px; margin-left: 10px\"\r\n                      @click=\"printOrders()\"\r\n                      ><v-icon>mdi-file-pdf</v-icon> Exporter</v-btn\r\n                    >\r\n                    <v-spacer></v-spacer>\r\n                  </v-card-title>\r\n\r\n                  <v-data-table\r\n                    id=\"orderstable\"\r\n                    :headers=\"[\r\n                      {\r\n                        title: 'Numéro',\r\n                        align: 'start',\r\n                        sortable: true,\r\n                        key: 'number',\r\n                      },\r\n                      { title: 'Serveur', key: 'waiter' },\r\n\r\n                      { title: 'Initiateur', key: 'creator' },\r\n                      { title: 'Date et heure', key: 'creationdate' },\r\n                      { title: 'Etat', key: 'status' },\r\n                      { title: 'Total', key: 'totalticket' },\r\n                      { title: 'Actions', key: 'actions' },\r\n                    ]\"\r\n                    v-model:search=\"searchorder\"\r\n                    :filter-keys=\"['waiter', 'creator', 'status', 'number']\"\r\n                    :items=\"filtredorders\"\r\n                    style=\"text-align: left\"\r\n                    :itemsPerPageText=\"ordersProps.itemsPerPageText\"\r\n                    :itemsPerPageOptions=\"ordersProps.itemsPerPageOptions\"\r\n                  >\r\n                    <template v-slot:[`item.status`]=\"{ item }\">\r\n                      <p :class=\"item.status\">{{ item.status }}</p>\r\n                    </template>\r\n                    <template v-slot:[`item.totalticket`]=\"{ item }\">\r\n                      <p>{{ item.totalticket.toFixed(2) }}</p>\r\n                    </template>\r\n                    <template v-slot:[`item.actions`]=\"{ item }\">\r\n                      <v-icon class=\"me-2\" size=\"large\" @click=\"confirmCheckOrder(item)\">\r\n                        mdi-cash-check\r\n                      </v-icon>\r\n\r\n                      <v-icon\r\n                        size=\"large\"\r\n                        style=\"margin-left: 5px\"\r\n                        @click=\"showContent(item)\"\r\n                      >\r\n                        mdi-eye\r\n                      </v-icon>\r\n                      <v-icon\r\n                        size=\"large\"\r\n                        style=\"margin-left: 5px\"\r\n                        @click=\"confirmCancelOrder(item)\"\r\n                        v-if=\"loggeduser?.Role == 'Gérant'\"\r\n                      >\r\n                        mdi-cancel\r\n                      </v-icon>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n      <!--SITUATION-->\r\n      <div>\r\n        <v-bottom-sheet v-model=\"showsituation\" inset class=\"situation\">\r\n          <v-card class=\"text-center\" height=\"55vh\">\r\n            <v-card-text>\r\n              <v-btn variant=\"text\" @click=\"showsituation = !showsituation\">\r\n                Fermer\r\n              </v-btn>\r\n\r\n              <v-card flat>\r\n                <v-card-title class=\"d-flex align-center pe-2\">\r\n                  Situation des commandes\r\n\r\n                  <v-spacer></v-spacer>\r\n                </v-card-title>\r\n\r\n                <v-divider></v-divider>\r\n                <v-spacer></v-spacer>\r\n                <v-select\r\n                  label=\"Utilisateur\"\r\n                  :items=\"usersnames\"\r\n                  variant=\"outlined\"\r\n                  @update:modelValue=\"userSelectionChanged\"\r\n                  v-model=\"selectedperson\"\r\n                ></v-select>\r\n                <div style=\"font-size: 12px; text-align: left\">\r\n                  <table style=\"width: 100%; border-collapse: collapse\">\r\n                    <tr>\r\n                      <td style=\"width: 60%\">Début</td>\r\n\r\n                      <td style=\"width: 40%; text-align: right\">\r\n                        {{ getDateTime(sessions.get(selectedperson)?.start) }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%\">Fin</td>\r\n\r\n                      <td style=\"width: 40%; text-align: right\">\r\n                        {{ getDateTime(sessions.get(selectedperson)?.end) }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%; background-color: darkcyan\">Total payées</td>\r\n\r\n                      <td\r\n                        style=\"width: 40%; text-align: right; background-color: darkcyan\"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.totalpaid?.toFixed(2)\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%; background-color: darkcyan\">\r\n                        Nombre payées\r\n                      </td>\r\n\r\n                      <td\r\n                        style=\"width: 40%; text-align: right; background-color: darkcyan\"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.countpaid\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%; background-color: darkgoldenrod\">\r\n                        Total impayées\r\n                      </td>\r\n\r\n                      <td\r\n                        style=\"\r\n                          width: 40%;\r\n                          text-align: right;\r\n                          background-color: darkgoldenrod;\r\n                        \"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.totalinpaid?.toFixed(2)\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%; background-color: darkgoldenrod\">\r\n                        Nombre impayées\r\n                      </td>\r\n\r\n                      <td\r\n                        style=\"\r\n                          width: 40%;\r\n                          text-align: right;\r\n                          background-color: darkgoldenrod;\r\n                        \"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.countinpaid\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%; background-color: dimgray\">\r\n                        Total annulées\r\n                      </td>\r\n\r\n                      <td\r\n                        style=\"width: 40%; text-align: right; background-color: dimgray\"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.totalcanceled?.toFixed(2)\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"width: 60%; background-color: dimgray\">\r\n                        Nombre annulées\r\n                      </td>\r\n\r\n                      <td\r\n                        style=\"width: 40%; text-align: right; background-color: dimgray\"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.countcanceled\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td\r\n                        style=\"\r\n                          width: 60%;\r\n                          background-color: darkgreen;\r\n                          font-size: 14px;\r\n                          font-weight: bold;\r\n                        \"\r\n                      >\r\n                        Total\r\n                      </td>\r\n\r\n                      <td\r\n                        style=\"\r\n                          width: 40%;\r\n                          text-align: right;\r\n                          background-color: darkgreen;\r\n                          font-size: 14px;\r\n                          font-weight: bold;\r\n                        \"\r\n                      >\r\n                        {{\r\n                          getDateTime(sessions.get(selectedperson)?.start) != \"\"\r\n                            ? situation?.total?.toFixed(2)\r\n                            : \"0.00\"\r\n                        }}\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                  <v-btn\r\n                    color=\"orange\"\r\n                    style=\"float: right; margin-top: 10px\"\r\n                    @click=\"printSituation()\"\r\n                    >Imprimer</v-btn\r\n                  >\r\n                </div>\r\n              </v-card>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n      <!--PRINTING MANAGEMENT-->\r\n      <div>\r\n        <v-bottom-sheet v-model=\"printingmanagementsheet\" inset>\r\n          <v-card class=\"text-center\" height=\"70vh\" width=\"80vw\">\r\n            <v-card-text>\r\n              <v-btn\r\n                variant=\"text\"\r\n                @click=\"printingmanagementsheet = !printingmanagementsheet\"\r\n              >\r\n                Fermer\r\n              </v-btn>\r\n              <v-btn ariant=\"text\" @click=\"openManagePrintingDialog()\"> Nouveau </v-btn>\r\n\r\n              <div>\r\n                <v-card flat>\r\n                  <v-card-title class=\"d-flex align-center pe-2\">\r\n                    <v-icon icon=\"mdi-printer\"></v-icon> &nbsp; Gestion de l'impression\r\n                  </v-card-title>\r\n\r\n                  <v-spacer></v-spacer>\r\n\r\n                  <v-data-table\r\n                    :headers=\"[\r\n                      {\r\n                        title: 'Profile',\r\n                        align: 'start',\r\n                        sortable: true,\r\n                        key: 'profile',\r\n                      },\r\n                      { title: 'Mode', key: 'printingmode' },\r\n                      { title: 'Fonction', key: 'printingfunction' },\r\n                      { title: 'Adresse IP', key: 'printerip' },\r\n                      { title: 'Port', key: 'printerport' },\r\n                      { title: 'Copies', key: 'copies' },\r\n                      { title: 'Actif', key: 'active' },\r\n                      { title: 'Actions', key: 'actions' },\r\n                    ]\"\r\n                    :items=\"printingprofiles\"\r\n                    style=\"text-align: left\"\r\n                    :itemsPerPageText=\"footerPropsPrinters.itemsPerPageText\"\r\n                    :itemsPerPageOptions=\"footerPropsPrinters.itemsPerPageOptions\"\r\n                  >\r\n                    <template v-slot:[`item.active`]=\"{ item }\">\r\n                      <p :class=\"item.active ? 'active' : 'inactive'\">\r\n                        {{ item.active ? \"Oui\" : \"Non\" }}\r\n                      </p>\r\n                    </template>\r\n                    <template v-slot:[`item.actions`]=\"{ item }\">\r\n                      <v-icon\r\n                        class=\"me-2\"\r\n                        size=\"small\"\r\n                        @click=\"\r\n                          printingprofile = item;\r\n                          openEditPrintingProfile();\r\n                        \"\r\n                      >\r\n                        mdi-pencil\r\n                      </v-icon>\r\n\r\n                      <v-icon size=\"small\" @click=\"confirmDeletePrintingProfile(item)\">\r\n                        mdi-delete\r\n                      </v-icon>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n      <!--USERS LIST-->\r\n      <div>\r\n        <v-bottom-sheet v-model=\"userslistsheet\" inset>\r\n          <v-card class=\"text-center\" height=\"70vh\">\r\n            <v-card-text>\r\n              <v-btn variant=\"text\" @click=\"userslistsheet = !userslistsheet\">\r\n                Fermer\r\n              </v-btn>\r\n              <v-btn ariant=\"text\" @click=\"openManageUsersDialog()\"> Nouveau </v-btn>\r\n\r\n              <div>\r\n                <v-card flat>\r\n                  <v-card-title class=\"d-flex align-center pe-2\">\r\n                    <v-icon icon=\"mdi-account-group-outline\"></v-icon> &nbsp; Liste des\r\n                    utilisateurs\r\n\r\n                    <v-spacer></v-spacer>\r\n\r\n                    <v-text-field\r\n                      v-model=\"search\"\r\n                      density=\"compact\"\r\n                      label=\"Recherche\"\r\n                      prepend-inner-icon=\"mdi-magnify\"\r\n                      variant=\"solo-filled\"\r\n                      flat\r\n                      hide-details\r\n                      single-line\r\n                      @focus=\"onUpdatefocused\"\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n\r\n                  <v-divider></v-divider>\r\n                  <v-spacer></v-spacer>\r\n\r\n                  <v-data-table\r\n                    :headers=\"[\r\n                      {\r\n                        title: 'Nom d\\'utilisateur',\r\n                        align: 'start',\r\n                        sortable: true,\r\n                        key: 'Username',\r\n                      },\r\n                      { title: 'Rôle', key: 'Role' },\r\n                      { title: 'Actions', key: 'actions' },\r\n                    ]\"\r\n                    v-model:search=\"search\"\r\n                    :filter-keys=\"['Username', 'Role']\"\r\n                    :items=\"users\"\r\n                    style=\"text-align: left\"\r\n                    :itemsPerPageText=\"footerProps.itemsPerPageText\"\r\n                    :itemsPerPageOptions=\"footerProps.itemsPerPageOptions\"\r\n                  >\r\n                    <template v-slot:[`item.actions`]=\"{ item }\">\r\n                      <v-icon\r\n                        class=\"me-2\"\r\n                        size=\"small\"\r\n                        @click=\"\r\n                          usertoedit = item;\r\n                          openEditUsersDialog();\r\n                        \"\r\n                      >\r\n                        mdi-pencil\r\n                      </v-icon>\r\n\r\n                      <v-icon size=\"small\" @click=\"confirmDeleteUser(item)\">\r\n                        mdi-delete\r\n                      </v-icon>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-bottom-sheet>\r\n      </div>\r\n    </v-app>\r\n  </v-responsive>\r\n</template>\r\n\r\n<script setup>\r\nimport { filtredMenu, getSortedFiltredMenu, initSortable, store } from \"./Utils\";\r\nimport { ref, onMounted, reactive, watch } from \"vue\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nconst initialprintingprofile = {\r\n  profile: \"\",\r\n  printingmode: \"\",\r\n  printingfunction: \"\",\r\n  printingoptions: [],\r\n  printerip: \"\",\r\n  printerport: \"9100\",\r\n  copies: 1,\r\n  active: false,\r\n};\r\nconst printingprofile = ref({ ...initialprintingprofile });\r\nconst printingmodes = ref([\"USB\", \"LAN\"]);\r\nconst printingfunctions = ref([\"Reçu\", \"Situation\", \"Personnalisé\"]);\r\nconst printingprofiles = ref([]);\r\nconst showprintingdialog = ref(false);\r\n\r\nconst selectedperson = ref(\"\");\r\nconst isCategoryDialogOpen = ref(false);\r\nconst isProductDialogOpen = ref(false);\r\nconst isEditProductDialogOpen = ref(false);\r\nconst isManageUsersDialogOpen = ref(false);\r\nconst isEditUsersDialogOpen = ref(false);\r\nconst confirmdeleteuderdialog = ref(false);\r\nconst confirmtext = ref(\"\");\r\nconst managerauthorisations = ref({\r\n  managercancreatetickets: true,\r\n  managercanselectwaiter: false,\r\n});\r\nconst selectedwaiter = ref(\"\");\r\nconst rail = ref(true);\r\nconst drawer = ref(false);\r\nconst waiters = ref(\"\");\r\nconst waitersnames = ref(\"\");\r\nconst selecteditem = ref(null);\r\nconst comment = ref(\"\");\r\nconst authenticated = ref(false);\r\nconst users = ref(\"\");\r\nconst userslistsheet = ref(false);\r\nconst showorderslist = ref(false);\r\nconst search = ref(\"\");\r\nconst searchorder = ref(\"\");\r\nconst usertodelete = ref(\"\");\r\nconst selectedorder = ref(null);\r\nconst showsituation = ref(false);\r\nlet usertoedit = null;\r\nconst loggeduser = ref(null);\r\nconst ordersstatus = ref(\"Tout\");\r\nconst sessionended = ref(false);\r\nconst printingmanagementsheet = ref(false);\r\n\r\nconst footerProps = {\r\n  itemsPerPageText: \"Utilisateurs par page\",\r\n  itemsPerPageOptions: [5, 10, 20],\r\n};\r\nconst footerPropsPrinters = {\r\n  itemsPerPageText: \"Imprimantes par page\",\r\n  itemsPerPageOptions: [5, 10, 20],\r\n};\r\nconst ordersProps = {\r\n  itemsPerPageText: \"Commmandes par page\",\r\n  itemsPerPageOptions: [10, 20, 50, 100],\r\n};\r\n\r\nconst orders = ref([]);\r\nconst filtredorders = ref([]);\r\n\r\nlet editcat = { categoryname: \"\", categoryid: \"\" };\r\nlet addcatbutton = false;\r\nlet keyssaved = \"\";\r\nlet lenghtcounter = 0;\r\nconst showcontent = ref(false);\r\nconst startdatemodel = ref(null);\r\nconst starttimemodel = ref(\"00:00:01\");\r\nconst enddatemodel = ref(null);\r\nconst usersnames = ref(\"\");\r\nconst endtimemodel = ref(\"23:59:59\");\r\nconst theme = ref(\"dark\");\r\nconst generalsettings = ref({ posname: \"\", address: \"\", phone: \"\", wificode: \"\" });\r\nconst securitysettings = ref({ disconnectmode: \"two\" });\r\nconst waiterbox = ref(null);\r\nconst themes = ref([\r\n  { title: \"bluegrey\" },\r\n  { title: \"dark\" },\r\n  { title: \"brown\" },\r\n  { title: \"teal\" },\r\n  { title: \"deepblue\" },\r\n  { title: \"purple\" },\r\n]);\r\nfunction openManagePrintingDialog() {\r\n  showprintingdialog.value = true;\r\n  printingprofile.value = { ...initialprintingprofile };\r\n}\r\nconst editprofile = ref(false);\r\nfunction openEditPrintingProfile() {\r\n  editprofile.value = true;\r\n  showprintingdialog.value = true;\r\n}\r\nconst printingprofiletodelete = ref(\"\");\r\nfunction getOverlayStyle() {\r\n  return (\r\n    \"z-index:9998;width:100%; height:100%; position: fixed; background-size: cover;top: 0;left: 0; background-image:url(https://\" +\r\n    getHostName() +\r\n    \"/img/coffeeshop.jpg); opacity:0.5\"\r\n  );\r\n}\r\nfunction confirmDeletePrintingProfile(item) {\r\n  confirmtext.value = `Voulez-vous vraiment supprimer le profile d'impression ${item.profile} ?`;\r\n  confirmdeleteprintingprofiledialog.value = true;\r\n  printingprofiletodelete.value = item;\r\n}\r\nconst confirmdeleteprintingprofiledialog = ref(false);\r\nconst valdiationbuttonstate = ref(false);\r\nconst getBtnState = (state) => {\r\n  valdiationbuttonstate.value = state;\r\n  return state;\r\n};\r\nwatch(valdiationbuttonstate, (newValue) => {\r\n  if (newValue === false) {\r\n    enableRFIDReading();\r\n  } else {\r\n    disableRFIDReading();\r\n  }\r\n});\r\nasync function savePrintingProfile() {\r\n  if (\r\n    printingprofiles.value.find((e) => e.profile == printingprofile.value.profile) !=\r\n      null &&\r\n    !editprofile.value\r\n  ) {\r\n    alertHandlerTwo({\r\n      Prefix: \"ERROR\",\r\n      Message: \"Ce nom de profile existe déjà\",\r\n      data: \"\",\r\n    });\r\n    return;\r\n  }\r\n\r\n  if (editprofile.value) {\r\n    await updatePrintingProfile();\r\n    return;\r\n  }\r\n  printingprofiles.value.push({ ...printingprofile.value });\r\n  const form = new FormData();\r\n\r\n  form.append(\"printingsettings\", JSON.stringify(printingprofiles.value));\r\n  await fetch(\"https://\" + getHostName() + \"/saveprintingsettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(resp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n\r\n      printingprofile.value = { ...initialprintingprofile };\r\n      showprintingdialog.value = false;\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function deletePrintingProfile() {\r\n  const form = new FormData();\r\n  form.append(\"printingsettings\", JSON.stringify(printingprofiles.value));\r\n  await fetch(\"https://\" + getHostName() + \"/saveprintingsettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(resp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n      if (data.Prefix == \"ERROR\") return;\r\n      printingprofiles.value = printingprofiles.value.filter(\r\n        (e) => e.profile != printingprofiletodelete.value.profile\r\n      );\r\n      confirmdeleteprintingprofiledialog.value = false;\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function updatePrintingProfile() {\r\n  const form = new FormData();\r\n  form.append(\"printingsettings\", JSON.stringify(printingprofiles.value));\r\n  await fetch(\"https://\" + getHostName() + \"/saveprintingsettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(resp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n\r\n      showprintingdialog.value = false;\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nfunction changeTheme(t) {\r\n  theme.value = t;\r\n  localStorage.setItem(\"theme\", theme.value);\r\n}\r\nfunction convertDateFormat(dateString) {\r\n  const [year, month, day] = dateString.split(\"-\");\r\n\r\n  return `${day}-${month}-${year}`;\r\n}\r\nasync function changeProductCategory(element, category, catid) {\r\n  let form = new FormData();\r\n  form.append(\"elementid\", element.productid);\r\n  form.append(\"categoryid\", category.categoryid);\r\n  await fetch(\"https://\" + getHostName() + \"/changeproductcategory\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n      let localoriginfiltredmenu = JSON.parse(\r\n        localStorage.getItem(\"filtredMenu\" + catid)\r\n      );\r\n      let localdestinationfiltredmenu = JSON.parse(\r\n        localStorage.getItem(\"filtredMenu\" + category.categoryid)\r\n      );\r\n\r\n      element.category = category.categoryid;\r\n      filtredMenu.value = filtredMenu.value.filter(\r\n        (e) => e.productid != element.productid\r\n      );\r\n      if (localdestinationfiltredmenu != null) {\r\n        localdestinationfiltredmenu.push(element);\r\n      }\r\n      if (localoriginfiltredmenu != null) {\r\n        localoriginfiltredmenu = localoriginfiltredmenu.filter(\r\n          (e) => e.productid != element.productid\r\n        );\r\n      }\r\n\r\n      localStorage.setItem(\"filtredMenu\" + catid, JSON.stringify(localoriginfiltredmenu));\r\n      localStorage.setItem(\r\n        \"filtredMenu\" + category.categoryid,\r\n        JSON.stringify(localdestinationfiltredmenu)\r\n      );\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nconst formvalidate = ref(false);\r\nconst required = (v) => {\r\n  return !!v || \"Champ requis\";\r\n};\r\nfunction printOrders() {\r\n  const pdf = new jsPDF();\r\n  let sum = 0;\r\n  filtredorders.value.forEach((item) => {\r\n    if (item.status != \"ANNULE\") {\r\n      sum += item.totalticket;\r\n    }\r\n  });\r\n\r\n  const tableheaders = [\r\n    {\r\n      title: \"Numéro\",\r\n      align: \"start\",\r\n      sortable: true,\r\n      key: \"number\",\r\n    },\r\n    { title: \"Serveur\", key: \"waiter\" },\r\n    { title: \"Initiateur\", key: \"creator\" },\r\n    { title: \"Date et heure\", key: \"creationdate\" },\r\n    { title: \"Etat\", key: \"status\" },\r\n    { title: \"Total\", key: \"totalticket\" },\r\n  ];\r\n  const headers = tableheaders.map((header) => header.title);\r\n  const rows = filtredorders.value.map((item) =>\r\n    tableheaders.map((header) => item[header.key])\r\n  );\r\n  const now = new Date();\r\n  const hours = now.getHours();\r\n  const minutes = now.getMinutes();\r\n  const currentTime = `${hours.toString().padStart(2, \"0\")}:${minutes\r\n    .toString()\r\n    .padStart(2, \"0\")}`;\r\n\r\n  pdf.setFontSize(18);\r\n  pdf.text(\"Etat des opérations\", 10, 20);\r\n  pdf.setFontSize(12);\r\n  pdf.text(\r\n    \"Date de début: \" +\r\n      convertDateFormat(startdatemodel.value) +\r\n      \" à \" +\r\n      starttimemodel.value,\r\n    10,\r\n    30\r\n  );\r\n  pdf.text(\r\n    \"Date de fin: \" + convertDateFormat(enddatemodel.value) + \" à \" + currentTime,\r\n    10,\r\n    40\r\n  );\r\n  pdf.autoTable({\r\n    head: [headers],\r\n    body: rows,\r\n    startY: 50,\r\n    margin: { left: 10, right: 10 },\r\n    styles: { fontSize: 10 },\r\n    footStyles: { fontStyle: \"bold\" },\r\n  });\r\n  const pageWidth = pdf.internal.pageSize.getWidth();\r\n  const tableEndY = pdf.autoTable.previous.finalY + 10;\r\n\r\n  pdf.setFontSize(14);\r\n  pdf.setFont(\"helvetica\", \"bold\");\r\n  pdf.text(`Total: ${sum.toFixed(2)}`, pageWidth - 50, tableEndY);\r\n  pdf.save(\"Etatopérations.pdf\");\r\n}\r\nfunction getDisabledState() {\r\n  if (managerauthorisations.value.managercanselectwaiter) {\r\n    if (loggeduser.value?.Role == \"Gérant\") {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  return true;\r\n}\r\nasync function savePrintingSettings() {\r\n  const form = new FormData();\r\n\r\n  form.append(\"printingsettings\", JSON.stringify(printingSettings.value));\r\n  await fetch(\"https://\" + getHostName() + \"/saveprintingsettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(resp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n\r\n      alertHandlerTwo(data);\r\n    })\r\n\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function saveAuthSettings() {\r\n  const form = new FormData();\r\n  form.append(\"managersettings\", JSON.stringify(managerauthorisations.value));\r\n  await fetch(\"https://\" + getHostName() + \"/savemanagersettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(rersp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n\r\n      alertHandlerTwo(data);\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function loadSettings() {\r\n  await fetch(\"https://\" + getHostName() + \"/loadsettings\", { method: \"post\" })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(rersp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n\r\n      generalsettings.value = JSON.parse(data.generalsettings);\r\n      managerauthorisations.value = JSON.parse(data.managersettings);\r\n      printingprofiles.value = JSON.parse(data.printingsettings);\r\n\r\n      securitysettings.value =\r\n        data.securitysettings != \"\"\r\n          ? JSON.parse(data.securitysettings)\r\n          : { disconnectmode: \"two\" };\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nfunction showComment(e) {\r\n  showcommentdialog.value = true;\r\n  selecteditem.value = e;\r\n  comment.value = e.comment;\r\n}\r\nfunction saveComment() {\r\n  selecteditem.value.comment = comment.value;\r\n}\r\nasync function saveSecurityOptions() {\r\n  const form = new FormData();\r\n  form.append(\"securitysettings\", JSON.stringify(securitysettings.value));\r\n  await fetch(\"https://\" + getHostName() + \"/savesecuritysettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(rersp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function saveGeneralInformations() {\r\n  const form = new FormData();\r\n  form.append(\"generalsettings\", JSON.stringify(generalsettings.value));\r\n  await fetch(\"https://\" + getHostName() + \"/savegeneralsettings\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((resp) => {\r\n      if (!resp.ok) throw Error(rersp.statusText);\r\n      return resp.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nfunction emptyTicketTwo() {\r\n \r\n  store.Member = null;\r\n}\r\n\r\nfunction newTicketTwo() {\r\n  \r\n  store.Member = null;\r\n  if (loggeduser.value.Role == \"Gérant\") selectedwaiter.value = \"\";\r\n\r\n  const newticketbutton = document.getElementById(\"newticketbutton\");\r\n\r\n  newticketbutton.blur();\r\n}\r\n\r\nconst getTodayDate = () => {\r\n  const today = new Date();\r\n  const year = today.getFullYear();\r\n  const month = String(today.getMonth() + 1).padStart(2, \"0\");\r\n  const day = String(today.getDate()).padStart(2, \"0\");\r\n  return `${year}-${month}-${day}`;\r\n};\r\nfunction formatDateToDDMMYYYYHHMMSS(dateString) {\r\n  const date = new Date(dateString);\r\n\r\n  const day = String(date.getDate()).padStart(2, \"0\");\r\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\r\n  const year = date.getFullYear();\r\n\r\n  const hours = String(date.getHours()).padStart(2, \"0\");\r\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\r\n  const seconds = String(date.getSeconds()).padStart(2, \"0\");\r\n\r\n  return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;\r\n}\r\nfunction isElectron() {\r\n  return navigator.userAgent.toLowerCase().includes(\"electron\");\r\n}\r\n\r\nfunction isRunningFromGUIApp() {\r\n  if ((window.chrome && window.chrome.webview) || window.nadilpos || isElectron())\r\n    return true;\r\n  return false;\r\n}\r\nonMounted(async () => {\r\n  if (!isRunningFromGUIApp()) {\r\n    window.location.href = \"notauthorised\";\r\n    return;\r\n  }\r\n  document.documentElement.style.overflowY = \"hidden\";\r\n  document.body.style.overflowY = \"hidden\";\r\n\r\n  theme.value = localStorage.getItem(\"theme\") || \"dark\";\r\n\r\n  await getUsers();\r\n\r\n  const otpfirstchar = document.querySelector(\r\n    '[aria-label=\"Please enter OTP character 1\"]'\r\n  );\r\n  if (otpfirstchar != null) otpfirstchar.focus();\r\n  startdatemodel.value = getTodayDate();\r\n  starttimemodel.value = \"00:00:00\";\r\n  enddatemodel.value = getTodayDate();\r\n  ordersstatus.value = \"TOUT\";\r\n  initSortable();\r\n});\r\nconst confirmstartendsessiondialog = ref(false);\r\nconst confirmstartendsessiontext = ref(\"\");\r\nasync function confirmStartOrEndSession() {\r\n  const form = new FormData();\r\n\r\n  if (loggeduser.value.Username == null) return;\r\n  form.append(\"username\", loggeduser.value.Username);\r\n  await fetch(\"https://\" + getHostName() + \"/changesessionstatus\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then(async (d) => {\r\n      await getSessionsStatus();\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function showSituation() {\r\n  showsituation.value = !showsituation.value;\r\n  usersnames.value = [];\r\n  if (loggeduser.value?.Role == \"Serveur\") {\r\n    usersnames.value.push(loggeduser.value?.Username);\r\n    selectedperson.value = loggeduser.value?.Username;\r\n    userSelectionChanged(loggeduser.value?.Username);\r\n    return;\r\n  }\r\n  users.value?.forEach((w) => {\r\n    usersnames.value.push(w.Username);\r\n  });\r\n}\r\nfunction getDateTime(datetime) {\r\n  if (datetime == undefined) return \"\";\r\n  if (datetime == \"0001-01-01T00:00:00Z\" || datetime == \"\") {\r\n    return \"\";\r\n  }\r\n  const date = new Date(datetime);\r\n  const formattedDate = date.toISOString().split(\"T\")[0];\r\n  const formattedTime = date.toISOString().split(\"T\")[1].slice(0, 5);\r\n  return formattedDate + \" \" + formattedTime;\r\n}\r\nconst situation = ref(\"\");\r\nconst situationToPrint = ref({});\r\nasync function userSelectionChanged(user) {\r\n  situationToPrint.value = {};\r\n  if (user == \"\") return;\r\n\r\n  if (sessions.get(user)?.start == undefined) return;\r\n  const date = new Date(sessions.get(user).start);\r\n  const formattedDate = date.toISOString().split(\"T\")[0];\r\n  const formattedTime = date.toISOString().split(\"T\")[1].slice(0, 5);\r\n  const form = new FormData();\r\n\r\n  form.append(\"start\", formattedDate + \" \" + formattedTime);\r\n  form.append(\"username\", user);\r\n  await fetch(\"https://\" + getHostName() + \"/getsituation\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      situation.value = data;\r\n\r\n      situationToPrint.value = {\r\n        username: user,\r\n        totalpaid: situation.value?.totalpaid,\r\n        countpaid: situation.value?.countpaid,\r\n        totalinpaid: situation.value?.totalinpaid,\r\n        countinpaid: situation.value?.countinpaid,\r\n        totalcanceled: situation.value?.totalcanceled,\r\n        countcanceled: situation.value?.countcanceled,\r\n        total: situation.value?.total,\r\n        sessionstart: sessions.get(user)?.start,\r\n        sessionend: sessions.get(user)?.end,\r\n      };\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nfunction showVirtualkeyBoard() {\r\n  if (window.chrome.webview != null) window.chrome.webview.postMessage(\"vkeyboard\");\r\n}\r\nfunction statuschanged() {\r\n  filtredorders.value = [];\r\n  if (ordersstatus?.value != \"TOUT\") {\r\n    orders.value.forEach((order) => {\r\n      if (order.status == ordersstatus.value) {\r\n        filtredorders.value.push(order);\r\n      }\r\n    });\r\n\r\n    return;\r\n  }\r\n  filtredorders.value = orders.value;\r\n}\r\n\r\nasync function authOff() {\r\n  await informServer();\r\n  authenticated.value = false;\r\n  selectedwaiter.value = \"\";\r\n  startdatemodel.value = getTodayDate();\r\n  starttimemodel.value = \"00:00:00\";\r\n  enddatemodel.value = getTodayDate();\r\n  ordersstatus.value = \"TOUT\";\r\n  sessionStorage.clear();\r\n  const otpfirstchar = document.querySelector(\r\n    '[aria-label=\"Please enter OTP character 1\"]'\r\n  );\r\n  if (otpfirstchar != null) otpfirstchar.focus();\r\n}\r\nconst showcommentdialog = ref(false);\r\nconst showalerttwo = ref(false);\r\nconst alerttexttwo = ref(\"\");\r\nconst alertcardclasstwo = ref(\"\");\r\nasync function alertHandlerTwo(data) {\r\n  showalerttwo.value = true;\r\n  switch (data.Prefix) {\r\n    case \"ERROR\":\r\n    case \"EMPTY\":\r\n      alerttexttwo.value = data.Message + `  ${data.data}`;\r\n      alertcardclasstwo.value = \"text-center errorclass\";\r\n\r\n      break;\r\n    case \"INSERT\":\r\n    case \"EDIT\":\r\n    case \"DELETE\":\r\n    case \"UPDATE\":\r\n      alerttexttwo.value = data.Message;\r\n      alertcardclasstwo.value = \"text-center successclass\";\r\n      await getOrders();\r\n\r\n      break;\r\n    case \"SUCCESS\":\r\n      alerttexttwo.value = data.Message;\r\n      alertcardclasstwo.value = \"text-center successclass\";\r\n      break;\r\n  }\r\n  setTimeout(() => {\r\n    showalerttwo.value = false;\r\n  }, 4000);\r\n}\r\nasync function quitApp() {\r\n  if (window.nadilpos) {\r\n    window.nadilpos.showMessage(\"close\");\r\n    return;\r\n  }\r\n\r\n  if (window.chrome.webview != null) {\r\n    window.chrome.webview.postMessage(\"close\");\r\n  }\r\n  await authOff();\r\n}\r\nasync function minimizeApp() {\r\n  if (window.chrome.webview != null) {\r\n    window.chrome.webview.postMessage(\"minimize\");\r\n  }\r\n}\r\n\r\nasync function getOrders() {\r\n  filtredorders.value = [];\r\n  orders.value = [];\r\n  const form = new FormData();\r\n  form.append(\"startdate\", startdatemodel.value);\r\n  form.append(\"enddate\", enddatemodel.value);\r\n  form.append(\"starttime\", starttimemodel.value);\r\n  form.append(\"endtime\", endtimemodel.value);\r\n  await fetch(\"https://\" + getHostName() + \"/getOrders\", { method: \"post\", body: form })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      orders.value = data;\r\n\r\n      if (ordersstatus?.value != \"TOUT\") {\r\n        orders.value.forEach((order) => {\r\n          if (order.status == ordersstatus.value) {\r\n            order.creationdate = formatDateToDDMMYYYYHHMMSS(order.creationdate);\r\n            filtredorders.value.push(order);\r\n          }\r\n        });\r\n\r\n        return;\r\n      }\r\n      orders.value.forEach((order) => {\r\n        order.creationdate = formatDateToDDMMYYYYHHMMSS(order.creationdate);\r\n        filtredorders.value.push(order);\r\n      });\r\n      console.log(orders.value);\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function showOrdersList() {\r\n  await getOrders();\r\n  showorderslist.value = !showorderslist.value;\r\n}\r\nasync function informServer() {\r\n  await fetch(\"https://\" + getHostName() + \"/endsession\").catch((ex) => {\r\n    console.error(ex);\r\n  });\r\n}\r\nwindow.addEventListener(\"beforeunload\", () => {\r\n  document.cookie.split(\";\").forEach((cookie) => {\r\n    document.cookie = cookie\r\n      .replace(/^ +/, \"\")\r\n      .replace(/=.*/, `=;expires=${new Date(0).toUTCString()};path=/`);\r\n  });\r\n});\r\n\r\nconst sessionstatustext = ref(\"Commencer\");\r\nconst sessionstatusicon = ref(\"mdi-play\");\r\nconst sessionstatusclass = ref(\"statusplay\");\r\nconst sessionsmap = reactive(new Map());\r\nconst sessions = reactive(new Map());\r\nasync function getSessionsStatus() {\r\n  await fetch(\"https://\" + getHostName() + \"/getsessionsstatus\", { method: \"post\" })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((d) => {\r\n      if (d == null) return;\r\n\r\n      d.forEach((session) => {\r\n        sessions.set(session.username, session);\r\n\r\n        sessionsmap.set(\r\n          session.username,\r\n          session.end == \"0001-01-01T00:00:00Z\" ? false : true\r\n        );\r\n\r\n        if (session.username == loggeduser.value?.Username) {\r\n          const date = new Date(session.start);\r\n          const formattedDate = date.toISOString().split(\"T\")[0];\r\n          const formattedTime = date.toISOString().split(\"T\")[1].slice(0, 5);\r\n          startdatemodel.value = formattedDate;\r\n          starttimemodel.value = formattedTime;\r\n          if (session.end == \"0001-01-01T00:00:00Z\") {\r\n            sessionstatustext.value = \"Finir\";\r\n            sessionstatusicon.value = \"mdi-stop\";\r\n            sessionstatusclass.value = \"statusstop\";\r\n            sessionended.value = true;\r\n            return;\r\n          }\r\n\r\n          sessionstatustext.value = \"Commencer\";\r\n          sessionstatusicon.value = \"mdi-play\";\r\n          sessionstatusclass.value = \"statusplay\";\r\n          sessionended.value = false;\r\n          return;\r\n        }\r\n      });\r\n\r\n      if (sessionsmap.get(loggeduser.value?.Username) == undefined) {\r\n        sessionstatustext.value = \"Commencer\";\r\n        sessionstatusicon.value = \"mdi-play\";\r\n        sessionstatusclass.value = \"statusplay\";\r\n        sessionended.value = false;\r\n        sessionsmap.set(loggeduser.value?.Username, true);\r\n      }\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\nasync function changeSessionStatus() {\r\n  confirmstartendsessiontext.value =\r\n    sessionstatustext.value == \"Commencer\"\r\n      ? \"Voulez-vous continuer et démarrer une nouvelle session?\"\r\n      : \"Êtes-vous sûr(e) de vouloir arrêter la session en cours?\";\r\n  confirmstartendsessiondialog.value = true;\r\n}\r\nasync function authOK(user) {\r\n  authenticated.value = true;\r\n  loggeduser.value = user;\r\n  await loadSettings();\r\n  await getSessionsStatus();\r\n\r\n  sessionStorage.setItem(\r\n    \"user\",\r\n    JSON.stringify({ username: user.Username, role: user.Role })\r\n  );\r\n  if (user.Role == \"Serveur\") selectedwaiter.value = user.Username;\r\n}\r\n\r\nasync function openSession(user) {\r\n  let form = new FormData();\r\n  form.append(\"user\", user);\r\n  await fetch(\"https://\" + getHostName() + \"/opensession\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then(async (data) => {\r\n      await loadSettings();\r\n      await getSessionsStatus();\r\n    })\r\n    .catch((ex) => {\r\n      console.error(ex);\r\n    });\r\n}\r\ndocument.addEventListener(\r\n  \"keydown\",\r\n  function (event) {\r\n    keyssaved += event.key;\r\n    lenghtcounter++;\r\n    waiters.value.forEach((w) => {\r\n      if (\r\n        keyssaved.substring(0, lenghtcounter) === w.Code &&\r\n        authenticated.value == true &&\r\n        loggeduser.value?.Role == \"Gérant\"\r\n      ) {\r\n        if (w.Role == \"Serveur\") selectedwaiter.value = w.Username;\r\n\r\n        keyssaved = \"\";\r\n        lenghtcounter = 0;\r\n        return;\r\n      }\r\n      if (\r\n        keyssaved.substring(0, lenghtcounter) === w.Code &&\r\n        authenticated.value == false\r\n      ) {\r\n        authenticated.value = true;\r\n        if (w.Role == \"Serveur\") selectedwaiter.value = w.Username;\r\n        loggeduser.value = w;\r\n        keyssaved = \"\";\r\n        lenghtcounter = 0;\r\n        sessionStorage.setItem(\r\n          \"user\",\r\n          JSON.stringify({ username: w.Username, role: w.Role })\r\n        );\r\n        openSession(w.Username);\r\n\r\n        return;\r\n      }\r\n    });\r\n\r\n    if (event.key == \"Enter\") {\r\n      keyssaved = \"\";\r\n      lenghtcounter = 0;\r\n    }\r\n    setTimeout(() => {\r\n      keyssaved = \"\";\r\n      lenghtcounter = 0;\r\n    }, 1000);\r\n  },\r\n  true\r\n);\r\nlet rfidkeystrokes = \"\";\r\nfunction enableRFIDReading() {\r\n  document.addEventListener(\"keydown\", handleRFIDInput);\r\n}\r\n\r\nfunction disableRFIDReading() {\r\n  document.removeEventListener(\"keydown\", handleRFIDInput);\r\n\r\n  rfidkeystrokes = \"\";\r\n}\r\n\r\nfunction handleRFIDInput(event) {\r\n  if (event.key.length == 1) {\r\n    rfidkeystrokes += event.key;\r\n  }\r\n\r\n  if (event.key == \"Enter\") {\r\n    getSubscriberFromACM(rfidkeystrokes);\r\n    rfidkeystrokes = \"\";\r\n  }\r\n  setTimeout(() => {\r\n    rfidkeystrokes = \"\";\r\n  }, 2000);\r\n}\r\nconst getSubscriberFromACM = async (rfid) => {\r\n  const form = new FormData();\r\n  form.append(\"command\", \"getSubscriberInfosFromRFID\");\r\n  form.append(\"rfid_id\", rfid);\r\n  await fetch(\"https://\" + window.location.hostname + \":8080/api\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((response) => {\r\n      if (response == null) return;\r\n      if (response.status == \"SUCCESS\") {\r\n        if (response.data.hasValidSubscription == false) {\r\n          alertHandlerTwo({\r\n            Prefix: \"ERROR\",\r\n            Message: \"Abonnement non valide\",\r\n            data: \"\",\r\n          });\r\n         \r\n          store.Member = null;\r\n          return;\r\n        }\r\n\r\n        alertHandlerTwo({ Prefix: \"SUCCESS\", Message: \"Abonnement valide\", data: \"\" });\r\n        \r\n        store.Member = response.data;\r\n        \r\n      }\r\n    })\r\n    .catch((e) => console.log(e));\r\n};\r\nasync function getUsers() {\r\n  waiters.value = [];\r\n  waitersnames.value = [];\r\n  usersnames.value = [];\r\n  await fetch(\"https://\" + getHostName() + \"/getusers\")\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.text();\r\n    })\r\n    .then((data) => {\r\n      users.value = JSON.parse(data);\r\n\r\n      users.value?.forEach((w) => {\r\n        usersnames.value.push(w.Username);\r\n\r\n        waiters.value.push({\r\n          Username: w.Username,\r\n          Role: w.Role,\r\n          Code: w.Code,\r\n        });\r\n        waitersnames.value.push(w.Username);\r\n      });\r\n    })\r\n    .catch((e) => console.log(e));\r\n}\r\nconst confirmcancelorderdialg = ref(false);\r\nconst confirmcancelordertext = ref(\"\");\r\nconst ordertocancel = ref(null);\r\nfunction confirmCancelOrder(order) {\r\n  confirmcancelordertext.value =\r\n    \"Continuer pour annuler la commande n° : \" + order.number + \" ?\";\r\n  ordertocancel.value = order;\r\n  confirmcancelorderdialg.value = true;\r\n}\r\nasync function cancelOrder() {\r\n  if (ordertocancel.value?.status == \"ANNULE\") {\r\n    alertHandlerTwo({\r\n      Prefix: \"ERROR\",\r\n      Message: \"Ce ticket est déjà annulé.\",\r\n      data: \"CANCELED_ORDER\",\r\n    });\r\n    return;\r\n  }\r\n\r\n  const form = new FormData();\r\n\r\n  form.append(\"number\", ordertocancel.value?.number);\r\n\r\n  await fetch(\"https://\" + getHostName() + \"/cancelorder\", { method: \"post\", body: form })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.status);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n    });\r\n}\r\nconst confirmcheckorderdialog = ref(false);\r\nconst confirmcheckordertext = ref(\"\");\r\nconst ordertocheck = ref(false);\r\nfunction confirmCheckOrder(order) {\r\n  confirmcheckordertext.value =\r\n    \"Voulez-vous valider le paiement de la commande  N° \" + order.number + \" ?\";\r\n  confirmcheckorderdialog.value = true;\r\n  ordertocheck.value = order;\r\n}\r\nasync function checkConfirmation() {\r\n  if (ordertocheck.value?.status == \"ANNULE\") {\r\n    alertHandlerTwo({\r\n      Prefix: \"ERROR\",\r\n      Message: \"Ce ticket a été annulé.\",\r\n      data: \"CANCELED_ORDER\",\r\n    });\r\n    return;\r\n  }\r\n  if (ordertocheck.value?.status == \"PAYE\") {\r\n    alertHandlerTwo({\r\n      Prefix: \"ERROR\",\r\n      Message: \"Ce ticket est déjà payé.\",\r\n      data: \"PAID_ORDER\",\r\n    });\r\n    return;\r\n  }\r\n\r\n  const form = new FormData();\r\n\r\n  form.append(\"number\", ordertocheck.value?.number);\r\n  form.append(\"creator\", ordertocheck.value?.creator);\r\n  form.append(\"waiter\", ordertocheck.value?.waiter);\r\n  await fetch(\"https://\" + getHostName() + \"/checkoutorder\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.status);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n      alertHandlerTwo(data);\r\n    });\r\n}\r\n\r\nfunction showContent(item) {\r\n  showcontent.value = true;\r\n\r\n  selectedorder.value = item;\r\n}\r\nfunction confirmDeleteUser(user) {\r\n  confirmtext.value =\r\n    \"Êtes-vous sûr de vouloir supprimer l'utilisateur \" + user.Username + \"?\";\r\n  usertodelete.value = user;\r\n  confirmdeleteuderdialog.value = !confirmdeleteuderdialog.value;\r\n}\r\nasync function deleteUser() {\r\n  const form = new FormData();\r\n\r\n  form.append(\"id\", usertodelete.value.ID);\r\n  await fetch(\"https://\" + getHostName() + \"/deleteuser\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      inform();\r\n      confirmdeleteuderdialog.value = false;\r\n    })\r\n    .catch((e) => console.log(e));\r\n}\r\n\r\nfunction openManageUsersDialog() {\r\n  isManageUsersDialogOpen.value = !isManageUsersDialogOpen.value;\r\n}\r\nfunction closeManageUsersDialog(value) {\r\n  isManageUsersDialogOpen.value = value;\r\n}\r\nfunction openEditUsersDialog() {\r\n  isEditUsersDialogOpen.value = !isEditUsersDialogOpen.value;\r\n}\r\nfunction closeEditUsersDialog(value) {\r\n  isEditUsersDialogOpen.value = value;\r\n}\r\nfunction openAddCategoryDialog() {\r\n  addcatbutton = true;\r\n  isCategoryDialogOpen.value = !isCategoryDialogOpen.value;\r\n}\r\nfunction closeCategoryDialog(value) {\r\n  isCategoryDialogOpen.value = value;\r\n}\r\nfunction openAddProductDialog() {\r\n  isProductDialogOpen.value = !isProductDialogOpen.value;\r\n}\r\nfunction closeProductDialog(value) {\r\n  isProductDialogOpen.value = value;\r\n}\r\nfunction openEditProductDialog() {\r\n  isEditProductDialogOpen.value = !isEditProductDialogOpen.value;\r\n}\r\nfunction closeEditProductDialog(value) {\r\n  isEditProductDialogOpen.value = value;\r\n}\r\n\r\nwindow.addEventListener(\r\n  \"contextmenu\",\r\n  function (e) {\r\n    e.preventDefault();\r\n  },\r\n  false\r\n);\r\nasync function inform() {\r\n  await getUsers();\r\n}\r\n\r\nfunction editCategory(cat) {\r\n  editcat = cat;\r\n  isCategoryDialogOpen.value = true;\r\n}\r\nfunction showMenu() {\r\n  rail.value = !rail.value;\r\n  drawer.value = !drawer.value;\r\n}\r\nasync function printSituation() {\r\n  if (\r\n    situationToPrint.value?.sessionend == \"0001-01-01T00:00:00Z\" ||\r\n    situationToPrint.value?.sessionend == \"\"\r\n  ) {\r\n    alertHandlerTwo({\r\n      Prefix: \"ERROR\",\r\n      Message:\r\n        \"Votre session n'est pas encore finie. Veuillez mettre fin à la session en cours avant d'imprimer.\",\r\n      data: \"\",\r\n    });\r\n    return;\r\n  }\r\n  if (situationToPrint.value?.username == undefined) {\r\n    alertHandlerTwo({\r\n      Prefix: \"ERROR\",\r\n      Message: \"Vous n'avez aucune session.\",\r\n      data: \"\",\r\n    });\r\n    return;\r\n  }\r\n  const form = new FormData();\r\n  form.append(\"situation\", JSON.stringify(situationToPrint.value));\r\n\r\n  await fetch(\"https://\" + getHostName() + \"/printsituation\", {\r\n    method: \"post\",\r\n    body: form,\r\n  })\r\n    .then((r) => {\r\n      if (!r.ok) throw Error(r.statusText);\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data == null) return;\r\n    })\r\n    .catch((ex) => {\r\n      console.log(ex);\r\n    });\r\n}\r\nfunction getMenuDisabled(\r\n  btnvalidatedisabled,\r\n  ticketvalidate,\r\n  sessionend,\r\n  isadmin,\r\n  managerauthorisations,\r\n  selectedwaiter\r\n) {\r\n  if (isadmin) return false;\r\n  if (sessionend) return true;\r\n  if (managerauthorisations.managercancreatetickets == false && selectedwaiter == \"\")\r\n    return true;\r\n  if (btnvalidatedisabled && !ticketvalidate) return true;\r\n}\r\n</script>\r\n<script>\r\nimport {\r\n  getHostName,\r\n  filtredMenu,\r\n  initSortable,\r\n  getSortedFiltredMenu,\r\n  onUpdatefocused,\r\n  store,\r\n} from \"./Utils\";\r\nimport OrderContentComponent from \"./components/OrderContentComponent.vue\";\r\nimport ManageUsersDialogComponent from \"./components/ManageUsersDialogComponent.vue\";\r\nimport EditUsersDialogComponent from \"./components/EditUsersDialogComponent.vue\";\r\nimport AuthNumPadComponent from \"./components/AuthNumPadComponent.vue\";\r\nimport NewCategoryDialogComponent from \"./components/NewCategoryDialogComponent.vue\";\r\nimport NewProductDialogComponent from \"./components/NewProductDialogComponent.vue\";\r\nimport EditProductDialogComponent from \"./components/EditProductDialogComponent.vue\";\r\n\r\nlet oldtab = 0;\r\n\r\nconst axios = require(\"axios\").default;\r\n\r\nexport default {\r\n  components: { ManageUsersDialogComponent },\r\n\r\n  mounted: async function () {\r\n    await this.getCategories();\r\n  },\r\n  data() {\r\n    return {\r\n      deleteproductconfirmdialog: false,\r\n      overlay: true,\r\n      authenticated_: true,\r\n      producttodelete: \"\",\r\n      ticketvalidate: true,\r\n      showvkeyboard: true,\r\n      editelement: null,\r\n      showpad: false,\r\n      actiononproduct: false,\r\n      btnvalidatedisabled: true,\r\n      btnvalidate: false,\r\n      newcategoryname: \"\",\r\n      showadminprompt: false,\r\n      showalert: false,\r\n      confirmdialog: false,\r\n      adminclass: \"adminclasslogout\",\r\n      adminloginicon: \"mdi-lock\",\r\n      sessionicon: \"mdi-play\",\r\n      confirmationtext: \"\",\r\n      selectedcategory: \"\",\r\n      alertcardclass: \"text-center\",\r\n      alerttext: \"\",\r\n      alerttitle: \"\",\r\n      adminpassword: \"\",\r\n      ticketnumber: \"\",\r\n      isadmin: false,\r\n      paramsdialog: false,\r\n      productdialog: false,\r\n      sheet: false,\r\n      tab: -1,\r\n      categorytodelete: \"\",\r\n      input: \"\",\r\n      categorydialog: false,\r\n      selectedcategoryID: -1,\r\n      currentelement: null,\r\n      count: 0,\r\n     \r\n\r\n      categories: [],\r\n      menu: [],\r\n\r\n      ticket: [\r\n        {\r\n          content: [],\r\n          number: \"\",\r\n          totalticket: 0,\r\n          discount: 0,\r\n          waiter: \"\",\r\n          member: \"\",\r\n          memberid: \"\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return store;\r\n    },\r\n   \r\n  },\r\n  watch: {\r\n    tab: async function (val) {\r\n      if (val == 0) {\r\n        if (this.menu.length == 0) {\r\n          await this.getMenu();\r\n        }\r\n        this.showFavorites();\r\n        return;\r\n      }\r\n\r\n      this.showElements(this.selectedcategory.categoryid);\r\n    },\r\n\r\n    \"store.Member\": {\r\n      handler(val) {\r\n        \r\n        if (val == null) {\r\n          this.ticket[0].member = \"\";\r\n          this.ticket[0].memberid = \"\";\r\n          this.ticket[0].discount = 0.00;\r\n          this.updateTotalTicket();\r\n          return;\r\n        }\r\n        if (val != null) {\r\n          \r\n          this.ticket[0].member = val?.name;\r\n          this.ticket[0].memberid = val?.subscriberId;\r\n          let remainingConsumables = val?.remainingConsumables;\r\n          let linearticket = [];\r\n          this.ticket[0].discount = 0.00;\r\n          this.ticket[0].content.forEach((c) => {\r\n            \r\n            \r\n           \r\n              for (let i = 0; i < c.count; i++) {\r\n                  let article = this.menu.find((m) => m.productid == c.id)\r\n                  linearticket.push({memberdiscount:article?.memberdiscount, goldmemberdiscount:article?.goldmemberdiscount}); \r\n              }\r\n          \r\n            \r\n            \r\n           \r\n\r\n          });\r\n          linearticket.sort((a, b) => {\r\n            if (a.goldmemberdiscount === null) return 1;\r\n            if (b.goldmemberdiscount === null) return -1;\r\n            return b.goldmemberdiscount - a.goldmemberdiscount;\r\n          });\r\n          \r\n            linearticket.forEach((c) => {\r\n              if (val.isGold && remainingConsumables == 0) {\r\n                if (c.memberdiscount != null) {\r\n                  this.ticket[0].discount += c.memberdiscount;\r\n                }\r\n                \r\n              }\r\n              if (val.isGold){\r\n                if (c.goldmemberdiscount != null && remainingConsumables>=1) {\r\n                  this.ticket[0].discount += c.goldmemberdiscount;\r\n                  remainingConsumables--;\r\n                  console.log(\"remainingConsumables\", remainingConsumables);\r\n                }\r\n              }\r\n              \r\n             \r\n              if (!val.isGold) {\r\n                if (c.memberdiscount != null) {\r\n                  this.ticket[0].discount += c.memberdiscount;\r\n                }\r\n              }\r\n                \r\n              \r\n            });\r\n          \r\n          this.updateTotalTicket();\r\n          \r\n          \r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n    ticket: {\r\n      handler: function (val) {\r\n        this.btnvalidatedisabled = !val[0].content.length > 0;\r\n        this.ticketvalidate = true;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    logout() {\r\n      this.ticket[0].content = [];\r\n      this.ticket[0].totalticket = 0;\r\n      this.ticket[0].waiter = \"\";\r\n      this.ticket[0].number = \"\";\r\n      this.ticketnumber = \"\";\r\n      this.isadmin = false;\r\n      this.adminloginicon = \"mdi-lock\";\r\n      this.adminclass = \"adminclasslogout\";\r\n    },\r\n    async adminLogin() {\r\n      const form = new FormData();\r\n\r\n      form.append(\"pwd\", this.adminpassword);\r\n      await fetch(\"https://\" + getHostName() + \"/adminlogin\", {\r\n        method: \"post\",\r\n        body: form,\r\n      })\r\n        .then((r) => {\r\n          if (!r.ok) {\r\n            throw Error(r.statusText);\r\n          }\r\n          return r.json();\r\n        })\r\n        .then((data) => {\r\n          this.showadminprompt = false;\r\n          if (data.data == \"ACCES REFUSE\") {\r\n            this.alerttext = data.Message;\r\n\r\n            this.showalert = true;\r\n            this.alertcardclass = \"text-center errorclass\";\r\n            return;\r\n          }\r\n          this.adminclass = \"adminclasslogin\";\r\n          this.adminloginicon = \"mdi-lock-open\";\r\n          this.isadmin = true;\r\n          this.adminpassword = \"\";\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    newTicket() {\r\n      this.ticket[0].content = [];\r\n      this.ticket[0].totalticket = 0;\r\n      this.ticket[0].discount = 0;\r\n      this.ticketvalidate = false;\r\n      this.ticketnumber = \"\";\r\n\r\n      document.body.focus();\r\n    },\r\n    emptyTicket() {\r\n      this.ticket[0].content = [];\r\n      this.ticket[0].totalticket = 0;\r\n      this.ticket[0].discount = 0;\r\n    },\r\n    async validateTicket(sessions, ss, authoff) {\r\n      console.log(\"validateTicket\", this.ticket[0]);\r\n      const inputwaiter = this.$refs.waiterbox.$el.querySelector('[inputmode=\"none\"]');\r\n      if (inputwaiter.value != \"\") {\r\n        if (sessions.get(inputwaiter.value)) {\r\n          this.alertHandler({\r\n            Prefix: \"ERROR\",\r\n            Message: \"La session du serveur selectionné n'est pas démarrée.\",\r\n            data: \"\",\r\n          });\r\n          return;\r\n        }\r\n      }\r\n\r\n      const hostname = getHostName();\r\n      const form = new FormData();\r\n      const creator = JSON.parse(sessionStorage.getItem(\"user\")).username;\r\n\r\n      this.ticket[0].waiter = inputwaiter.value;\r\n      form.append(\"totalticket\", this.ticket[0].totalticket);\r\n      form.append(\"waiter\", this.ticket[0].waiter);\r\n      form.append(\"creator\", creator);\r\n      form.append(\"content\", JSON.stringify(this.ticket[0].content));\r\n      form.append(\"member\", this.ticket[0].member);\r\n      form.append(\"memberid\", this.ticket[0].memberid);\r\n\r\n      await fetch(\"https://\" + hostname + \"/saveTicket\", {\r\n        method: \"post\",\r\n\r\n        body: form,\r\n      })\r\n        .then((r) => {\r\n          if (!r.ok) {\r\n            throw Error(r.statusText);\r\n          }\r\n          return r.json();\r\n        })\r\n        .then((data) => {\r\n          this.ticketvalidate = false;\r\n          this.btnvalidatedisabled = true;\r\n\r\n          this.ticketnumber = data.data.padStart(9, 0);\r\n          if (ss.disconnectmode == \"one\") {\r\n            authoff();\r\n            this.logout();\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    updateTotalTicket() {\r\n      this.ticket[0].totalticket = 0;\r\n      this.ticket[0].content.forEach((c) => {\r\n        this.ticket[0].totalticket +=\r\n          (c.count * c.price) ;\r\n      });\r\n      this.ticket[0].totalticket -= this.ticket[0].discount;\r\n    },\r\n    validateInput() {\r\n      const display = document.getElementById(\"display\").innerHTML;\r\n      if (display !== \"Entrez un nombre\" && display !== \"\") {\r\n        if (display == \"0\") {\r\n          this.removeFromTicket(this.currentelement.id);\r\n          this.showpad = false;\r\n          return;\r\n        }\r\n        this.currentelement.count = parseInt(display);\r\n        this.updateTotalTicket();\r\n        this.showpad = false;\r\n      } else {\r\n        alert(\"Nombre incorrecte\");\r\n      }\r\n    },\r\n    pressButton(value) {\r\n      const display = document.getElementById(\"display\");\r\n      if (display.innerHTML === \"Entrez un nombre\") {\r\n        display.innerHTML = value;\r\n      } else {\r\n        display.innerHTML += value;\r\n      }\r\n    },\r\n\r\n    deleteLast() {\r\n      const display = document.getElementById(\"display\");\r\n      display.innerHTML = display.innerHTML.slice(0, -1) || \"Entrez un nombre\";\r\n    },\r\n\r\n    clearDisplay() {\r\n      document.getElementById(\"display\").innerHTML = \"Entrez un nombre\";\r\n    },\r\n    showPad(e) {\r\n      this.showpad = true;\r\n      this.currentelement = e;\r\n    },\r\n    async refresh() {\r\n      await this.getCategories();\r\n      await this.getMenu();\r\n    },\r\n    getImageURL(i) {\r\n      return \"https://\" + getHostName() + \"/img/\" + i;\r\n    },\r\n\r\n    async printReceipt(ss, authoff) {\r\n      const form = new FormData();\r\n      form.append(\"number\", this.ticketnumber);\r\n\r\n      await fetch(\"https://\" + getHostName() + \"/printreceipt\", {\r\n        method: \"post\",\r\n        body: form,\r\n      })\r\n        .then((r) => {\r\n          if (!r.ok) throw Error(r.statusText);\r\n          return r.json();\r\n        })\r\n        .then((data) => {\r\n          if (ss.disconnectmode == \"two\") {\r\n            authoff();\r\n            this.logout();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    getMenu: async function () {\r\n      this.menu = [];\r\n      await fetch(\"https://\" + getHostName() + \"/getMenu\")\r\n        .then((r) => {\r\n          if (!r.ok) throw Error(r.statusText);\r\n          return r.json();\r\n        })\r\n        .then((data) => {\r\n          this.menu = data;\r\n          console.log(data);\r\n        })\r\n        .catch((e) => console.log(e));\r\n    },\r\n    getCategories: async function () {\r\n      this.categories = [];\r\n      await axios\r\n        .post(\"https://\" + getHostName() + \"/getcategories\", {\r\n          withCredentials: true,\r\n        })\r\n        .then((r) => {\r\n          this.categories = r.data;\r\n        })\r\n        .catch((e) => console.log(e));\r\n    },\r\n\r\n    elementClick: function (el) {\r\n      store.Member = null;\r\n      if (this.isadmin) {\r\n        this.actiononproduct = true;\r\n\r\n        return;\r\n      }\r\n      let found = false;\r\n      this.ticket[0].totalticket = this.ticket[0].totalticket + parseFloat(el.price);\r\n\r\n      this.ticket[0].content.forEach((e) => {\r\n        if (e.id == el.productid) {\r\n          e.count++;\r\n          found = true;\r\n          return;\r\n        }\r\n      });\r\n      if (found == false)\r\n        this.ticket[0].content.push({\r\n          id: el.productid,\r\n          count: 1,\r\n          text: el.text,\r\n          price: el.price,\r\n          categoryid: el.category,\r\n          comment: \"\",\r\n        });\r\n\r\n      var listticket = document.getElementById(\"listticket\");\r\n      listticket.lastElementChild.scrollIntoView(false);\r\n    },\r\n\r\n    async alertHandler(data) {\r\n      this.showalert = true;\r\n      switch (data.Prefix) {\r\n        case \"ERROR\":\r\n        case \"EMPTY\":\r\n          this.alerttext = data.Message + `  ${data.data}`;\r\n          this.alertcardclass = \"text-center errorclass\";\r\n\r\n          break;\r\n        case \"INSERT\":\r\n        case \"EDIT\":\r\n        case \"DELETE\":\r\n        case \"UPDATE\":\r\n          this.alerttext = data.Message + ` : ${data.data}`;\r\n          this.alertcardclass = \"text-center successclass\";\r\n\r\n          if (data.Message == \"Le ticket a été enregistré\")\r\n            this.ticket[0].number = data.data;\r\n\r\n          break;\r\n      }\r\n      await this.getCategories();\r\n\r\n      await this.getMenu();\r\n      if (\r\n        oldtab == 0 &&\r\n        (data.Message != \"La catrégorie a été enregistrée\" ||\r\n          data.Message != \"La catrégorie a été modifiée\")\r\n      ) {\r\n        this.showFavorites();\r\n        return;\r\n      }\r\n      this.tab = oldtab;\r\n      this.showElements(this.selectedcategory.categoryid);\r\n      setTimeout(() => {\r\n        this.showalert = false;\r\n      }, 3000);\r\n    },\r\n    async showElements(catID) {\r\n      if (catID != \"\") {\r\n        this.selectedcategoryID = catID;\r\n      }\r\n\r\n      if (this.menu.length == 0) await this.getMenu();\r\n\r\n      filtredMenu.value = [];\r\n      this.menu.forEach((e) => {\r\n        if (e.category == catID) {\r\n          filtredMenu.value.push(e);\r\n        }\r\n      });\r\n      initSortable(catID);\r\n      if (localStorage.getItem(\"filtredMenu\" + catID)) {\r\n        filtredMenu.value = getSortedFiltredMenu(catID);\r\n        return;\r\n      }\r\n      localStorage.setItem(\"filtredMenu\" + catID, JSON.stringify(filtredMenu.value));\r\n    },\r\n    async showFavorites() {\r\n      filtredMenu.value = [];\r\n\r\n      this.menu.forEach((e) => {\r\n        if (e.isfavorite == true) {\r\n          filtredMenu.value.push(e);\r\n        }\r\n      });\r\n      initSortable(-1);\r\n      if (localStorage.getItem(\"filtredMenu-1\")) {\r\n        filtredMenu.value = getSortedFiltredMenu(-1);\r\n        return;\r\n      }\r\n      localStorage.setItem(\"filtredMenu-1\", JSON.stringify(filtredMenu.value));\r\n    },\r\n    removeFromTicket: function (id) {\r\n      store.Member = null;\r\n      this.ticket[0].content.forEach((e, i) => {\r\n        if (e.id == id) {\r\n          this.ticket[0].content.splice(i, 1);\r\n          this.ticket[0].totalticket -= parseFloat(e.price) * e.count;\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    increaseCount: function (e) {\r\n      e.count++;\r\n      this.ticket[0].totalticket += parseFloat(e.price);\r\n      store.Member = null;\r\n    },\r\n    reduceCount: function (e) {\r\n      \r\n      if (e.count == 1) {\r\n        e.count--;\r\n        this.ticket[0].totalticket -= parseFloat(e.price);\r\n        this.removeFromTicket(e.id);\r\n        return;\r\n      }\r\n\r\n      e.count--;\r\n      this.ticket[0].totalticket -= parseFloat(e.price);\r\n      store.Member = null;\r\n    },\r\n    showTicketOnLowResolution() {\r\n      this.sheet = true;\r\n    },\r\n    async showadminlogin(func) {\r\n      if (this.adminloginicon == \"mdi-lock\") {\r\n        this.showadminprompt = true;\r\n        setTimeout(() => {\r\n          this.$refs.adminpass.focus();\r\n        }, 200);\r\n        return;\r\n      }\r\n      this.isadmin = false;\r\n      this.adminclass = \"adminclasslogout\";\r\n      this.adminloginicon = \"mdi-lock\";\r\n      func();\r\n    },\r\n    showAddNewProductDialog() {\r\n      oldtab = this.tab;\r\n\r\n      this.productdialog = true;\r\n    },\r\n\r\n    async confirmDelete() {\r\n      await axios\r\n        .post(\"https://\" + getHostName() + \"/deletecategory\", {\r\n          categoryid: this.categorytodelete.categoryid,\r\n        })\r\n        .then(async (r) => {\r\n          this.alertHandler(r.data);\r\n        })\r\n        .catch((e) => console.log(e));\r\n    },\r\n    async confirmDeleteProduct() {\r\n      oldtab = this.tab;\r\n      await axios\r\n        .post(\"https://\" + getHostName() + \"/deleteProduct\", {\r\n          productid: this.producttodelete.productid,\r\n        })\r\n        .then(async (r) => {\r\n          this.alertHandler(r.data);\r\n\r\n          await this.getMenu();\r\n        })\r\n        .catch((e) => console.log(e));\r\n    },\r\n\r\n    deleteCategory(cat) {\r\n      this.categorytodelete = cat;\r\n      this.confirmdialog = true;\r\n      this.confirmationtext = `Etes-vous sûr de vouloir supprimer la catégorie ${cat.categoryname}? `;\r\n    },\r\n    deleteProduct(element) {\r\n      this.producttodelete = element;\r\n      this.deleteproductconfirmdialog = true;\r\n      this.confirmationtext = `Etes-vous sûr de vouloir supprimer le produit ${element.text}? `;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.situation {\r\n  display: flex;\r\n  color: black;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 400px;\r\n}\r\n.v-main {\r\n  --v-layout-bottom: 0px;\r\n}\r\n.errorclass {\r\n  background-color: chocolate;\r\n}\r\n.successclass {\r\n  background-color: darkseagreen;\r\n}\r\n.v-list-subheader__text {\r\n  margin-top: 5px;\r\n  margin-left: 5px;\r\n}\r\n.v-list-subheader {\r\n  display: grid;\r\n}\r\n.adminclasslogin {\r\n  color: darkgreen;\r\n}\r\n.adminclasslogout {\r\n  color: darkred;\r\n}\r\n.statusplay {\r\n  color: rgb(50, 112, 31);\r\n}\r\n.statusstop {\r\n  color: rgb(112, 31, 31);\r\n}\r\n.v-card-actions {\r\n  display: inline !important;\r\n}\r\n.v-col-md-2 {\r\n  flex: 0 0 16.6666666667%;\r\n  max-width: 50%;\r\n}\r\n.v-chip.v-chip--size-small {\r\n  padding: 0 16px;\r\n}\r\n.no-select {\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n.IMPAYE {\r\n  background-color: orangered;\r\n  text-align: center;\r\n}\r\n.PAYE {\r\n  background-color: darkolivegreen;\r\n  text-align: center;\r\n}\r\n.ANNULE {\r\n  background-color: #888;\r\n  text-align: center;\r\n}\r\n.menu {\r\n  width: 65%;\r\n}\r\n.showinlowresolution {\r\n  visibility: hidden;\r\n}\r\n.centerstuff {\r\n  position: absolute;\r\n\r\n  top: 40%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.card-element {\r\n  height: 120px;\r\n  width: 80px;\r\n}\r\n.card-element-no-drag {\r\n  height: 120px;\r\n  width: 80px;\r\n}\r\n.card-element-image {\r\n  height: 90px;\r\n  width: 80px;\r\n  object-fit: cover;\r\n}\r\n.adminlogin {\r\n  width: 145px;\r\n  padding: 10px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  border: 2px solid #ccc;\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.display {\r\n  width: 145px;\r\n  padding: 10px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  border: 2px solid #ccc;\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n  color: black;\r\n  background-color: #ffffff;\r\n}\r\n.keypad {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 40px);\r\n  gap: 10px;\r\n}\r\n.keypad button {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  font-size: 20px;\r\n  background-color: #1c1d1d;\r\n  color: rgb(243, 228, 228);\r\n  border: none;\r\n  cursor: pointer;\r\n  outline: none;\r\n  transition: background-color 0.2s;\r\n}\r\n.keypad button:active {\r\n  background-color: #0056b3;\r\n}\r\n.keypad .control {\r\n  background-color: #dc3545;\r\n}\r\n.keypad .control:active {\r\n  background-color: #c82333;\r\n}\r\n.keypad .validate {\r\n  background-color: #28a745;\r\n  grid-column: 2 / span 1;\r\n}\r\n.keypad .validate:active {\r\n  background-color: #218838;\r\n}\r\n.v-overlay__scrim {\r\n  background: transparent;\r\n}\r\n.keyboarddialog {\r\n  max-width: 750px;\r\n}\r\n@media only screen and (max-width: 1900px) {\r\n  .v-col-md-2 {\r\n    flex: 0 0 16.6666666667%;\r\n    max-width: 20% !important;\r\n  }\r\n\r\n  .v-container {\r\n    max-width: 100%;\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 757px) {\r\n  .v-col-md-2 {\r\n    flex: 0 0 16.6666666667%;\r\n    max-width: 40% !important;\r\n  }\r\n  .v-bottom-navigation .v-bottom-navigation__content > .v-btn {\r\n    width: 50px;\r\n  }\r\n  body {\r\n    margin-right: 5px;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  .bottomnavbutton span {\r\n    font-size: 9px;\r\n  }\r\n  .NOMOBILE {\r\n    display: none;\r\n  }\r\n  .menu {\r\n    width: 100%;\r\n  }\r\n  .situation {\r\n    width: 100vw;\r\n    left: 0%;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .keyboarddialog {\r\n    display: none;\r\n  }\r\n  .card-element {\r\n    height: 120px;\r\n    width: 82px;\r\n  }\r\n  .card-element-image {\r\n    height: 90px;\r\n    width: 82px;\r\n    object-fit: cover;\r\n  }\r\n  .ticket {\r\n    visibility: hidden;\r\n    display: none;\r\n  }\r\n  .showinlowresolution {\r\n    visibility: visible;\r\n  }\r\n}\r\ninput[type=\"date\"] {\r\n  background-color: #1e1e1e;\r\n  color: #ffffff;\r\n  border: 1px solid #333;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 12px;\r\n  outline: none;\r\n}\r\nselect {\r\n  background-color: #333;\r\n  color: white;\r\n  border: 1px solid #555;\r\n  border-radius: 4px;\r\n  padding: 8px;\r\n  font-size: 12px;\r\n}\r\n\r\nselect:focus {\r\n  outline: none;\r\n  border-color: #888;\r\n}\r\n\r\noption {\r\n  background-color: #333;\r\n  color: white;\r\n}\r\n\r\noption:hover {\r\n  background-color: #555;\r\n}\r\n.v-selection-control .v-label {\r\n  font-size: 12px !important;\r\n}\r\n.v-col-md-2 {\r\n  flex: 0 0 16.6666666667%;\r\n  max-width: 10%;\r\n}\r\n.d-flex {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px; /* Ensures space between cards */\r\n}\r\n\r\n.card-element {\r\n  cursor: grab;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n/* Dragging effect */\r\n.card-element:active {\r\n  cursor: grabbing;\r\n}\r\n\r\n.sortable-ghost {\r\n  opacity: 0.4;\r\n}\r\n\r\n.card-element:hover {\r\n  transform: scale(1.05);\r\n}\r\n.highlighted {\r\n  color: chocolate;\r\n}\r\n.active {\r\n  color: darkseagreen;\r\n}\r\n.inactive {\r\n  color: darkred;\r\n}\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6017b6e5&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","// Styles\nimport \"@mdi/font/css/materialdesignicons.css\";\nimport \"vuetify/styles\";\n\n// Vuetify\nimport { createVuetify } from \"vuetify\";\nimport { VNumberInput } from 'vuetify/labs/VNumberInput'\nexport default createVuetify({\n    components: {\n      VNumberInput,\n    },\n    theme: {\n      defaultTheme: localStorage.getItem('theme') || 'dark',\n      themes: {\n        bluegrey: {\n          colors: {\n            primary: '#4CAF93',\n            secondary: '#FFB74D',\n            accent: '#82B1FF',\n            background: '#5d6d7e',\n            surface: '#34495e',\n            error: '#E57373',\n            success: '#81C784',\n            warning: '#FFD54F',\n            info: '#64B5F6',\n            textPrimary: '#212121',\n            textSecondary: '#757575',\n          },\n          variables: {\n            borderRadius: '12px',\n            customShadow: '0px 4px 10px rgba(0, 0, 0, 0.1)',\n          },\n        },\n        brown: {\n          colors: {\n            primary: '#3E2723',\n            secondary: '#FFB74D',\n            accent: '#82B1FF',\n            background: '#8D6E63',\n            surface: '#A1887F',\n            error: '#F44336',\n            success: '#66BB6A',\n            warning: '#FFC107',\n            info: '#29B6F6',\n            textPrimary: '#212121',\n            textSecondary: '#757575',\n          },\n          variables: {\n            borderRadius: '10px',\n            customShadow: '0px 4px 12px rgba(0, 0, 0, 0.1)',\n          },\n        },\n        teal: {\n          colors: {\n            primary: '#004D40',\n            secondary: '#FFB74D',\n            accent: '#82B1FF',\n            background: '#26A69A',\n            surface: '#80CBC4',\n            error: '#F44336',\n            success: '#66BB6A',\n            warning: '#FFC107',\n            info: '#29B6F6',\n            textPrimary: '#212121',\n            textSecondary: '#757575',\n          },\n          variables: {\n            borderRadius: '10px',\n            customShadow: '0px 4px 12px rgba(0, 0, 0, 0.1)',\n          },\n        },\n        purple: {\n          colors: {\n            primary: '#673AB7',\n            secondary: '#E91E63',\n            accent: '#FF4081',\n            background: '#EDE7F6',\n            surface: '#D1C4E9',\n            error: '#D32F2F',\n            success: '#4CAF50',\n            warning: '#FFEB3B',\n            info: '#3F51B5',\n            textPrimary: '#1A237E',\n            textSecondary: '#4A148C',\n          },\n          variables: {\n            borderRadius: '8px',\n            customShadow: '0px 5px 15px rgba(0, 0, 0, 0.2)',\n          },\n        },\n        orange: {\n          colors: {\n            primary: '#FF5722',\n            secondary: '#FFC107',\n            accent: '#FF9800',\n            background: '#FFCCBC',\n            surface: '#FFAB91',\n            error: '#D84315',\n            success: '#2E7D32',\n            warning: '#FF8F00',\n            info: '#FF6F00',\n            textPrimary: '#BF360C',\n            textSecondary: '#5D4037',\n          },\n          variables: {\n            borderRadius: '10px',\n            customShadow: '0px 4px 14px rgba(0, 0, 0, 0.15)',\n          },\n        },\n        deepblue: {\n          colors: {\n            primary: '#0D47A1',\n            secondary: '#1565C0',\n            accent: '#42A5F5',\n            background: '#1E88E5',\n            surface: '#64B5F6',\n            error: '#B71C1C',\n            success: '#2E7D32',\n            warning: '#F57C00',\n            info: '#1976D2',\n            textPrimary: '#E3F2FD',\n            textSecondary: '#BBDEFB',\n          },\n          variables: {\n            borderRadius: '10px',\n            customShadow: '0px 6px 16px rgba(0, 0, 0, 0.2)',\n          },\n        },\n      },\n    },\n    \n  })","/**\n * plugins/webfontloader.js\n *\n * webfontloader documentation: https://github.com/typekit/webfontloader\n */\n\nexport async function loadFonts() {\n  const webFontLoader = await import(\n    /* webpackChunkName: \"webfontloader\" */ \"webfontloader\"\n  );\n\n  webFontLoader.load({\n    google: {\n      families: [\"Roboto:100,300,400,500,700,900&display=swap\"],\n    },\n  });\n}\n","import { createApp } from \"vue\";\n\nimport App from \"./App.vue\";\nimport vuetify from \"./plugins/vuetify\";\nimport { loadFonts } from \"./plugins/webfontloader\";\n\nloadFonts();\n\nconst app = createApp(App).use(vuetify);\n//app.config.errorHandler = () => null;\napp.config.warnHandler = () => null;\nhistory.pushState(null, null, location.href);\nwindow.onpopstate = function () {\n  history.go(1);\n};\n\napp.mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + (chunkId === 53 ? \"webfontloader\" : chunkId) + \".\" + {\"53\":\"6f28bc1e\",\"125\":\"a17f9d0c\",\"179\":\"e8f139b2\",\"870\":\"73024b12\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"nadil-pos:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknadil_pos\"] = self[\"webpackChunknadil_pos\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(72881)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["getHostName","window","location","hostname","port","sortableInstances","store","reactive","Member","filtredMenu","ref","initSortable","id","nextTick","forEach","instance","destroy","document","querySelectorAll","container","index","sortable","Sortable","create","animation","ghostClass","filter","preventOnFilter","supportPointer","onEnd","evt","movedItem","value","splice","oldIndex","newIndex","localStorage","setItem","JSON","stringify","push","getSortedFiltredMenu","strlocalfiltredmenu","getItem","localfitredMenu","parse","dbSet","Set","map","item","productid","updatedLocalArray","has","localSet","missingItems","concat","_toConsumableArray","onUpdatefocused","chrome","webview","postMessage","props","__props","emit","__emit","close","print","_print","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","form","wrap","_context","prev","next","console","log","settings","FormData","append","order","number","fetch","method","body","then","r","ok","Error","statusText","json","data","err","stop","__exports__","__default__","name","methods","showpassword","role","password","username","code","closeDialog","rules","isNumber","event","length","key","preventDefault","isNaN","Number","saveUser","_saveUser","alert","abrupt","e","_password$value","editUser","_editUser","usertoedit","Username","Code","ID","class","_createElementVNode","style","_createBlock","_component_v_card","elevation","width","_withCtx","_createVNode","_component_user_select_component","onUserSelected","$options","userSelected","_component_v_sheet","color","_component_v_otp_input","modelValue","$data","otp","_cache","$event","type","variant","_","disabled","userselected","_ctx","_hoisted_2","_createElementBlock","_Fragment","_renderList","num","onClick","appendNumber","_hoisted_3","_hoisted_4","_hoisted_5","clearOtp","_hoisted_1","_component_v_btn","height","text","authenticate","_createTextVNode","_hoisted_6","autherror","_hoisted_7","_createCommentVNode","_component_v_fab","size","icon","quitApp","xmlns","viewBox","fill","d","$setup","toggleDropdown","selectedUser","_toDisplayString","toUpperCase","_Transition","showDropdown","users","user","selectUser","_hoisted_8","setup","_ref","onMounted","getUsers","_getUsers","_callee2","_context2","some","obj","Role","getInitials","components","UserSelectComponent","iswebview2","this","nadilpos","showMessage","toString","_this","$emit","ex","render","categorytoedit","categoryname","categoryid","saveCategory","_saveCategory","axios","requesturl","requestparams","require","post","isFavorite","newproductname","price","preview","imagefile","saveNewProduct","_saveNewProduct","isfavorite","category","parentcategory","setPreview","file","FileReader","onload","target","result","readAsDataURL","makePreview","files","editProduct","_editProduct","editproduct","getCategory","categories","c","oldtab","ManageUsersDialogComponent","mounted","_mounted","getCategories","deleteproductconfirmdialog","overlay","authenticated_","producttodelete","ticketvalidate","showvkeyboard","editelement","showpad","actiononproduct","btnvalidatedisabled","btnvalidate","newcategoryname","showadminprompt","showalert","confirmdialog","adminclass","adminloginicon","sessionicon","confirmationtext","selectedcategory","alertcardclass","alerttext","alerttitle","adminpassword","ticketnumber","isadmin","paramsdialog","productdialog","sheet","tab","categorytodelete","input","categorydialog","selectedcategoryID","currentelement","count","menu","ticket","content","totalticket","discount","waiter","member","memberid","computed","watch","_tab","val","getMenu","showFavorites","showElements","_x","handler","updateTotalTicket","subscriberId","remainingConsumables","linearticket","i","article","find","m","memberdiscount","goldmemberdiscount","sort","a","b","isGold","immediate","deep","logout","adminLogin","_this2","_callee3","_context3","Message","newTicket","focus","emptyTicket","validateTicket","sessions","ss","authoff","_this3","_callee4","inputwaiter","creator","_context4","$refs","waiterbox","$el","querySelector","get","alertHandler","Prefix","sessionStorage","padStart","disconnectmode","_this4","validateInput","display","getElementById","innerHTML","removeFromTicket","parseInt","pressButton","deleteLast","slice","clearDisplay","showPad","refresh","_this5","_callee5","_context5","getImageURL","printReceipt","_this6","_callee6","_context6","_getMenu","_callee7","_this7","_context7","_getCategories","_callee8","_this8","_context8","withCredentials","elementClick","el","found","parseFloat","comment","listticket","lastElementChild","scrollIntoView","_this9","_callee9","_context9","t0","setTimeout","catID","_this10","_callee10","_context10","_this11","_callee11","_context11","_this12","increaseCount","reduceCount","showTicketOnLowResolution","showadminlogin","func","_this13","_callee12","_context12","adminpass","showAddNewProductDialog","confirmDelete","_this14","_callee14","_context14","_callee13","_context13","_x2","confirmDeleteProduct","_this15","_callee16","_context16","_ref2","_callee15","_context15","_x3","deleteCategory","cat","deleteProduct","element","initialprintingprofile","profile","printingmode","printingfunction","printingoptions","printerip","printerport","copies","active","printingprofile","_objectSpread","printingmodes","printingfunctions","printingprofiles","showprintingdialog","selectedperson","isCategoryDialogOpen","isProductDialogOpen","isEditProductDialogOpen","isManageUsersDialogOpen","isEditUsersDialogOpen","confirmdeleteuderdialog","confirmtext","managerauthorisations","managercancreatetickets","managercanselectwaiter","selectedwaiter","rail","drawer","waiters","waitersnames","selecteditem","authenticated","userslistsheet","showorderslist","search","searchorder","usertodelete","selectedorder","showsituation","loggeduser","ordersstatus","sessionended","printingmanagementsheet","footerProps","itemsPerPageText","itemsPerPageOptions","footerPropsPrinters","ordersProps","orders","filtredorders","editcat","addcatbutton","keyssaved","lenghtcounter","showcontent","startdatemodel","starttimemodel","enddatemodel","usersnames","endtimemodel","theme","generalsettings","posname","address","phone","wificode","securitysettings","themes","title","openManagePrintingDialog","editprofile","openEditPrintingProfile","printingprofiletodelete","getOverlayStyle","confirmDeletePrintingProfile","confirmdeleteprintingprofiledialog","valdiationbuttonstate","getBtnState","state","savePrintingProfile","_savePrintingProfile","_callee19","_context19","alertHandlerTwo","updatePrintingProfile","resp","error","deletePrintingProfile","_deletePrintingProfile","_callee20","_context20","_updatePrintingProfile","_callee21","_context21","changeTheme","t","convertDateFormat","dateString","_dateString$split","split","_dateString$split2","_slicedToArray","year","month","day","changeProductCategory","_x4","_x5","_x6","_changeProductCategory","_callee22","catid","_context22","localoriginfiltredmenu","localdestinationfiltredmenu","newValue","enableRFIDReading","disableRFIDReading","required","v","printOrders","pdf","jsPDF","sum","status","tableheaders","align","headers","header","rows","now","Date","hours","getHours","minutes","getMinutes","currentTime","setFontSize","autoTable","head","startY","margin","left","right","styles","fontSize","footStyles","fontStyle","pageWidth","internal","pageSize","getWidth","tableEndY","previous","finalY","setFont","toFixed","save","getDisabledState","_loggeduser$value","saveAuthSettings","_saveAuthSettings","_callee24","_context24","rersp","loadSettings","_loadSettings","_callee25","_context25","managersettings","printingsettings","showComment","showcommentdialog","saveComment","saveSecurityOptions","_saveSecurityOptions","_callee26","_context26","saveGeneralInformations","_saveGeneralInformations","_callee27","_context27","emptyTicketTwo","newTicketTwo","newticketbutton","blur","getTodayDate","today","getFullYear","String","getMonth","getDate","formatDateToDDMMYYYYHHMMSS","date","seconds","getSeconds","isElectron","navigator","userAgent","toLowerCase","includes","isRunningFromGUIApp","_callee17","otpfirstchar","_context17","href","documentElement","overflowY","confirmstartendsessiondialog","confirmstartendsessiontext","confirmStartOrEndSession","_confirmStartOrEndSession","_callee29","_context29","_ref14","_callee28","_context28","getSessionsStatus","_x12","showSituation","_showSituation","_callee30","_loggeduser$value7","_users$value","_loggeduser$value8","_loggeduser$value9","_loggeduser$value10","_context30","userSelectionChanged","w","getDateTime","datetime","undefined","formattedDate","toISOString","formattedTime","situation","situationToPrint","_x7","_userSelectionChanged","_callee31","_sessions$get10","_context31","start","_situation$value8","_situation$value9","_situation$value10","_situation$value11","_situation$value12","_situation$value13","_situation$value14","_sessions$get11","_sessions$get12","totalpaid","countpaid","totalinpaid","countinpaid","totalcanceled","countcanceled","total","sessionstart","sessionend","end","showVirtualkeyBoard","statuschanged","authOff","_authOff","_callee32","_context32","informServer","clear","showalerttwo","alerttexttwo","alertcardclasstwo","_x8","_alertHandlerTwo","_callee33","_context33","getOrders","_quitApp","_callee34","_context34","minimizeApp","_minimizeApp","_callee35","_context35","_getOrders","_callee36","_context36","creationdate","showOrdersList","_showOrdersList","_callee37","_context37","_informServer","_callee38","_context38","addEventListener","cookie","replace","toUTCString","sessionstatustext","sessionstatusicon","sessionstatusclass","sessionsmap","Map","_getSessionsStatus","_callee39","_context39","_loggeduser$value12","_loggeduser$value13","session","_loggeduser$value11","set","changeSessionStatus","_changeSessionStatus","_callee40","_context40","authOK","_x9","_authOK","_callee41","_context41","openSession","_x10","_openSession","_callee43","_context43","_ref15","_callee42","_context42","_x13","_loggeduser$value2","substring","rfidkeystrokes","handleRFIDInput","removeEventListener","getSubscriberFromACM","_ref4","_callee18","rfid","_context18","response","hasValidSubscription","_x11","_callee44","_context44","_users$value2","confirmcancelorderdialg","confirmcancelordertext","ordertocancel","confirmCancelOrder","cancelOrder","_cancelOrder","_callee45","_ordertocancel$value","_ordertocancel$value2","_context45","confirmcheckorderdialog","confirmcheckordertext","ordertocheck","confirmCheckOrder","checkConfirmation","_checkConfirmation","_callee46","_ordertocheck$value","_ordertocheck$value2","_ordertocheck$value3","_ordertocheck$value4","_ordertocheck$value5","_context46","showContent","confirmDeleteUser","deleteUser","_deleteUser","_callee47","_context47","inform","openManageUsersDialog","closeManageUsersDialog","openEditUsersDialog","closeEditUsersDialog","openAddCategoryDialog","closeCategoryDialog","openAddProductDialog","closeProductDialog","openEditProductDialog","closeEditProductDialog","_inform","_callee48","_context48","editCategory","showMenu","printSituation","_printSituation","_callee49","_situationToPrint$val","_situationToPrint$val2","_situationToPrint$val3","_context49","getMenuDisabled","createVuetify","VNumberInput","defaultTheme","bluegrey","colors","primary","secondary","accent","background","surface","success","warning","info","textPrimary","textSecondary","variables","borderRadius","customShadow","brown","teal","purple","orange","deepblue","loadFonts","_loadFonts","webFontLoader","sent","load","google","families","app","createApp","App","use","vuetify","config","warnHandler","history","pushState","onpopstate","go","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","mode","ns","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","onerror","clearTimeout","doneFns","parentNode","removeChild","bind","appendChild","Symbol","toStringTag","nmd","paths","children","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}