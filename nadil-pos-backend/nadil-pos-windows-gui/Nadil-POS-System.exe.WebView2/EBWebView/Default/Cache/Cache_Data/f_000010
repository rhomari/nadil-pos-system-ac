(()=>{"use strict";var e={69519:(e,t,n)=>{n(23792),n(3362),n(69085),n(9391);var r=n(45130),a=n(23772),o=n(78676),u=n(14048),l=n(30388),i=(n(16280),n(76918),n(28706),n(51629),n(62062),n(44114),n(72712),n(34782),n(54554),n(1688),n(60739),n(23288),n(33110),n(36033),n(9868),n(79432),n(26099),n(78459),n(58940),n(27495),n(38781),n(47764),n(68156),n(25440),n(98992),n(3949),n(81454),n(8872),n(23500),n(62953),n(76031),n(56768)),c=n(24232),s=n(90144),d=n(11749);n(75839);function p(){return window.location.hostname+":"+window.location.port}var f=n(13892),m=n(91772),v={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},k={class:"receipt"},h={class:"receipt-header"},b={style:{"font-size":"12px","font-weight":"bold"}},g={class:"receipt-items"},w=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Produit"),(0,i.Lk)("th",null,"Qté"),(0,i.Lk)("th",{style:{"text-align":"right"}},"Prix"),(0,i.Lk)("th",{style:{"text-align":"right"}},"Total")])],-1),y={style:{"text-align":"right"}},x={style:{"text-align":"right"}},F={class:"receipt-summary"},_=(0,i.Lk)("span",{style:{float:"left","margin-left":"50%"}},[(0,i.Lk)("strong",null,"Total:")],-1),C={style:{float:"right","margin-right":"10px"}},A=(0,i.Lk)("div",{class:"thank-you",style:{"margin-top":"50px"}},[(0,i.Lk)("p",{style:{"text-align":"left"}},"Merci de votre visite."),(0,i.Lk)("p",{style:{"text-align":"left"}},"A bientôt!")],-1),V={style:{color:"white","margin-top":"10px","text-align":"center"}};const L={__name:"OrderContentComponent",props:{modelValue:Boolean,order:Object,settings:Object},emits:["close"],setup:function(e,t){var n=t.emit,r=e,a=n;function o(){a("close")}function s(){return d.apply(this,arguments)}function d(){return d=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(r.settings),t=new FormData,t.append("number",r.order.number),e.next=5,fetch("http://"+p()+"/printreceipt",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return function(t,n){return(0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(m.p,{"model-value":e.modelValue,"max-width":"80mm",persistent:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",k,[(0,i.Lk)("div",h,[(0,i.Lk)("h1",null,(0,c.v_)(e.settings.posname),1),(0,i.Lk)("p",null,(0,c.v_)(e.settings.address),1),(0,i.Lk)("p",null,(0,c.v_)(e.settings.phone),1)]),(0,i.Lk)("span",b,"Serveur : "+(0,c.v_)(e.order.waiter),1),(0,i.Lk)("table",g,[w,(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(JSON.parse(e.order.content),(function(e){return(0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,(0,c.v_)(e.text),1),(0,i.Lk)("td",null,(0,c.v_)(e.count),1),(0,i.Lk)("td",y,(0,c.v_)(e.price.toFixed(2)),1),(0,i.Lk)("td",x,(0,c.v_)((e.price*e.count).toFixed(2)),1)])})),128))])]),(0,i.Lk)("div",F,[_,(0,i.Lk)("span",C,[(0,i.Lk)("strong",null,(0,c.v_)(e.order.totalticket.toFixed(2)),1)])]),A,(0,i.Lk)("div",V,[(0,i.bF)(f.D,{onClick:o,style:{float:"left","margin-right":"5px"}},{default:(0,i.k6)((function(){return[(0,i.eW)("Fermer")]})),_:1}),(0,i.bF)(f.D,{onClick:s,style:{float:"right","margin-left":"5px"}},{default:(0,i.k6)((function(){return[(0,i.eW)("Imprimer")]})),_:1})])])]})),_:1},8,["model-value"])])}}},E=L,R=E;n(2892);var U=n(82729),T=n(25249),D=n(12048),S={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},O={name:"NewCategoryDialogComponent",data:function(){},methods:{}};const W=Object.assign(O,{props:{modelValue:Boolean},emits:["update:modelValue","alert","inform"],setup:function(e,t){var n=t.emit,r=n,a=(0,s.KR)(!1),o=(0,s.KR)(""),c=(0,s.KR)(""),d=(0,s.KR)(""),v=(0,s.KR)("");function k(){r("update:modelValue",!1)}var h=[function(e){return!!e||"ce champ est obligatoire"}],b=function(e){6===c.value.length&&"Backspace"!=e.key&&"Delete"!=e.key&&e.preventDefault(),1===e.key.length&&isNaN(Number(e.key))&&e.preventDefault()};function g(){return w.apply(this,arguments)}function w(){return w=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=d.value&&""!=c.value&&""!=o.value){e.next=3;break}return alert("Tous les champs sont obligatoires"),e.abrupt("return");case 3:return t=new FormData,t.append("username",d.value),t.append("role",o.value),t.append("password",c.value),t.append("code",v.value),e.next=10,fetch("http://"+p()+"/saveuser",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){r("alert",e),r("inform"),k()}))["catch"]((function(e){console.log(e)}));case 10:d.value="",c.value="",v.value="",o.value="";case 14:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}return function(t,n){return(0,i.uX)(),(0,i.CE)("div",S,[(0,i.bF)(m.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{title:"Ajouter un utilisateur"},{actions:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"Nom de l'utilisateur",required:"",modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return d.value=e}),clearable:"",rules:h},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(T.d4,{label:"Role",required:"",items:["Gérant","Serveur"],modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.value=e}),rules:h},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"Mot de passe",required:"",modelValue:c.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return c.value=e}),onKeydown:b,type:a.value?"text":"password",clearable:"","append-icon":a.value?"mdi-eye":"mdi-eye-off","onClick:append":n[3]||(n[3]=function(e){return a.value=!a.value}),rules:h},null,8,["modelValue","type","append-icon"])]),(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"CODE",required:"",modelValue:v.value,"onUpdate:modelValue":n[4]||(n[4]=function(e){return v.value=e}),clearable:"",type:"password"},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(f.D,{onClick:n[5]||(n[5]=function(e){return g()}),icon:"mdi-content-save"}),(0,i.bF)(f.D,{onClick:k,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),P=W,I=P;var N={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},K={name:"NewCategoryDialogComponent",data:function(){},methods:{}};const z=Object.assign(K,{props:{modelValue:Boolean,usertoedit:Object},emits:["update:modelValue","alert","inform"],setup:function(e,t){var n=t.emit,r=e,a=n,o=(0,s.KR)(!1),c=(0,s.KR)(""),d=(0,s.KR)("");function v(){a("update:modelValue",!1)}var k=[function(e){return!!e||"ce champ est obligatoire"}],h=function(e){var t;6===(null===(t=c.value)||void 0===t?void 0:t.length)&&"Backspace"!=e.key&&"Delete"!=e.key&&e.preventDefault(),1===e.key.length&&isNaN(Number(e.key))&&e.preventDefault()};function b(){return g.apply(this,arguments)}function g(){return g=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=r.usertoedit.Username&&""!=c.value&&""!=d.value){e.next=3;break}return alert("Tous les champs sont obligatoires"),e.abrupt("return");case 3:return t=new FormData,t.append("username",r.usertoedit.Username),t.append("role",d.value),t.append("password",c.value),t.append("code",r.usertoedit.Code),t.append("id",r.usertoedit.ID),e.next=11,fetch("http://"+p()+"/edituser",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){a("alert",e),a("inform"),v()}))["catch"]((function(e){console.log(e)}));case 11:r.usertoedit.Username="",c.value="",o.value=!1,d.value="",console.log(r.usertoedit.Username,d.value,o.value,c.value);case 16:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return function(t,n){return(0,i.uX)(),(0,i.CE)("div",N,[(0,i.bF)(m.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{title:"Editer un utilisateur"},{actions:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"Nom de l'utilisateur",required:"",modelValue:e.usertoedit.Username,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.usertoedit.Username=t}),disabled:"",rules:k},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(T.d4,{label:"Role",required:"",items:["Gérant","Serveur"],modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return d.value=e}),rules:k},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"Mot de passe",required:"",modelValue:c.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return c.value=e}),onKeydown:h,type:o.value?"text":"password",clearable:"","append-icon":o.value?"mdi-eye":"mdi-eye-off","onClick:append":n[3]||(n[3]=function(e){return o.value=!o.value}),rules:k},null,8,["modelValue","type","append-icon"])]),(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"CODE",required:"",modelValue:e.usertoedit.Code,"onUpdate:modelValue":n[4]||(n[4]=function(t){return e.usertoedit.Code=t}),clearable:"",type:"password"},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(f.D,{onClick:n[5]||(n[5]=function(e){return b()}),icon:"mdi-content-save"}),(0,i.bF)(f.D,{onClick:v,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),M=z,j=M;var B=n(69938),J=n(20477),X=n(51146),G=function(e){return(0,i.Qi)("data-v-1f1da157"),e=e(),(0,i.jt)(),e},q=["disabled"],H={class:"numpad-buttons"},Q=["onClick"],Y=["onClick"],$=["onClick"],Z=G((function(){return(0,i.Lk)("p",null,null,-1)})),ee={key:0,style:{color:"darkred","font-size":"12px"}};function te(e,t,n,r,a,o){var u=(0,i.g2)("user-select-component");return(0,i.uX)(),(0,i.Wv)(U.J,{class:"py-8 px-6 text-center mx-auto ma-4 loginform",elevation:"20","max-height":"600","max-width":"350",width:"350",style:{"z-index":"9999","margin-bottom":"50px"}},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{onUserSelected:o.userSelected},null,8,["onUserSelected"]),(0,i.bF)(X.i,{color:"surface"},{default:(0,i.k6)((function(){return[(0,i.bF)(J.C,{modelValue:a.otp,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.otp=e}),type:"password",variant:"solo",length:"6"},null,8,["modelValue"])]})),_:1}),(0,i.Lk)("div",{class:"numpad mt-4",disabled:""==a.userselected?"":e.disabled},[(0,i.Lk)("div",H,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)([1,2,3],(function(e){return(0,i.Lk)("button",{key:"row1"+e,onClick:function(t){return o.appendNumber(e)},class:"button"},(0,c.v_)(e),9,Q)})),64)),((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)([4,5,6],(function(e){return(0,i.Lk)("button",{key:"row2"+e,onClick:function(t){return o.appendNumber(e)},class:"button"},(0,c.v_)(e),9,Y)})),64)),((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)([7,8,9],(function(e){return(0,i.Lk)("button",{key:"row3"+e,onClick:function(t){return o.appendNumber(e)},class:"button"},(0,c.v_)(e),9,$)})),64)),(0,i.Lk)("button",{class:"button button-clear",onClick:t[1]||(t[1]=function(){return o.clearOtp&&o.clearOtp.apply(o,arguments)})},"Vider"),(0,i.Lk)("button",{onClick:t[2]||(t[2]=function(e){return o.appendNumber(0)}),class:"button"},"0")])],8,q),(0,i.bF)(f.D,{class:"my-4",color:"purple",height:"40",text:"Verify",variant:"flat",width:"70%",onClick:o.authenticate,disabled:a.otp.length<6||null==a.userselected?"":e.disabled},{default:(0,i.k6)((function(){return[(0,i.eW)(" S'authentifier ")]})),_:1},8,["onClick","disabled"]),Z,a.autherror?((0,i.uX)(),(0,i.CE)("span",ee,"Erreur d'authenfication, merci de vérifier vos données de connexion.")):(0,i.Q3)("",!0),(0,i.bF)(B.Q,{size:"32",color:"red",icon:"mdi-power",style:{position:"absolute",top:"96%",left:"45%",transform:"translate(-50%, -50%)"},onClick:t[3]||(t[3]=function(e){return o.quitApp()})})]})),_:1})}var ne=function(e){return(0,i.Qi)("data-v-83e9d1d2"),e=e(),(0,i.jt)(),e},re={class:"user-select"},ae={class:"dropdown"},oe={key:0},ue={style:{"font-weight":"bold"}},le={key:1},ie=ne((function(){return(0,i.Lk)("svg",{class:"chevron",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1)})),ce={key:0,class:"dropdown-list"},se=["onClick"];function de(e,t,n,a,o,u){return(0,i.uX)(),(0,i.CE)("div",re,[(0,i.Lk)("div",ae,[(0,i.Lk)("button",{class:"dropdown-button",onClick:t[0]||(t[0]=function(){return a.toggleDropdown&&a.toggleDropdown.apply(a,arguments)})},[a.selectedUser?((0,i.uX)(),(0,i.CE)("span",oe,[(0,i.Lk)("b",ue,(0,c.v_)(a.selectedUser.Username.toUpperCase()),1)])):((0,i.uX)(),(0,i.CE)("span",le,"Sélectionnez un utilisateur")),ie]),(0,i.bF)(r.eB,{name:"fade"},{default:(0,i.k6)((function(){return[a.showDropdown?((0,i.uX)(),(0,i.CE)("div",ce,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.users,(function(e){return(0,i.uX)(),(0,i.CE)("div",{key:e.ID,class:"dropdown-item",onClick:function(t){return a.selectUser(e)}},(0,c.v_)(e.Username.toUpperCase()),9,se)})),128))])):(0,i.Q3)("",!0)]})),_:1})])])}n(15086),n(37550);const pe={name:"UserSelect",setup:function(e,t){var n=t.emit,r=(0,s.KR)(null),a=(0,s.KR)(null),o=(0,s.KR)(!1),c=function(){o.value=!o.value};(0,i.sV)((0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)}))));var d=function(e){n("user-selected",e),a.value=e,o.value=!1};function f(){return m.apply(this,arguments)}function m(){return m=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+p()+"/getusers").then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){r.value=JSON.parse(e),(null==r.value||r.value.some((function(e){return"Gérant"===e.Role})))&&(r.value=[{ID:"-1",Username:"SETUP",Role:"SETUP",Code:""}])}))["catch"]((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}var v=function(e){};return{users:r,selectedUser:a,showDropdown:o,toggleDropdown:c,selectUser:d,getInitials:v}}};var fe=n(71241);const me=(0,fe.A)(pe,[["render",de],["__scopeId","data-v-83e9d1d2"]]),ve=me,ke={components:{UserSelectComponent:ve},data:function(){return{otp:"",userselected:null,autherror:!1,iswebview2:!1}},methods:{userSelected:function(e){this.userselected=e},quitApp:function(){window.nadilpos?window.nadilpos.showMessage("close"):null!=window.chrome.webview&&window.chrome.webview.postMessage("close")},appendNumber:function(e){this.otp.length<6&&(this.otp+=e.toString())},clearOtp:function(){this.otp=""},authenticate:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){var n;return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("SETUP"!==e.userselected.Role){t.next=3;break}return e.$emit("auth-ok",e.userselected),t.abrupt("return");case 3:if(e.autherror=!1,null!=e.userselected){t.next=7;break}return alert("Veuillez selectionner  un utilisateur"),t.abrupt("return");case 7:if(!(e.otp.length<6)){t.next=10;break}return alert("Veuillez enter votre mot de passe"),t.abrupt("return");case 10:return n=new FormData,n.append("user",e.userselected.Username),n.append("password",e.otp),t.next=15,fetch("http://"+p()+"/auth",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){"OK"!=t.data?e.autherror=!0:e.$emit("auth-ok",e.userselected)}))["catch"]((function(e){console.log(e)}));case 15:case"end":return t.stop()}}),t)})))()}}},he=(0,fe.A)(ke,[["render",te],["__scopeId","data-v-1f1da157"]]),be=he;var ge={class:"text-center pa-4",style:{"-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}},we={name:"NewCategoryDialogComponent",data:function(){},methods:{}};const ye=Object.assign(we,{props:{modelValue:Boolean,categorytoedit:{categoryname:"",categoryid:""}},emits:["update:modelValue"],setup:function(e,t){var r=t.emit,a=e,o=r;function c(){a.categorytoedit.categoryname="",a.categorytoedit.categoryid="",o("update:modelValue",!1)}function s(){return d.apply(this,arguments)}function d(){return d=(0,l.A)((0,u.A)().mark((function e(){var t,r,l,i;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=p(),r=n(86425)["default"],l="http://"+t+"/saveNewCategory",i={categoryname:a.categorytoedit.categoryname},""!=a.categorytoedit.categoryid&&(l="http://"+t+"/editCategory",i={categoryname:a.categorytoedit.categoryname,categoryid:a.categorytoedit.categoryid}),e.next=7,r.post(l,i).then((function(e){o("alert",e.data)}))["catch"]((function(e){return console.log(e)}));case 7:a.categorytoedit.categoryname="",a.categorytoedit.categoryid="",c();case 10:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return function(t,n){return(0,i.uX)(),(0,i.CE)("div",ge,[(0,i.bF)(m.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{text:"Indiquez le nom de la nouvelle catégorie",title:"Nouvelle catégorie"},{actions:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:"Intitulé",required:"",modelValue:e.categorytoedit.categoryname,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.categorytoedit.categoryname=t})},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(f.D,{onClick:n[1]||(n[1]=function(e){return s()}),icon:"mdi-content-save"}),(0,i.bF)(f.D,{onClick:c,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),xe=ye,Fe=xe;var _e=n(78351),Ce=n(67020),Ae=n(80594),Ve={class:"text-center pa-4"},Le={data:function(){return{rules:[function(e){return!!e||"ce champ est obligatoire"}]}},methods:{}};const Ee=Object.assign(Le,{__name:"NewProductDialogComponent",props:{modelValue:Boolean,parentcategory:{categoryname:String,categoryid:Number}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=e,a=n,o=(0,s.KR)(!1),c=(0,s.KR)(""),d=(0,s.KR)(0),v=(0,s.KR)(null),k=(0,s.KR)("");function h(){c.value="",d.value="",k.value=null,v.value=null,a("update:modelValue",!1)}function b(){return g.apply(this,arguments)}function g(){return g=(0,l.A)((0,u.A)().mark((function e(){var t,n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(d.value<0)){e.next=3;break}return alert("Le prix ne peut pas prendre une valeur négative."),e.abrupt("return");case 3:if(t=p(),""!=c.value&&""!=k.value){e.next=7;break}return alert("Veuillez remplir les champs obligatoires"),e.abrupt("return");case 7:return console.log("sending..."),n=new FormData,n.append("imagefile",k.value),n.append("details",JSON.stringify({isfavorite:o.value,category:r.parentcategory.categoryid,text:c.value,price:d.value})),e.next=13,fetch("http://"+t+"/addNewProduct",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){a("alert",e),h()}))["catch"]((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function w(e){var t=new FileReader;t.onload=function(e){v.value=e.target.result},t.readAsDataURL(e)}function y(e){e.target.files[0]&&w(e.target.files[0])}return function(t,n){return(0,i.uX)(),(0,i.CE)("div",Ve,[(0,i.bF)(m.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{text:"Indiquez le nom du nouveau produit",title:"Nouveau produit"},{actions:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:e.parentcategory.categoryname,"prepend-icon":"mdi-basket",disabled:"",density:"compact"},null,8,["label"]),(0,i.bF)(D.W,{label:"Intitulé",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return c.value=e}),"prepend-icon":"mdi-food",density:"compact",rules:t.rules},null,8,["modelValue","rules"]),(0,i.bF)(D.W,{label:"Prix",modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return d.value=e}),"prepend-icon":"mdi-cash-multiple",type:"number",density:"compact",rules:t.rules},null,8,["modelValue","rules"]),(0,i.bF)(_e.f,{accept:"image/png, image/jpeg, image/bmp, image/webp",label:"image",onChange:y,density:"compact",rules:t.rules,modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return k.value=e}),"prepend-icon":"mdi-camera"},null,8,["rules","modelValue"]),(0,i.bF)(Ce.y,{width:100,height:100,style:{float:"right","margin-bottom":"10px","border-radius":"5px"},cover:"",src:v.value},null,8,["src"]),(0,i.bF)(Ae.N,{density:"compact",modelValue:o.value,"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.value=e}),label:"Favori"},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(f.D,{onClick:n[4]||(n[4]=function(e){return b()}),icon:"mdi-content-save"}),(0,i.bF)(f.D,{onClick:h,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),Re=Ee,Ue=Re;var Te=n(40276),De={class:"text-center pa-4"},Se={data:function(){return{rules:[function(e){return!!e||"ce champ est obligatoire"}]}}};const Oe=Object.assign(Se,{__name:"EditProductDialogComponent",props:{modelValue:Boolean,editproduct:Object,categories:Object},emits:["update:modelValue"],setup:function(e,t){var n,r=t.emit,a=e,o=r,c=(0,s.KR)(""),d=(0,s.KR)("");function v(){return k.apply(this,arguments)}function k(){return k=(0,l.A)((0,u.A)().mark((function e(){var t,n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(a.editproduct.price<0)){e.next=3;break}return alert("Le prix ne peut pas prendre une valeur négative."),e.abrupt("return");case 3:if(t=p(),""!=a.editproduct.text&&""!=a.editproduct.price){e.next=7;break}return alert("Veuillez remplir les champs obligatoires"),e.abrupt("return");case 7:return n=new FormData,n.append("imagefile",c.value),n.append("details",JSON.stringify({productid:a.editproduct.productid,isfavorite:a.editproduct.isfavorite,category:a.editproduct.category,text:a.editproduct.text,price:a.editproduct.price})),e.next=12,fetch("http://"+t+"/editProduct",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){o("alert",e),h()}))["catch"]((function(e){console.log(e)}));case 12:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function h(){c.value=null,d.value=null,o("update:modelValue",!1)}function b(e){return a.categories.forEach((function(t){if(t.categoryid==e)return n=t.categoryname,n})),n}function g(e){var t=new FileReader;t.onload=function(e){d.value=e.target.result},t.readAsDataURL(e)}function w(e){e.target.files[0]&&g(e.target.files[0])}return function(t,n){return(0,i.uX)(),(0,i.CE)("div",De,[(0,i.bF)(m.p,{"model-value":e.modelValue,"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{text:"Modification du produit",title:"Modification"},{actions:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(D.W,{label:b(e.editproduct.category),"prepend-icon":"mdi-basket",disabled:"",density:"compact"},null,8,["label"]),(0,i.bF)(D.W,{label:"Intitulé",modelValue:e.editproduct.text,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.editproduct.text=t}),"prepend-icon":"mdi-food",density:"compact",rules:t.rules},null,8,["modelValue","rules"]),(0,i.bF)(D.W,{label:"Prix",modelValue:e.editproduct.price,"onUpdate:modelValue":n[1]||(n[1]=function(t){return e.editproduct.price=t}),"prepend-icon":"mdi-cash-multiple",type:"number",density:"compact",rules:t.rules},null,8,["modelValue","rules"]),(0,i.bF)(_e.f,{accept:"image/png, image/jpeg, image/bmp",label:"image",onChange:w,density:"compact",rules:t.rules,modelValue:c.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return c.value=e}),"prepend-icon":"mdi-camera"},null,8,["rules","modelValue"]),(0,i.bF)(Ce.y,{width:100,height:100,style:{float:"right","margin-bottom":"10px","border-radius":"5px"},cover:"",src:(0,s.R1)(d)},null,8,["src"]),(0,i.bF)(Te.a,{modelValue:e.editproduct.isfavorite,"onUpdate:modelValue":n[3]||(n[3]=function(t){return e.editproduct.isfavorite=t}),color:"indigo",label:"Favori"},null,8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(f.D,{onClick:v,icon:"mdi-content-save"}),(0,i.bF)(f.D,{onClick:h,icon:"mdi-exit-to-app"})])]})),_:1})]})),_:1},8,["model-value"])])}}}),We=Oe,Pe=We;n(48874);var Ie=n(96450),Ne=n(30249),Ke=n(58332),ze=n(46990),Me=n(94903),je=n(4946),Be=n(30697),Je=n(91606),Xe=n(93745),Ge=n(95523),qe=n(76329),He=n(7511),Qe=n(418),Ye=n(95272),$e=n(22162),Ze=n(32421),et=n(43813),tt=n(56756),nt=n(35526),rt=n(41720),at=n(79669),ot=n(69556),ut=n(84117),lt=n(4913),it=n(86449),ct=n(98477),st=n(88249),dt=n(70373),pt=n(38856),ft=n(36770),mt=n(55984),vt=n(10381),kt=n(76686),ht=n(37604),bt=n(29880),gt=n(14366),wt={class:"text-center"},yt={key:0},xt={class:"d-flex flex-wrap"},Ft={style:{"font-size":"11px"}},_t={class:"d-flex flex-wrap ga-2"},Ct={style:{"margin-left":"10px"}},At={size:"small",style:{float:"right","margin-right":"10px","align-content":"center"},variant:"elevated",color:"primary"},Vt={style:{height:"30px","margin-top":"5px"}},Lt=(0,i.Lk)("label",{style:{float:"left","padding-left":"5px"}},"Total : ",-1),Et={style:{float:"right","margin-right":"10px",color:"whitesmoke !important","font-size":"16px"},variant:"elevated",color:"orange"},Rt={style:{height:"140px","margin-top":"5px","margin-left":"10px","margin-right":"10px","margin-bottom":"5px"}},Ut=(0,i.Lk)("p",null,null,-1),Tt={style:{width:"99%","padding-left":"5px","padding-right":"5px"}},Dt=(0,i.Lk)("span",{s:""},"Admin",-1),St=(0,i.Lk)("span",null,"Commandes",-1),Ot=(0,i.Lk)("span",null,"Situation",-1),Wt=(0,i.Lk)("span",null,"Clavier virtuel",-1),Pt=(0,i.Lk)("span",null,"Ticket",-1),It={class:"text-center pa-4"},Nt={key:0},Kt={class:"text-center"},zt={style:{"margin-left":"5px"}},Mt={size:"small",style:{float:"right","margin-right":"5px","align-content":"center"},variant:"elevated",color:"primary"},jt={style:{height:"30px","margin-top":"5px"}},Bt=(0,i.Lk)("label",{style:{float:"left","padding-left":"5px"}},"Total : ",-1),Jt={size:"small",style:{float:"right",width:"120px",padding:"0 25px","text-align":"right",color:"whitesmoke !important","font-size":"14px"},variant:"elevated",color:"orange"},Xt={style:{height:"140px","margin-top":"5px","margin-left":"10px","margin-right":"10px","margin-bottom":"5px"}},Gt=(0,i.Lk)("p",null,null,-1),qt={style:{width:"99%","padding-left":"5px","padding-right":"5px"}},Ht={class:"centerstuff"},Qt={class:"centerstuff"},Yt={class:"text-center pa-4"},$t={class:"text-center pa-4"},Zt={class:"text-center pa-4"},en={class:"text-center pa-4"},tn={class:"text-center pa-4"},nn={class:"text-center pa-4"},rn={class:"display",id:"display"},an={class:"keypad"},on={style:{"border-radius":"10px",width:"150px","text-align":"center"}},un=(0,i.Lk)("label",{style:{"font-size":"12px","padding-top":"15px","margin-right":"10px","margin-left":"10px",width:"100px","align-content":"right"}},"à partir de :",-1),ln=(0,i.Lk)("label",{for:"status",style:{"font-size":"12px","padding-top":"15px","margin-right":"10px","margin-left":"10px"}},"Etat:",-1),cn=(0,i.Lk)("option",{value:"TOUT",selected:""},"Tout",-1),sn=(0,i.Lk)("option",{value:"IMPAYE"},"Impayé",-1),dn=(0,i.Lk)("option",{value:"PAYE"},"Payé",-1),pn=(0,i.Lk)("option",{value:"ANNULE"},"Annulé",-1),fn=[cn,sn,dn,pn],mn=(0,i.Lk)("label",{style:{"font-size":"12px","padding-top":"15px","margin-right":"10px","margin-left":"10px",width:"100px","align-content":"right"}},"jusqu'à :",-1),vn={style:{"font-size":"12px","text-align":"left"}},kn={style:{width:"100%","border-collapse":"collapse"}},hn=(0,i.Lk)("td",{style:{width:"60%"}},"Début ",-1),bn={style:{width:"40%","text-align":"right"}},gn=(0,i.Lk)("td",{style:{width:"60%"}},"Fin ",-1),wn={style:{width:"40%","text-align":"right"}},yn=(0,i.Lk)("td",{style:{width:"60%","background-color":"darkcyan"}},"Total payées ",-1),xn={style:{width:"40%","text-align":"right","background-color":"darkcyan"}},Fn=(0,i.Lk)("td",{style:{width:"60%","background-color":"darkcyan"}},"Nombre payées ",-1),_n={style:{width:"40%","text-align":"right","background-color":"darkcyan"}},Cn=(0,i.Lk)("td",{style:{width:"60%","background-color":"darkgoldenrod"}},"Total impayées ",-1),An={style:{width:"40%","text-align":"right","background-color":"darkgoldenrod"}},Vn=(0,i.Lk)("td",{style:{width:"60%","background-color":"darkgoldenrod"}},"Nombre impayées ",-1),Ln={style:{width:"40%","text-align":"right","background-color":"darkgoldenrod"}},En=(0,i.Lk)("td",{style:{width:"60%","background-color":"dimgray"}},"Total annulées ",-1),Rn={style:{width:"40%","text-align":"right","background-color":"dimgray"}},Un=(0,i.Lk)("td",{style:{width:"60%","background-color":"dimgray"}},"Nombre annulées ",-1),Tn={style:{width:"40%","text-align":"right","background-color":"dimgray"}},Dn=(0,i.Lk)("td",{style:{width:"60%","background-color":"darkgreen","font-size":"14px","font-weight":"bold"}},"Total ",-1),Sn={style:{width:"40%","text-align":"right","background-color":"darkgreen","font-size":"14px","font-weight":"bold"}},On=0,Wn=n(86425)["default"],Pn=new Audio(n(32170)),In={components:{ManageUsersDialogComponent:I},created:function(){var e=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Pn.preload="auto",e.next=3,this.getCategories();case 3:return e.next=5,this.getMenu();case 5:this.showFavorites();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{menuitems:[{title:"Nouveau utilisateur",key:0},{title:"Liste des utilisateurs",key:1}],deleteproductconfirmdialog:!1,overlay:!0,authenticated_:!0,producttodelete:"",ticketvalidate:!0,showvkeyboard:!0,editelement:null,showpad:!1,actiononproduct:!1,btnvalidatedisabled:!0,btnvalidate:!1,newcategoryname:"",showadminprompt:!1,showalert:!1,confirmdialog:!1,adminclass:"adminclasslogout",adminloginicon:"mdi-lock",sessionicon:"mdi-play",confirmationtext:"",selectedcategory:"",alertcardclass:"text-center",alerttext:"",alerttitle:"",adminpassword:"",ticketnumber:"",isadmin:!1,sheet:!1,paramsdialog:!1,productdialog:!1,tab:-1,categorytodelete:"",input:"",categorydialog:!1,selectedcategoryID:-1,currentelement:null,count:0,items:[{text:"Real-Time",icon:"mdi-clock"},{text:"Audience",icon:"mdi-account"},{text:"Conversions",icon:"mdi-flag"}],categories:[],menu:[],filtredMenu:[],ticket:[{content:[],number:"",totalticket:0,waiter:""}]}},watch:{tab:function(e){0!=e?this.showElements(this.selectedcategory.categoryid):this.showFavorites()},ticket:{handler:function(e){this.btnvalidatedisabled=!e[0].content.length>0,this.ticketvalidate=!0},deep:!0}},methods:{logout:function(){this.ticket[0].content=[],this.ticket[0].totalticket=0,this.ticket[0].waiter="",this.ticket[0].number="",this.ticketnumber="",this.isadmin=!1,this.adminloginicon="mdi-lock",this.adminclass="adminclasslogout"},adminLogin:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){var n;return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("pwd",e.adminpassword),t.next=4,fetch("http://"+p()+"/adminlogin",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){if(e.showadminprompt=!1,"ACCES REFUSE"==t.data)return e.alerttext=t.Message,e.showalert=!0,void(e.alertcardclass="text-center errorclass");e.adminclass="adminclasslogin",e.adminloginicon="mdi-lock-open",e.isadmin=!0,e.adminpassword=""}))["catch"]((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},newTicket:function(){this.ticket[0].content=[],this.ticket[0].totalticket=0,this.ticketvalidate=!1,this.ticketnumber="",document.body.focus()},emptyTicket:function(){this.ticket[0].content=[],this.ticket[0].totalticket=0},validateTicket:function(e){var t=this;return(0,l.A)((0,u.A)().mark((function n(){var r,a,o,l;return(0,u.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.$refs.waiterbox.$el.querySelector('[inputmode="none"]'),""==r.value){n.next=5;break}if(!e.get(r.value)){n.next=5;break}return t.alertHandler({Prefix:"ERROR",Message:"La session du serveur selectionné n'est pas démarrée.",data:""}),n.abrupt("return");case 5:return a=p(),o=new FormData,l=JSON.parse(sessionStorage.getItem("user")).username,t.ticket[0].waiter=r.value,o.append("totalticket",t.ticket[0].totalticket),o.append("waiter",t.ticket[0].waiter),o.append("creator",l),o.append("content",JSON.stringify(t.ticket[0].content)),n.next=15,fetch("http://"+a+"/saveTicket",{method:"post",body:o}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){t.ticketvalidate=!1,t.btnvalidatedisabled=!0,t.ticketnumber=e.data.padStart(9,0)}))["catch"]((function(e){console.log(e)}));case 15:case"end":return n.stop()}}),n)})))()},updateTotalTicket:function(){var e=this;this.ticket[0].totalticket=0,this.ticket[0].content.forEach((function(t){e.ticket[0].totalticket+=t.count*t.price}))},validateInput:function(){var e=document.getElementById("display").innerHTML;if("Entrez un nombre"!==e&&""!==e){if("0"==e)return this.removeFromTicket(this.currentelement.id),void(this.showpad=!1);this.currentelement.count=parseInt(e),this.updateTotalTicket(),this.showpad=!1}else alert("Nombre incorrecte")},pressButton:function(e){var t=document.getElementById("display");"Entrez un nombre"===t.innerHTML?t.innerHTML=e:t.innerHTML+=e},deleteLast:function(){var e=document.getElementById("display");e.innerHTML=e.innerHTML.slice(0,-1)||"Entrez un nombre"},clearDisplay:function(){document.getElementById("display").innerHTML="Entrez un nombre"},showPad:function(e){this.showpad=!0,this.currentelement=e},refresh:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategories();case 2:return t.next=4,e.getMenu();case 4:case"end":return t.stop()}}),t)})))()},getImageURL:function(e){return"http://"+p()+"/img/"+e},netPrint:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){var n;return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("number",e.ticketnumber),t.next=4,fetch("http://"+p()+"/networkprint",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&alertHandlerTwo(e)}))["catch"]((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},printReceipt:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){var n;return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("number",e.ticketnumber),t.next=4,fetch("http://"+p()+"/printreceipt",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){console.log(e)}))["catch"]((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},getMenu:function(){var e=(0,l.A)((0,u.A)().mark((function e(){var t=this;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.menu=[],e.next=3,fetch("http://"+p()+"/getMenu").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){t.menu=e}))["catch"]((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCategories:function(){var e=(0,l.A)((0,u.A)().mark((function e(){var t=this;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.categories=[],e.next=3,Wn.post("http://"+p()+"/getcategories",{withCredentials:!0}).then((function(e){t.categories=e.data}))["catch"]((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),elementClick:function(e){if(Pn.play(),this.isadmin)this.actiononproduct=!0;else{var t=!1;this.ticket[0].totalticket=this.ticket[0].totalticket+parseFloat(e.price),this.ticket[0].content.forEach((function(n){if(n.id==e.productid)return n.count++,void(t=!0)})),0==t&&this.ticket[0].content.push({id:e.productid,count:1,text:e.text,price:parseFloat(e.price)});var n=document.getElementById("listticket");n.lastElementChild.scrollIntoView(!1)}},alertHandler:function(e){var t=this;return(0,l.A)((0,u.A)().mark((function n(){return(0,u.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.showalert=!0,n.t0=e.Prefix,n.next="ERROR"===n.t0||"EMPTY"===n.t0?4:"INSERT"===n.t0||"EDIT"===n.t0||"DELETE"===n.t0||"UPDATE"===n.t0?7:11;break;case 4:return t.alerttext=e.Message+"  ".concat(e.data),t.alertcardclass="text-center errorclass",n.abrupt("break",11);case 7:return t.alerttext=e.Message+" : ".concat(e.data),t.alertcardclass="text-center successclass","Le ticket a été enregistré"==e.Message&&(t.ticket[0].number=e.data),n.abrupt("break",11);case 11:return n.next=13,t.getCategories();case 13:return n.next=15,t.getMenu();case 15:if(0!=On||"La catrégorie a été enregistrée"==e.Message&&"La catrégorie a été modifiée"==e.Message){n.next=18;break}return t.showFavorites(),n.abrupt("return");case 18:t.tab=On,t.showElements(t.selectedcategory.categoryid),setTimeout((function(){t.showalert=!1}),3e3);case 21:case"end":return n.stop()}}),n)})))()},showElements:function(e){var t=this;""!=e&&(this.selectedcategoryID=e),this.filtredMenu=[],this.menu.forEach((function(n){n.category==e&&t.filtredMenu.push(n)}))},showFavorites:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.filtredMenu=[],t.next=3,e.getMenu();case 3:e.menu.forEach((function(t){1==t.isfavorite&&e.filtredMenu.push(t)}));case 4:case"end":return t.stop()}}),t)})))()},removeFromTicket:function(e){var t=this;this.ticket[0].content.forEach((function(n,r){if(n.id==e)return t.ticket[0].content.splice(r,1),void(t.ticket[0].totalticket-=parseFloat(n.price)*n.count)}))},increaseCount:function(e){e.count++,this.ticket[0].totalticket+=parseFloat(e.price)},reduceCount:function(e){if(1==e.count)return e.count--,this.ticket[0].totalticket-=parseFloat(e.price),void this.removeFromTicket(e.id);e.count--,this.ticket[0].totalticket-=parseFloat(e.price)},showTicketOnLowResolution:function(){this.sheet=!0},showadminlogin:function(e){var t=this;return(0,l.A)((0,u.A)().mark((function n(){return(0,u.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("mdi-lock"!=t.adminloginicon){n.next=4;break}return t.showadminprompt=!0,setTimeout((function(){t.$refs.adminpass.focus()}),200),n.abrupt("return");case 4:t.isadmin=!1,t.adminclass="adminclasslogout",t.adminloginicon="mdi-lock",e();case 8:case"end":return n.stop()}}),n)})))()},showAddNewProductDialog:function(){On=this.tab,this.productdialog=!0},confirmDelete:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wn.post("http://"+p()+"/deletecategory",{categoryid:e.categorytodelete.categoryid}).then(function(){var t=(0,l.A)((0,u.A)().mark((function t(n){return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.alertHandler(n.data);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},confirmDeleteProduct:function(){var e=this;return(0,l.A)((0,u.A)().mark((function t(){return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return On=e.tab,t.next=3,Wn.post("http://"+p()+"/deleteProduct",{productid:e.producttodelete.productid}).then(function(){var t=(0,l.A)((0,u.A)().mark((function t(n){return(0,u.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.alertHandler(n.data),t.next=3,e.getMenu();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},deleteCategory:function(e){this.categorytodelete=e,this.confirmdialog=!0,this.confirmationtext="Etes-vous sûr de vouloir supprimer la catégorie ".concat(e.categoryname,"? ")},deleteProduct:function(e){this.producttodelete=e,this.deleteproductconfirmdialog=!0,this.confirmationtext="Etes-vous sûr de vouloir supprimer le produit ".concat(e.text,"? ")},editProduct:function(){On=this.tab,this.productdialog=!0}}};const Nn=Object.assign(In,{__name:"App",setup:function(e){var t=(0,s.KR)(""),n=(0,s.KR)(!1),v=(0,s.KR)(!1),k=(0,s.KR)(!1),h=(0,s.KR)(!1),b=(0,s.KR)(!1),g=(0,s.KR)(!1),w=(0,s.KR)(""),y=(0,s.KR)({managercancreatetickets:!0,managercanselectwaiter:!1}),x=(0,s.KR)(""),F=(0,s.KR)(!0),_=(0,s.KR)(!1),C=(0,s.KR)(""),A=(0,s.KR)(""),V=((0,s.KR)(["Réseau","USB"]),(0,s.KR)(!1)),L=(0,s.KR)(""),E=(0,s.KR)(!1),S=(0,s.KR)(!1),O=(0,s.KR)(""),W=(0,s.KR)(""),P=(0,s.KR)(""),N=(0,s.KR)(null),K=(0,s.KR)(!1),z=null,M=(0,s.KR)(null),B=(0,s.KR)("Tout"),J=(0,s.KR)(!1),X={itemsPerPageText:"Utilisateurs par page",itemsPerPageOptions:[5,10,20]},G={itemsPerPageText:"Commmandes par page",itemsPerPageOptions:[10,20,50,100]},q=(0,s.KR)([]),H=(0,s.KR)([]),Q={categoryname:"",categoryid:""},Y=!1,$="",Z=0,ee=(0,s.KR)(!1),te=(0,s.KR)(null),ne=(0,s.KR)("00:00:01"),re=(0,s.KR)(null),ae=(0,s.KR)(""),oe=(0,s.KR)("23:59:59"),ue=(0,s.KR)("dark"),le=(0,s.KR)({posname:"",address:"",phone:"",wificode:""}),ie=(0,s.KR)({USBPRINTING:!0,DEFAULTSITUATIONPRINTER:"USB",ISUSBDEFAULT:!0,HOST:"",PORT:"9100",COPIES:1}),ce=(0,s.KR)(null),se=(0,s.KR)([{title:"bluegrey"},{title:"dark"},{title:"brown"},{title:"teal"}]);function de(e){ue.value=e,localStorage.setItem("theme",ue.value)}function pe(e){var t=e.split("-"),n=(0,o.A)(t,3),r=n[0],a=n[1],u=n[2];return"".concat(u,"-").concat(a,"-").concat(r)}function fe(){var e=new d["default"],t=0;H.value.forEach((function(e){"ANNULE"!=e.status&&(t+=e.totalticket)}));H.value.reduce((function(e,t){return e+t.totalticket}),0);console.log(t);var n=[{title:"Numéro",align:"start",sortable:!0,key:"number"},{title:"Serveur",key:"waiter"},{title:"Initiateur",key:"creator"},{title:"Date et heure",key:"creationdate"},{title:"Etat",key:"status"},{title:"Total",key:"totalticket"}],r=n.map((function(e){return e.title})),a=H.value.map((function(e){return n.map((function(t){return e[t.key]}))})),o=new Date,u=o.getHours(),l=o.getMinutes(),i="".concat(u.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"));e.setFontSize(18),e.text("Etat des opérations",10,20),e.setFontSize(12),e.text("Date de début: "+pe(te.value)+" à "+ne.value,10,30),e.text("Date de fin: "+pe(re.value)+" à "+i,10,40),e.autoTable({head:[r],body:a,startY:50,margin:{left:10,right:10},styles:{fontSize:10},footStyles:{fontStyle:"bold"}});var c=e.internal.pageSize.getWidth(),s=e.autoTable.previous.finalY+10;e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Total: ".concat(t.toFixed(2)),c-50,s),e.save("Etatopérations.pdf")}function me(){var e;return!y.value.managercanselectwaiter||"Gérant"!=(null===(e=M.value)||void 0===e?void 0:e.Role)}function ve(){return ke.apply(this,arguments)}function ke(){return ke=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("printingsettings",JSON.stringify(ie.value)),e.next=4,fetch("http://"+p()+"/saveprintingsettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&Jn(e)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function he(){return ge.apply(this,arguments)}function ge(){return ge=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("managersettings",JSON.stringify(y.value)),e.next=4,fetch("http://"+p()+"/savemanagersettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&Jn(e)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function we(){return ye.apply(this,arguments)}function ye(){return ye=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+p()+"/loadsettings",{method:"post"}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&(le.value=JSON.parse(e.generalsettings),y.value=JSON.parse(e.managersettings),ie.value=JSON.parse(e.printingsettings))}))["catch"]((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function xe(){return _e.apply(this,arguments)}function _e(){return _e=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("generalsettings",JSON.stringify(le.value)),e.next=4,fetch("http://"+p()+"/savegeneralsettings",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(rersp.statusText);return e.json()})).then((function(e){null!=e&&Jn(e)}))["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Ae(){"Gérant"==M.value.Role&&(x.value="");var e=document.getElementById("newticketbutton");e.blur()}var Ve=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)};function Le(e){var t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),o=String(t.getHours()).padStart(2,"0"),u=String(t.getMinutes()).padStart(2,"0"),l=String(t.getSeconds()).padStart(2,"0");return"".concat(n,"/").concat(r,"/").concat(a," ").concat(o,":").concat(u,":").concat(l)}function Ee(){return!!(window.chrome&&window.chrome.webview||window.nadilpos)}(0,i.sV)((0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",console.log(localStorage.getItem("theme")),ue.value=localStorage.getItem("theme")||"dark",Ee()){e.next=7;break}return window.location.href="notauthorised",e.abrupt("return");case 7:return e.next=9,hr();case 9:t=document.querySelector('[aria-label="Please enter OTP character 1"]'),null!=t&&t.focus(),te.value=Ve(),ne.value="00:00:00",re.value=Ve(),B.value="TOUT";case 15:case"end":return e.stop()}}),e)}))));var Re=(0,s.KR)(!1),De=(0,s.KR)("");function Se(){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new FormData,null!=M.value.Username){e.next=3;break}return e.abrupt("return");case 3:return t.append("username",M.value.Username),e.next=6,fetch("http://"+p()+"/changesessionstatus",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then(function(){var e=(0,l.A)((0,u.A)().mark((function e(t){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ir();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){console.error(e)}));case 6:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function We(){return cn.apply(this,arguments)}function cn(){return cn=(0,l.A)((0,u.A)().mark((function e(){var n,r,a,o,l;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(K.value=!K.value,ae.value=[],"Serveur"!=(null===(n=M.value)||void 0===n?void 0:n.Role)){e.next=7;break}return ae.value.push(null===(a=M.value)||void 0===a?void 0:a.Username),t.value=null===(o=M.value)||void 0===o?void 0:o.Username,Wn(null===(l=M.value)||void 0===l?void 0:l.Username),e.abrupt("return");case 7:null===(r=L.value)||void 0===r||r.forEach((function(e){ae.value.push(e.Username)}));case 8:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}function sn(e){if(void 0==e)return"";if("0001-01-01T00:00:00Z"==e||""==e)return"";var t=new Date(e),n=t.toISOString().split("T")[0],r=t.toISOString().split("T")[1].slice(0,5);return n+" "+r}var dn=(0,s.KR)(""),pn=(0,s.KR)({});function Wn(e){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,l.A)((0,u.A)().mark((function e(t){var n,r,a,o,l;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(pn.value={},""!=t){e.next=3;break}return e.abrupt("return");case 3:if(void 0!=(null===(n=lr.get(t))||void 0===n?void 0:n.start)){e.next=5;break}return e.abrupt("return");case 5:return r=new Date(lr.get(t).start),a=r.toISOString().split("T")[0],o=r.toISOString().split("T")[1].slice(0,5),l=new FormData,l.append("start",a+" "+o),l.append("username",t),e.next=13,fetch("http://"+p()+"/getsituation",{method:"post",body:l}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var n,r,a,o,u,l,i,c,s;null!=e&&(dn.value=e,pn.value={username:t,totalpaid:null===(n=dn.value)||void 0===n?void 0:n.totalpaid,countpaid:null===(r=dn.value)||void 0===r?void 0:r.countpaid,totalinpaid:null===(a=dn.value)||void 0===a?void 0:a.totalinpaid,countinpaid:null===(o=dn.value)||void 0===o?void 0:o.countinpaid,totalcanceled:null===(u=dn.value)||void 0===u?void 0:u.totalcanceled,countcanceled:null===(l=dn.value)||void 0===l?void 0:l.countcanceled,total:null===(i=dn.value)||void 0===i?void 0:i.total,sessionstart:null===(c=lr.get(t))||void 0===c?void 0:c.start,sessionend:null===(s=lr.get(t))||void 0===s?void 0:s.end})}))["catch"]((function(e){console.error(e)}));case 13:case"end":return e.stop()}}),e)}))),Pn.apply(this,arguments)}function In(){null!=window.chrome.webview&&window.chrome.webview.postMessage("vkeyboard")}function Nn(){H.value=[],"TOUT"==(null===B||void 0===B?void 0:B.value)?H.value=q.value:q.value.forEach((function(e){e.status==B.value&&H.value.push(e)}))}function Kn(){return zn.apply(this,arguments)}function zn(){return zn=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tr();case 2:V.value=!1,x.value="",te.value=Ve(),ne.value="00:00:00",re.value=Ve(),B.value="TOUT",sessionStorage.clear(),t=document.querySelector('[aria-label="Please enter OTP character 1"]'),null!=t&&t.focus();case 11:case"end":return e.stop()}}),e)}))),zn.apply(this,arguments)}var Mn=(0,s.KR)(!1),jn=(0,s.KR)(""),Bn=(0,s.KR)("");function Jn(e){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,l.A)((0,u.A)().mark((function e(t){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Mn.value=!0,e.t0=t.Prefix,e.next="ERROR"===e.t0||"EMPTY"===e.t0?4:"INSERT"===e.t0||"EDIT"===e.t0||"DELETE"===e.t0||"UPDATE"===e.t0?7:12;break;case 4:return jn.value=t.Message+"  ".concat(t.data),Bn.value="text-center errorclass",e.abrupt("break",12);case 7:return jn.value=t.Message,Bn.value="text-center successclass",e.next=11,Yn();case 11:return e.abrupt("break",12);case 12:setTimeout((function(){Mn.value=!1}),3e3);case 13:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}function Gn(){return qn.apply(this,arguments)}function qn(){return qn=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.nadilpos){e.next=3;break}return window.nadilpos.showMessage("close"),e.abrupt("return");case 3:return null!=window.chrome.webview&&window.chrome.webview.postMessage("close"),e.next=6,Kn();case 6:case"end":return e.stop()}}),e)}))),qn.apply(this,arguments)}function Hn(){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=window.chrome.webview&&window.chrome.webview.postMessage("minimize");case 1:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}function Yn(){return $n.apply(this,arguments)}function $n(){return $n=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return H.value=[],q.value=[],t=new FormData,t.append("startdate",te.value),t.append("enddate",re.value),t.append("starttime",ne.value),t.append("endtime",oe.value),e.next=9,fetch("http://"+p()+"/getOrders",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&(q.value=e,"TOUT"==(null===B||void 0===B?void 0:B.value)?q.value.forEach((function(e){e.creationdate=Le(e.creationdate),H.value.push(e)})):q.value.forEach((function(e){e.status==B.value&&(e.creationdate=Le(e.creationdate),H.value.push(e))})))}))["catch"]((function(e){console.error(e)}));case 9:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Zn(){return er.apply(this,arguments)}function er(){return er=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Yn();case 2:S.value=!S.value;case 3:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(){return nr.apply(this,arguments)}function nr(){return nr=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+p()+"/endsession")["catch"]((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}window.addEventListener("beforeunload",(function(){document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date(0).toUTCString(),";path=/"))}))}));var rr=(0,s.KR)("Commencer"),ar=(0,s.KR)("mdi-play"),or=(0,s.KR)("statusplay"),ur=(0,s.Kh)(new Map),lr=(0,s.Kh)(new Map);function ir(){return cr.apply(this,arguments)}function cr(){return cr=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://"+p()+"/getsessionsstatus",{method:"post"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var t,n;null!=e&&(e.forEach((function(e){var t;if(lr.set(e.username,e),ur.set(e.username,"0001-01-01T00:00:00Z"!=e.end),e.username==(null===(t=M.value)||void 0===t?void 0:t.Username)){var n=new Date(e.start),r=n.toISOString().split("T")[0],a=n.toISOString().split("T")[1].slice(0,5);return te.value=r,ne.value=a,"0001-01-01T00:00:00Z"==e.end?(rr.value="Finir",ar.value="mdi-stop",or.value="statusstop",void(J.value=!0)):(rr.value="Commencer",ar.value="mdi-play",or.value="statusplay",void(J.value=!1))}})),void 0==ur.get(null===(t=M.value)||void 0===t?void 0:t.Username)&&(rr.value="Commencer",ar.value="mdi-play",or.value="statusplay",J.value=!1,ur.set(null===(n=M.value)||void 0===n?void 0:n.Username,!0)))}))["catch"]((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function sr(){return dr.apply(this,arguments)}function dr(){return dr=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:De.value="Commencer"==rr.value?"Voulez-vous continuer et démarrer une nouvelle session?":"Êtes-vous sûr(e) de vouloir arrêter la session en cours?",Re.value=!0;case 2:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e){return fr.apply(this,arguments)}function fr(){return fr=(0,l.A)((0,u.A)().mark((function e(t){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return V.value=!0,M.value=t,e.next=4,we();case 4:return e.next=6,ir();case 6:sessionStorage.setItem("user",JSON.stringify({username:t.Username,role:t.Role})),"Serveur"==t.Role&&(x.value=t.Username);case 8:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function mr(){return"z-index:9998;width:100%; height:100%; position: fixed; background-size: cover;top: 0;left: 0; background-image:url(http://"+p()+"/img/coffeeshop.jpg); opacity:0.5"}function vr(e){return kr.apply(this,arguments)}function kr(){return kr=(0,l.A)((0,u.A)().mark((function e(t){var n;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("user",t),e.next=4,fetch("http://"+p()+"/opensession",{method:"post",body:n}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then(function(){var e=(0,l.A)((0,u.A)().mark((function e(t){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:return e.next=4,ir();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}function hr(){return br.apply(this,arguments)}function br(){return br=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.value=[],A.value=[],ae.value=[],e.next=5,fetch("http://"+p()+"/getusers").then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){var t;L.value=JSON.parse(e),null===(t=L.value)||void 0===t||t.forEach((function(e){ae.value.push(e.Username),C.value.push({Username:e.Username,Role:e.Role,Code:e.Code}),A.value.push(e.Username)}))}))["catch"]((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}document.addEventListener("keydown",(function(e){$+=e.key,Z++,C.value.forEach((function(e){var t;return $.substring(0,Z)===e.Code&&1==V.value&&"Gérant"==(null===(t=M.value)||void 0===t?void 0:t.Role)?("Serveur"==e.Role&&(x.value=e.Username),$="",void(Z=0)):$.substring(0,Z)===e.Code&&0==V.value?(V.value=!0,"Serveur"==e.Role&&(x.value=e.Username),M.value=e,$="",Z=0,sessionStorage.setItem("user",JSON.stringify({username:e.Username,role:e.Role})),void vr(e.Username)):void 0})),"Enter"==e.key&&($="",Z=0),setTimeout((function(){$="",Z=0}),1e3)}),!0);var gr=(0,s.KR)(!1),wr=(0,s.KR)(""),yr=(0,s.KR)(null);function xr(e){wr.value="Continuer pour annuler la commande n° : "+e.number+" ?",yr.value=e,gr.value=!0}function Fr(){return _r.apply(this,arguments)}function _r(){return _r=(0,l.A)((0,u.A)().mark((function e(){var t,n,r;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ANNULE"!=(null===(t=yr.value)||void 0===t?void 0:t.status)){e.next=3;break}return Jn({Prefix:"ERROR",Message:"Ce ticket est annulé.",data:"CANCELED_ORDER"}),e.abrupt("return");case 3:return r=new FormData,r.append("number",null===(n=yr.value)||void 0===n?void 0:n.number),e.next=7,fetch("http://"+p()+"/cancelorder",{method:"post",body:r}).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){null!=e&&Jn(e)}));case 7:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}var Cr=(0,s.KR)(!1),Ar=(0,s.KR)(""),Vr=(0,s.KR)(!1);function Lr(e){Ar.value="Voulez-vous valider le paiement de la commande  N° "+e.number+" ?",Cr.value=!0,Vr.value=e}function Er(){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,l.A)((0,u.A)().mark((function e(){var t,n,r,a,o,l;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ANNULE"!=(null===(t=Vr.value)||void 0===t?void 0:t.status)){e.next=3;break}return Jn({Prefix:"ERROR",Message:"Ce ticket a été annulé.",data:"CANCELED_ORDER"}),e.abrupt("return");case 3:if("PAYE"!=(null===(n=Vr.value)||void 0===n?void 0:n.status)){e.next=6;break}return Jn({Prefix:"ERROR",Message:"Ce ticket est déjà payé.",data:"PAID_ORDER"}),e.abrupt("return");case 6:return l=new FormData,l.append("number",null===(r=Vr.value)||void 0===r?void 0:r.number),l.append("creator",null===(a=Vr.value)||void 0===a?void 0:a.creator),l.append("waiter",null===(o=Vr.value)||void 0===o?void 0:o.waiter),e.next=12,fetch("http://"+p()+"/checkoutorder",{method:"post",body:l}).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){null!=e&&Jn(e)}));case 12:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Ur(e){ee.value=!0,N.value=e}function Tr(e){w.value="Êtes-vous sûr de vouloir supprimer l'utilisateur "+e.Username+"?",P.value=e,g.value=!g.value}function Dr(){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("id",P.value.ID),e.next=4,fetch("http://"+p()+"/deleteuser",{method:"post",body:t}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){Jr(),g.value=!1}))["catch"]((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}function Or(){h.value=!h.value}function Wr(e){h.value=e}function Pr(){b.value=!b.value}function Ir(e){b.value=e}function Nr(){Y=!0,n.value=!n.value}function Kr(e){n.value=e}function zr(){v.value=!v.value}function Mr(e){v.value=e}function jr(){k.value=!k.value}function Br(e){k.value=e}function Jr(){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,l.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,hr();case 2:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Gr(e){Q=e,n.value=!0}function qr(){F.value=!F.value,_.value=!_.value}function Hr(){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,l.A)((0,u.A)().mark((function e(){var t,n,r,a,o;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("0001-01-01T00:00:00Z"!=(null===(t=pn.value)||void 0===t?void 0:t.sessionend)&&""!=(null===(n=pn.value)||void 0===n?void 0:n.sessionend)){e.next=3;break}return Jn({Prefix:"ERROR",Message:"Votre session n'est pas encore finie. Veuillez mettre fin à la session en cours avant d'imprimer.",data:""}),e.abrupt("return");case 3:if(void 0!=(null===(r=pn.value)||void 0===r?void 0:r.username)){e.next=6;break}return Jn({Prefix:"ERROR",Message:"Vous n'avez aucune session.",data:""}),e.abrupt("return");case 6:return o=new FormData,o.append("situation",JSON.stringify(pn.value)),o.append("printer",null===(a=ie.value)||void 0===a?void 0:a.DEFAULTSITUATIONPRINTER),e.next=11,fetch("http://"+p()+"/printsituation",{method:"post",body:o}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){null!=e&&console.log(e)}))["catch"]((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}function Yr(e,t,n,r,a,o){return!r&&(!!n||(0==a.managercancreatetickets&&""==o||(!(!e||t)||void 0)))}return window.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),function(e,o){var u=(0,i.g2)("v-list-item-text"),l=(0,i.g2)("v-number-input");return(0,i.uX)(),(0,i.Wv)(ft.JB,{class:"border rounded no-select"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",wt,[0==V.value?((0,i.uX)(),(0,i.Wv)(pt.L,{key:0,modelValue:e.overlay,"onUpdate:modelValue":o[0]||(o[0]=function(t){return e.overlay=t}),persistent:"",style:(0,c.Tr)(mr())},null,8,["modelValue","style"])):(0,i.Q3)("",!0),0==V.value?((0,i.uX)(),(0,i.Wv)(be,{key:1,class:"centerstuff",onAuthOk:pr})):(0,i.Q3)("",!0)]),(0,i.bF)(Ie.E,{theme:ue.value},{default:(0,i.k6)((function(){return[(0,i.bF)(Ne.z,{elevation:4,density:"compact"},(0,i.eX)({prepend:(0,i.k6)((function(){return[(0,i.bF)(Ke.Z,{onClick:qr})]})),default:(0,i.k6)((function(){return[(0,i.bF)(st.q,null,{activator:(0,i.k6)((function(e){var t=e.props;return[(0,i.bF)(f.D,(0,i.v6)({style:{"font-size":"10px"},color:"primary"},t),{default:(0,i.k6)((function(){return[(0,i.eW)(" Thème ")]})),_:2},1040)]})),default:(0,i.k6)((function(){return[(0,i.bF)(ot.x8,null,{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(se.value,(function(e,t){return(0,i.uX)(),(0,i.Wv)(ut.g,{key:t,style:{cursor:"default"},onClick:function(t){return de(e.title)}},{default:(0,i.k6)((function(){return[(0,i.bF)(lt.U,{style:{"font-size":"12px","font-weight":"bold"}},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.title),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1}),(0,i.bF)(ze.l,null,{default:(0,i.k6)((function(){return[(0,i.eW)("Nadil-POS")]})),_:1})]})),_:2},[V.value?{name:"append",fn:(0,i.k6)((function(){return[(0,i.Lk)("span",{ref:"authuser"},(0,c.v_)(M.value.Username.toUpperCase()),513),(0,i.bF)(f.D,{onClick:o[1]||(o[1]=function(t){Kn(),e.logout()})},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{size:"18px"},{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-logout")]})),_:1})]})),_:1}),(0,i.bF)(f.D,{value:"quit",onClick:o[2]||(o[2]=function(e){return Hn()}),style:{width:"48px"},class:"NOMOBILE"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,null,{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-window-minimize")]})),_:1})]})),_:1}),(0,i.bF)(f.D,{value:"quit",color:"red",onClick:o[3]||(o[3]=function(e){return Gn()}),style:{width:"48px"}},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{size:"24px"},{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-power")]})),_:1})]})),_:1})]})),key:"0"}:void 0]),1024),(0,i.bF)(ct.Y,null,{default:(0,i.k6)((function(){return[(0,i.bF)(et.I,null,{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{class:"menu",style:{float:"left",overflow:"auto","max-height":"80vh",height:"80vh"}},{default:(0,i.k6)((function(){return[(0,i.bF)(vt.h,{modelValue:e.tab,"onUpdate:modelValue":o[6]||(o[6]=function(t){return e.tab=t}),"align-tabs":"end","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","show-arrows":"",color:"deep-purple-accent-4","center-active":""},{default:(0,i.k6)((function(){return[(0,i.Lk)("b",null,[(0,i.bF)(kt.U,{onClick:o[4]||(o[4]=function(e){return(0,s.i9)(On)?On.value=0:On=0}),key:"0",color:"orange"},{default:(0,i.k6)((function(){return[(0,i.eW)(" Favoris ")]})),_:1})]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.categories,(function(t){return(0,i.uX)(),(0,i.CE)("b",{key:t.categoryid},[((0,i.uX)(),(0,i.Wv)(kt.U,{color:"orange",onClick:function(n){(0,s.i9)(Y)?Y.value=!1:Y=!1,e.selectedcategory=t,(0,s.i9)(On)?On.value=e.tab:On=e.tab},key:t.categoryid},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(t.categoryname)+" ",1),e.isadmin?((0,i.uX)(),(0,i.Wv)(at.w,{key:0,icon:"mdi-menu-down",style:{padding:"6px"},size:"x-large"})):(0,i.Q3)("",!0),(0,i.bF)(st.q,{activator:"parent"},{default:(0,i.k6)((function(){return[e.isadmin?((0,i.uX)(),(0,i.Wv)(ot.x8,{key:0},{default:(0,i.k6)((function(){return[(0,i.bF)(ut.g,null,{default:(0,i.k6)((function(){return[(0,i.bF)(lt.U,{onClick:function(n){return e.deleteCategory(t)}},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{icon:"mdi-trash-can",style:{"margin-right":"15px"}}),(0,i.eW)(" Supprimer")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,i.bF)(ut.g,null,{default:(0,i.k6)((function(){return[(0,i.bF)(lt.U,{onClick:function(e){return Gr(t)}},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{icon:"mdi-pencil",style:{"margin-right":"15px"}}),(0,i.eW)("Editer")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)):(0,i.Q3)("",!0)]})),_:2},1024)]})),_:2},1032,["onClick"]))])})),128)),e.isadmin?((0,i.uX)(),(0,i.CE)("b",yt,[(0,i.bF)(kt.U,{onClick:o[5]||(o[5]=function(e){return Nr()})},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{size:"32"},{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-plus")]})),_:1})]})),_:1})])):(0,i.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,i.bF)(ht.l,{modelValue:e.tab,"onUpdate:modelValue":o[7]||(o[7]=function(t){return e.tab=t}),id:"menuwindow"},{default:(0,i.k6)((function(){return[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(24,(function(t){return(0,i.bF)(bt.Y,{key:t,value:t},{default:(0,i.k6)((function(){return[(0,i.bF)(et.I,{fluid:"",style:{"text-align":"center"}},{default:(0,i.k6)((function(){return[(0,i.bF)(tt.L,null,{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.filtredMenu,(function(t){return(0,i.uX)(),(0,i.Wv)(nt.B,{key:t.text,cols:"24",md:"2"},{default:(0,i.k6)((function(){var n;return[(0,i.Lk)("div",xt,[(0,i.bF)(U.J,{disabled:Yr(e.btnvalidatedisabled,e.ticketvalidate,ur.get(null===(n=M.value)||void 0===n?void 0:n.Username),e.isadmin,y.value,x.value),style:{"background-color":"transparent","line-height":"3mm"},onClick:function(n){return e.elementClick(t)},elevation:5,class:"card-element",rounded:"lg"},{default:(0,i.k6)((function(){return[(0,i.bF)(Ce.y,{src:e.getImageURL(t.image),class:"card-element-image",rounded:"lg",cover:""},null,8,["src"]),(0,i.Lk)("label",Ft,(0,c.v_)(t.text),1),(0,i.bF)(st.q,{activator:"parent"},{default:(0,i.k6)((function(){return[e.isadmin?((0,i.uX)(),(0,i.Wv)(ot.x8,{key:0},{default:(0,i.k6)((function(){return[(0,i.bF)(ut.g,null,{default:(0,i.k6)((function(){return[(0,i.bF)(lt.U,{onClick:function(n){return e.deleteProduct(t)},style:{"font-size":"14px"}},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{icon:"mdi-trash-can",style:{"margin-right":"5px","font-size":"14px",color:"orangered"}}),(0,i.eW)(" Supprimer")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,i.bF)(ut.g,null,{default:(0,i.k6)((function(){return[(0,i.bF)(lt.U,{onClick:function(n){e.editelement=t,jr()},style:{"font-size":"14px"}},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{icon:"mdi-pencil",style:{"margin-right":"5px","font-size":"14px",color:"darkgreen"}}),(0,i.eW)("Editer")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)):(0,i.Q3)("",!0)]})),_:2},1024)]})),_:2},1032,["disabled","onClick"])])]})),_:2},1024)})),128)),(0,i.bF)(nt.B,null,{default:(0,i.k6)((function(){return[(0,i.Lk)("div",_t,[e.isadmin&&0!=e.tab?((0,i.uX)(),(0,i.Wv)(U.J,{key:0,onClick:zr,style:{"background-color":"transparent","line-height":"3mm","vertical-align":"center"},elevation:10,class:"card-element",rounded:"lg"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{size:"48",style:{"margin-top":"50px"}},{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-plus")]})),_:1})]})),_:1})):(0,i.Q3)("",!0)])]})),_:1})]})),_:1})]})),_:1})]})),_:2},1032,["value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,i.bF)(rt.h),(0,i.bF)(U.J,{style:{float:"right"},class:"mx-auto ticket",width:"34%"},{default:(0,i.k6)((function(){return[(0,i.bF)(it.w,{style:{"font-weight":"bolder",width:"100%"}},{default:(0,i.k6)((function(){return[(0,i.eW)(" Ticket N° : "+(0,c.v_)(e.ticketnumber),1)]})),_:1}),(0,i.bF)(ot.x8,{style:{"max-height":"40vh","overflow-y":"auto"},id:"listticket"},{default:(0,i.k6)((function(){return[(0,i.bF)(He.G),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.ticket[0].content,(function(t){return(0,i.uX)(),(0,i.Wv)(ut.g,{key:t.ID},{default:(0,i.k6)((function(){return[(0,i.bF)(mt.Y,{disabled:e.btnvalidatedisabled&&!e.ticketvalidate,location:"left center",transition:"fade-transition"},{activator:(0,i.k6)((function(e){var n=e.props;return[(0,i.bF)(Ge.x,(0,i.v6)({ref_for:!0},n,{size:"small",color:"orange",text:t.count}),null,16,["text"])]})),default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{key:"1",icon:"$clear",color:"red",size:"small",onClick:function(n){return e.removeFromTicket(t.id)}},null,8,["onClick"]),(0,i.bF)(f.D,{key:"2",icon:"$plus",color:"green",size:"small",onClick:function(n){return e.increaseCount(t)}},null,8,["onClick"]),(0,i.bF)(f.D,{key:"3",icon:"$minus",color:"orange",size:"small",style:{color:"white !important"},onClick:function(n){return e.reduceCount(t)}},null,8,["onClick"]),(0,i.bF)(f.D,{key:"4",icon:"mdi-dialpad",color:"orange",size:"small",style:{color:"white !important"},onClick:function(n){return e.showPad(t)}},null,8,["onClick"])]})),_:2},1032,["disabled"]),(0,i.bF)(u,{style:{"font-size":"13px"}},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",Ct,(0,c.v_)(t.text),1),(0,i.Lk)("span",At,(0,c.v_)((t.count*parseFloat(t.price)).toFixed(2)),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),(0,i.bF)(He.G),(0,i.Lk)("div",Vt,[Lt,(0,i.Lk)("span",Et,(0,c.v_)(e.ticket[0].totalticket.toFixed(2)),1)]),(0,i.bF)(He.G),(0,i.Lk)("div",Rt,[(0,i.bF)(f.D,{style:{"background-color":"chocolate",float:"left",width:"45%"},onClick:o[8]||(o[8]=function(t){return e.emptyTicket()}),disabled:e.btnvalidatedisabled&&!e.ticketvalidate},{default:(0,i.k6)((function(){return[(0,i.eW)(" vider")]})),_:1},8,["disabled"]),(0,i.bF)(f.D,{style:{"background-color":"cadetblue",float:"right",width:"45%"},onClick:o[9]||(o[9]=function(t){return e.validateTicket(ur)}),disabled:e.btnvalidatedisabled},{default:(0,i.k6)((function(){return[(0,i.eW)(" Valider")]})),_:1},8,["disabled"]),(0,i.bF)(f.D,{onClick:o[10]||(o[10]=function(t){return e.printReceipt()}),style:{"background-color":"darkolivegreen",float:"right",width:"45%","margin-top":"5px"},disabled:e.ticketvalidate},{default:(0,i.k6)((function(){return[(0,i.eW)(" Imprimer")]})),_:1},8,["disabled"]),Ut,(0,i.bF)(f.D,{style:{"background-color":"darkseagreen",float:"bottom",width:"100%","margin-top":"20px"},disabled:!e.btnvalidatedisabled,onClick:o[11]||(o[11]=function(t){e.newTicket(),Ae()}),id:"newticketbutton"},{default:(0,i.k6)((function(){return[(0,i.eW)(" Nouveau ticket")]})),_:1},8,["disabled"])]),(0,i.Lk)("div",Tt,[(0,i.bF)(T.d4,{label:"Serveur",items:A.value,variant:"outlined",ref_key:"waiterbox",ref:ce,disabled:me(),modelValue:x.value,"onUpdate:modelValue":o[12]||(o[12]=function(e){return x.value=e})},null,8,["items","disabled","modelValue"])])]})),_:1})]})),_:1})]})),_:1}),(0,i.bF)(Me.i,null,{default:(0,i.k6)((function(){var t,n;return["Gérant"==(null===(t=M.value)||void 0===t?void 0:t.Role)||"SETUP"==(null===(n=M.value)||void 0===n?void 0:n.Username)?((0,i.uX)(),(0,i.Wv)(f.D,{key:0,value:"Administrer",onClick:o[13]||(o[13]=function(t){return e.showadminlogin(Kn)}),class:"bottomnavbutton"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{ref:"adminicon",class:(0,c.C4)(e.adminclass)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(e.adminloginicon),1)]})),_:1},8,["class"]),Dt]})),_:1})):(0,i.Q3)("",!0),(0,i.bF)(f.D,{value:"session",onClick:o[14]||(o[14]=function(e){return sr()}),class:"bottomnavbutton"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{ref:"session_icon",class:(0,c.C4)(or.value)},{default:(0,i.k6)((function(){return[(0,i.eW)((0,c.v_)(ar.value),1)]})),_:1},8,["class"]),(0,i.Lk)("span",null,(0,c.v_)(rr.value),1)]})),_:1}),(0,i.bF)(f.D,{value:"orderslist",onClick:o[15]||(o[15]=function(e){return Zn()}),class:"bottomnavbutton"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{ref:"orderslist"},{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-format-list-bulleted")]})),_:1},512),St]})),_:1}),(0,i.bF)(f.D,{value:"Situation",onClick:o[16]||(o[16]=function(e){return We()}),class:"bottomnavbutton"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,null,{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-cash")]})),_:1}),Ot]})),_:1}),(0,i.bF)(f.D,{value:"vkeyboard",onClick:o[17]||(o[17]=function(e){return In()}),class:"NOMOBILE"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,null,{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-keyboard")]})),_:1}),Wt]})),_:1}),(0,i.bF)(f.D,{value:"Ticket",onClick:o[18]||(o[18]=function(t){return e.showTicketOnLowResolution()}),class:"showinlowresolution bottomnavbutton"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,null,{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-receipt")]})),_:1}),Pt]})),_:1})]})),_:1}),(0,i.bF)(U.J,null,{default:(0,i.k6)((function(){return[e.isadmin?((0,i.uX)(),(0,i.Wv)(dt.e,{key:0,modelValue:_.value,"onUpdate:modelValue":o[21]||(o[21]=function(e){return _.value=e}),location:e.$vuetify.display.mobile?"bottom":void 0,temporary:""},{default:(0,i.k6)((function(){return[(0,i.bF)(ot.x8,{density:"compact",nav:""},{default:(0,i.k6)((function(){return[e.isadmin?((0,i.uX)(),(0,i.Wv)(ut.g,{key:0,"prepend-icon":"mdi-tune",title:"Paramètres",value:"params",onClick:o[19]||(o[19]=function(t){e.paramsdialog=!0,_.value=!1})})):(0,i.Q3)("",!0),e.isadmin?((0,i.uX)(),(0,i.Wv)(ut.g,{key:1,"prepend-icon":"mdi-account-group-outline",title:"Gestion des utilisateurs",value:"usersmanagement",onClick:o[20]||(o[20]=function(e){return E.value=!E.value})})):(0,i.Q3)("",!0)]})),_:1})]})),_:1},8,["modelValue","location"])):(0,i.Q3)("",!0)]})),_:1}),(0,i.Lk)("div",It,[(0,i.bF)(m.p,{modelValue:e.paramsdialog,"onUpdate:modelValue":o[38]||(o[38]=function(t){return e.paramsdialog=t}),width:"auto",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"max-width":"400","prepend-icon":"mdi-tune",text:"Ici vous pouvez modifier les paramètres de l'application",title:"Pramètres de l'application"},{actions:(0,i.k6)((function(){return[(0,i.bF)(f.D,{class:"ms-auto",text:"Fermer",onClick:o[37]||(o[37]=function(t){return e.paramsdialog=!1})})]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(Qe.$,null,{default:(0,i.k6)((function(){return[(0,i.bF)(Ye.c,null,{default:(0,i.k6)((function(){return[(0,i.bF)($e.w,{"collapse-icon":"mdi-minus","expand-icon":"mdi-plus"},{default:(0,i.k6)((function(){return[(0,i.eW)(" Pramètres généraux ")]})),_:1}),(0,i.bF)(Ze.T,null,{default:(0,i.k6)((function(){return[(0,i.bF)(D.W,{clearable:"",modelValue:le.value.posname,"onUpdate:modelValue":o[22]||(o[22]=function(e){return le.value.posname=e}),label:"Intitulé du point de vent",variant:"solo"},null,8,["modelValue"]),(0,i.bF)(D.W,{clearable:"",modelValue:le.value.address,"onUpdate:modelValue":o[23]||(o[23]=function(e){return le.value.address=e}),label:"Adresse",variant:"solo"},null,8,["modelValue"]),(0,i.bF)(D.W,{clearable:"",label:"Téléphone",modelValue:le.value.phone,"onUpdate:modelValue":o[24]||(o[24]=function(e){return le.value.phone=e}),variant:"solo"},null,8,["modelValue"]),(0,i.bF)(D.W,{clearable:"",label:"Code WIFI",modelValue:le.value.wificode,"onUpdate:modelValue":o[25]||(o[25]=function(e){return le.value.wificode=e}),variant:"solo"},null,8,["modelValue"]),(0,i.bF)(f.D,{text:"Enregister",onClick:o[26]||(o[26]=function(e){return xe()}),style:{color:"darkcyan","margin-left":"65%"}})]})),_:1})]})),_:1}),(0,i.bF)(Ye.c,null,{default:(0,i.k6)((function(){return[(0,i.bF)($e.w,{"collapse-icon":"mdi-minus","expand-icon":"mdi-plus"},{default:(0,i.k6)((function(){return[(0,i.eW)(" Autorisations ")]})),_:1}),(0,i.bF)(Ze.T,null,{default:(0,i.k6)((function(){return[(0,i.bF)(Te.a,{modelValue:y.value.managercancreatetickets,"onUpdate:modelValue":o[27]||(o[27]=function(e){return y.value.managercancreatetickets=e}),label:"Permettre au manager de créer des commandes."},null,8,["modelValue"]),(0,i.bF)(Te.a,{modelValue:y.value.managercanselectwaiter,"onUpdate:modelValue":o[28]||(o[28]=function(e){return y.value.managercanselectwaiter=e}),label:"Permettre au manager de selectionner le serveur manuellement."},null,8,["modelValue"]),(0,i.bF)(f.D,{text:"Enregister",onClick:o[29]||(o[29]=function(e){return he()}),style:{color:"darkcyan","margin-left":"65%"}})]})),_:1})]})),_:1}),(0,i.bF)(Ye.c,null,{default:(0,i.k6)((function(){return[(0,i.bF)($e.w,{"collapse-icon":"mdi-minus","expand-icon":"mdi-plus"},{default:(0,i.k6)((function(){return[(0,i.eW)(" Impression ")]})),_:1}),(0,i.bF)(Ze.T,null,{default:(0,i.k6)((function(){return[(0,i.bF)(Te.a,{modelValue:ie.value.USBPRINTING,"onUpdate:modelValue":o[30]||(o[30]=function(e){return ie.value.USBPRINTING=e}),label:"Utiliser l'impression via cable USB."},null,8,["modelValue"]),(0,i.bF)(Te.a,{modelValue:ie.value.NETWORKPRINTING,"onUpdate:modelValue":o[31]||(o[31]=function(e){return ie.value.NETWORKPRINTING=e}),label:"Activer l'impression réseau."},null,8,["modelValue"]),ie.value.NETWORKPRINTING?((0,i.uX)(),(0,i.CE)("div",Nt,[(0,i.bF)(D.W,{modelValue:ie.value.HOST,"onUpdate:modelValue":o[32]||(o[32]=function(e){return ie.value.HOST=e}),density:"compact",label:"Adresse réseau de l'imprimante","prepend-inner-icon":"mdi-lan-connect",variant:"solo-filled",flat:"","hide-details":"","single-line":"",style:{height:"40px","font-size":"10px",width:"100%"}},null,8,["modelValue"]),(0,i.bF)(D.W,{modelValue:ie.value.PORT,"onUpdate:modelValue":o[33]||(o[33]=function(e){return ie.value.PORT=e}),density:"compact",label:"Adresse réseau de l'imprimante","prepend-inner-icon":"mdi-parking",variant:"solo-filled",flat:"","hide-details":"","single-line":"",style:{height:"40px","font-size":"10px",width:"100%"}},null,8,["modelValue"]),(0,i.bF)(l,{reverse:!1,controlVariant:"stacked",label:"COPIES",min:1,modelValue:ie.value.COPIES,"onUpdate:modelValue":o[34]||(o[34]=function(e){return ie.value.COPIES=e}),hideInput:!1,inset:!1,variant:"solo-filled"},null,8,["modelValue"])])):(0,i.Q3)("",!0),(0,i.bF)(T.d4,{label:"Mode d'impression de la situation",items:["Réseau","USB"],variant:"outlined",modelValue:ie.value.DEFAULTSITUATIONPRINTER,"onUpdate:modelValue":o[35]||(o[35]=function(e){return ie.value.DEFAULTSITUATIONPRINTER=e})},null,8,["modelValue"]),(0,i.bF)(f.D,{text:"Enregister",onClick:o[36]||(o[36]=function(e){return ve()}),style:{color:"darkcyan","margin-left":"65%"}})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",Kt,[(0,i.bF)(je.R,{modelValue:e.sheet,"onUpdate:modelValue":o[45]||(o[45]=function(t){return e.sheet=t}),inset:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{class:"text-left",height:"400"},{default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{size:"x-large",onClick:o[39]||(o[39]=function(t){return e.sheet=!e.sheet})},{default:(0,i.k6)((function(){return[(0,i.eW)("Fermer")]})),_:1}),(0,i.bF)(Be.O,null,{default:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(it.w,{style:{"font-weight":"bolder",width:"100%"}},{default:(0,i.k6)((function(){return[(0,i.eW)(" Ticket N° : "+(0,c.v_)(e.ticketnumber),1)]})),_:1}),(0,i.bF)(ot.x8,{style:{"max-height":"50vh","overflow-y":"auto"},id:"listticket"},{default:(0,i.k6)((function(){return[(0,i.bF)(He.G),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.ticket[0].content,(function(t){return(0,i.uX)(),(0,i.Wv)(ut.g,{key:t.ID},{default:(0,i.k6)((function(){return[(0,i.bF)(mt.Y,{location:"left center",transition:"fade-transition"},{activator:(0,i.k6)((function(e){var n=e.props;return[(0,i.bF)(Ge.x,(0,i.v6)({ref_for:!0},n,{style:{},size:"small",color:"orange",text:t.count}),null,16,["text"])]})),default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{key:"1",icon:"$clear",color:"red",size:"small",onClick:function(n){return e.removeFromTicket(t.id)}},null,8,["onClick"]),(0,i.bF)(f.D,{key:"2",icon:"$plus",color:"green",size:"small",onClick:function(n){return e.increaseCount(t)}},null,8,["onClick"]),(0,i.bF)(f.D,{key:"3",icon:"$minus",color:"orange",size:"small",style:{color:"white !important"},onClick:function(n){return e.reduceCount(t)}},null,8,["onClick"]),(0,i.bF)(f.D,{key:"4",icon:"mdi-dialpad",color:"orange",size:"small",style:{color:"white !important"},onClick:function(n){return e.showPad(t)}},null,8,["onClick"])]})),_:2},1024),(0,i.bF)(u,{style:{"font-size":"11px"}},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",zt,(0,c.v_)(t.text),1),(0,i.Lk)("span",Mt,(0,c.v_)((t.count*parseFloat(t.price)).toFixed(2)),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),(0,i.bF)(He.G),(0,i.Lk)("div",jt,[Bt,(0,i.Lk)("span",Jt,(0,c.v_)(e.ticket[0].totalticket.toFixed(2)),1)]),(0,i.bF)(He.G),(0,i.Lk)("div",Xt,[(0,i.bF)(f.D,{style:{"background-color":"orange",float:"left",width:"45%"},onClick:o[40]||(o[40]=function(t){return e.emptyTicket()}),disabled:e.btnvalidatedisabled&&!e.ticketvalidate},{default:(0,i.k6)((function(){return[(0,i.eW)(" vider")]})),_:1},8,["disabled"]),(0,i.bF)(f.D,{style:{"background-color":"cadetblue",float:"right",width:"45%"},onClick:o[41]||(o[41]=function(t){return e.validateTicket(ur)}),disabled:e.btnvalidatedisabled},{default:(0,i.k6)((function(){return[(0,i.eW)(" Valider")]})),_:1},8,["disabled"]),(0,i.bF)(f.D,{onClick:o[42]||(o[42]=function(t){return e.printReceipt()}),style:{"background-color":"darkolivegreen",float:"right",width:"45%","margin-top":"5px"},disabled:e.ticketvalidate},{default:(0,i.k6)((function(){return[(0,i.eW)(" Imprimer")]})),_:1},8,["disabled"]),Gt,(0,i.bF)(f.D,{style:{"background-color":"darkseagreen",float:"bottom",width:"100%","margin-top":"20px"},disabled:!e.btnvalidatedisabled,onClick:o[43]||(o[43]=function(t){return e.newTicket()})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Nouveau ticket")]})),_:1},8,["disabled"])]),(0,i.Lk)("div",qt,[(0,i.bF)(T.d4,{label:"Serveur",items:A.value,variant:"outlined",ref_key:"waiterbox",ref:ce,modelValue:x.value,"onUpdate:modelValue":o[44]||(o[44]=function(e){return x.value=e}),readonly:""},null,8,["items","modelValue"])])])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,i.bF)(Fe,{modelValue:n.value,"onUpdate:modelValue":[o[46]||(o[46]=function(e){return n.value=e}),Kr],categorytoedit:(0,s.R1)(Q),onAlert:e.alertHandler,categories:e.categories},null,8,["modelValue","categorytoedit","onAlert","categories"]),e.isadmin?((0,i.uX)(),(0,i.Wv)(Ue,{key:0,parentcategory:e.selectedcategory,modelValue:v.value,"onUpdate:modelValue":[o[47]||(o[47]=function(e){return v.value=e}),Mr],onAlert:e.alertHandler},null,8,["parentcategory","modelValue","onAlert"])):(0,i.Q3)("",!0),e.isadmin?((0,i.uX)(),(0,i.Wv)(Pe,{key:1,editproduct:e.editelement,modelValue:k.value,"onUpdate:modelValue":[o[48]||(o[48]=function(e){return k.value=e}),Br],onAlert:e.alertHandler,categories:e.categories},null,8,["editproduct","modelValue","onAlert","categories"])):(0,i.Q3)("",!0),e.isadmin?((0,i.uX)(),(0,i.Wv)(I,{key:2,modelValue:h.value,"onUpdate:modelValue":[o[49]||(o[49]=function(e){return h.value=e}),Wr],onAlert:e.alertHandler,onInform:Jr},null,8,["modelValue","onAlert"])):(0,i.Q3)("",!0),e.isadmin?((0,i.uX)(),(0,i.Wv)(j,{key:3,modelValue:b.value,"onUpdate:modelValue":[o[50]||(o[50]=function(e){return b.value=e}),Ir],onAlert:e.alertHandler,onInform:Jr,usertoedit:(0,s.R1)(z)},null,8,["modelValue","onAlert","usertoedit"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Ht,[(0,i.bF)(je.R,{modelValue:Mn.value,"onUpdate:modelValue":o[52]||(o[52]=function(e){return Mn.value=e}),inset:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{class:(0,c.C4)(Bn.value),id:"alertcard",height:"150",style:{opacity:"0.9"}},{default:(0,i.k6)((function(){return[(0,i.bF)(Be.O,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{variant:"text",onClick:o[51]||(o[51]=function(e){return Mn.value=!Mn.value})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Fermer ")]})),_:1}),(0,i.Lk)("div",null,(0,c.v_)(jn.value),1)]})),_:1})]})),_:1},8,["class"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",Qt,[(0,i.bF)(je.R,{modelValue:e.showalert,"onUpdate:modelValue":o[54]||(o[54]=function(t){return e.showalert=t}),inset:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{class:(0,c.C4)(e.alertcardclass),id:"alertcard",height:"150",style:{opacity:"0.9"}},{default:(0,i.k6)((function(){return[(0,i.bF)(Be.O,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{variant:"text",onClick:o[53]||(o[53]=function(t){return e.showalert=!e.showalert})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Fermer ")]})),_:1}),(0,i.Lk)("div",null,(0,c.v_)(e.alerttext),1)]})),_:1})]})),_:1},8,["class"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",Yt,[(0,i.bF)(m.p,{modelValue:e.confirmdialog,"onUpdate:modelValue":o[57]||(o[57]=function(t){return e.confirmdialog=t}),"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"prepend-icon":"mdi-delete",text:e.confirmationtext,title:"Supression"},{actions:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{onClick:o[55]||(o[55]=function(t){e.confirmDelete(),e.confirmdialog=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" OUI ")]})),_:1}),(0,i.bF)(f.D,{onClick:o[56]||(o[56]=function(t){return e.confirmdialog=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",$t,[(0,i.bF)(m.p,{modelValue:g.value,"onUpdate:modelValue":o[60]||(o[60]=function(e){return g.value=e}),"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"prepend-icon":"mdi-delete",text:w.value,title:"Supression"},{actions:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{onClick:o[58]||(o[58]=function(t){Dr(),e.confirmdialog=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" OUI ")]})),_:1}),(0,i.bF)(f.D,{onClick:o[59]||(o[59]=function(e){return g.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",Zt,[(0,i.bF)(m.p,{modelValue:Cr.value,"onUpdate:modelValue":o[63]||(o[63]=function(e){return Cr.value=e}),"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"prepend-icon":"mdi-marker-check",text:Ar.value,title:"Paiement"},{actions:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{onClick:o[61]||(o[61]=function(e){Er(),Cr.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" OUI ")]})),_:1}),(0,i.bF)(f.D,{onClick:o[62]||(o[62]=function(e){return Cr.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",en,[(0,i.bF)(m.p,{modelValue:gr.value,"onUpdate:modelValue":o[66]||(o[66]=function(e){return gr.value=e}),"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"prepend-icon":"mdi-cancel",text:wr.value,title:"Annulation"},{actions:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{onClick:o[64]||(o[64]=function(e){Fr(),gr.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" OUI ")]})),_:1}),(0,i.bF)(f.D,{onClick:o[65]||(o[65]=function(e){return gr.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",tn,[(0,i.bF)(m.p,{modelValue:Re.value,"onUpdate:modelValue":o[69]||(o[69]=function(e){return Re.value=e}),"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"prepend-icon":"mdi-clock-start",text:De.value,title:"Session"},{actions:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{onClick:o[67]||(o[67]=function(e){Se(),Re.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" OUI ")]})),_:1}),(0,i.bF)(f.D,{onClick:o[68]||(o[68]=function(e){return Re.value=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",nn,[(0,i.bF)(m.p,{modelValue:e.deleteproductconfirmdialog,"onUpdate:modelValue":o[72]||(o[72]=function(t){return e.deleteproductconfirmdialog=t}),"max-width":"400",persistent:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{"prepend-icon":"mdi-delete",text:e.confirmationtext,title:"Supression"},{actions:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{onClick:o[70]||(o[70]=function(t){e.confirmDeleteProduct(),e.deleteproductconfirmdialog=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" OUI ")]})),_:1}),(0,i.bF)(f.D,{onClick:o[71]||(o[71]=function(t){return e.deleteproductconfirmdialog=!1})},{default:(0,i.k6)((function(){return[(0,i.eW)(" NON ")]})),_:1})]})),_:1},8,["text"])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(m.p,{modelValue:e.showpad,"onUpdate:modelValue":o[86]||(o[86]=function(t){return e.showpad=t}),width:"150px",class:"centerstuff"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",rn,(0,c.v_)(e.currentelement.count),1),(0,i.Lk)("div",an,[(0,i.Lk)("button",{onClick:o[73]||(o[73]=function(t){return e.pressButton("1")})},"1"),(0,i.Lk)("button",{onClick:o[74]||(o[74]=function(t){return e.pressButton("2")})},"2"),(0,i.Lk)("button",{onClick:o[75]||(o[75]=function(t){return e.pressButton("3")})},"3"),(0,i.Lk)("button",{onClick:o[76]||(o[76]=function(t){return e.pressButton("4")})},"4"),(0,i.Lk)("button",{onClick:o[77]||(o[77]=function(t){return e.pressButton("5")})},"5"),(0,i.Lk)("button",{onClick:o[78]||(o[78]=function(t){return e.pressButton("6")})},"6"),(0,i.Lk)("button",{onClick:o[79]||(o[79]=function(t){return e.pressButton("7")})},"7"),(0,i.Lk)("button",{onClick:o[80]||(o[80]=function(t){return e.pressButton("8")})},"8"),(0,i.Lk)("button",{onClick:o[81]||(o[81]=function(t){return e.pressButton("9")})},"9"),(0,i.Lk)("button",{class:"control",onClick:o[82]||(o[82]=function(t){return e.clearDisplay()})},"C"),(0,i.Lk)("button",{onClick:o[83]||(o[83]=function(t){return e.pressButton("0")})},"0"),(0,i.Lk)("button",{class:"control",onClick:o[84]||(o[84]=function(t){return e.deleteLast()})},"⌫"),(0,i.Lk)("button",{class:"validate",onClick:o[85]||(o[85]=function(t){return e.validateInput()})},"✔")])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(m.p,{modelValue:e.showadminprompt,"onUpdate:modelValue":o[89]||(o[89]=function(t){return e.showadminprompt=t}),width:"150px",class:"centerstuff"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",on,[(0,i.bo)((0,i.Lk)("input",{ref:"adminpass",type:"password","onUpdate:modelValue":o[87]||(o[87]=function(t){return e.adminpassword=t}),style:{width:"80%",color:"black","text-align":"center","font-size":"20px","border-color":"darkslateblue","background-color":"darkseagreen","border-radius":"10px","border-style":"solid","border-width":"3px"}},null,512),[[r.Jo,e.adminpassword]]),(0,i.bF)(f.D,{style:{"margin-top":"20px","background-color":"darkolivegreen",color:"white"},onClick:o[88]||(o[88]=function(t){return e.adminLogin()})},{default:(0,i.k6)((function(){return[(0,i.eW)("Go")]})),_:1})])]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(je.R,{modelValue:S.value,"onUpdate:modelValue":o[101]||(o[101]=function(e){return S.value=e})},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[(0,i.bF)(R,{order:N.value,settings:le.value,modelValue:ee.value,"onUpdate:modelValue":o[90]||(o[90]=function(e){return ee.value=e}),onClose:o[91]||(o[91]=function(e){return ee.value=!1})},null,8,["order","settings","modelValue"])]),(0,i.bF)(U.J,{class:"text-center",height:"100vh"},{default:(0,i.k6)((function(){return[(0,i.bF)(Be.O,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{variant:"text",onClick:o[92]||(o[92]=function(e){return S.value=!S.value})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Fermer ")]})),_:1}),(0,i.Lk)("div",null,[(0,i.bF)(U.J,{flat:""},{default:(0,i.k6)((function(){return[(0,i.bF)(Je.r,{class:"d-flex"},{default:(0,i.k6)((function(){return[(0,i.bo)((0,i.Lk)("input",{type:"date","onUpdate:modelValue":o[93]||(o[93]=function(e){return te.value=e})},null,512),[[r.Jo,te.value]]),un,(0,i.bo)((0,i.Lk)("input",{type:"time",id:"appt-time",name:"appt-time",step:"600",value:"00:00:01","onUpdate:modelValue":o[94]||(o[94]=function(e){return ne.value=e})},null,512),[[r.Jo,ne.value]]),ln,(0,i.bo)((0,i.Lk)("select",{id:"statusbox",name:"language","onUpdate:modelValue":o[95]||(o[95]=function(e){return B.value=e}),onChange:Nn},fn,544),[[r.u1,B.value]]),(0,i.bF)(rt.h),(0,i.bF)(D.W,{modelValue:W.value,"onUpdate:modelValue":o[96]||(o[96]=function(e){return W.value=e}),density:"compact",label:"Recherche","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":"","max-width":"300",style:{height:"40px"}},null,8,["modelValue"])]})),_:1}),(0,i.bF)(Je.r,{class:"d-flex"},{default:(0,i.k6)((function(){return[(0,i.bo)((0,i.Lk)("input",{type:"date","onUpdate:modelValue":o[97]||(o[97]=function(e){return re.value=e})},null,512),[[r.Jo,re.value]]),mn,(0,i.bo)((0,i.Lk)("input",{type:"time",id:"appt-time",name:"appt-time",step:"600",value:"23:59:59","onUpdate:modelValue":o[98]||(o[98]=function(e){return oe.value=e})},null,512),[[r.Jo,oe.value]]),(0,i.bF)(f.D,{style:{"margin-top":"5px","margin-left":"10px"},onClick:Yn},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,null,{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-refresh")]})),_:1}),(0,i.eW)(" Recharger")]})),_:1}),(0,i.bF)(f.D,{style:{"margin-top":"5px","margin-left":"10px"},onClick:o[99]||(o[99]=function(e){return fe()})},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,null,{default:(0,i.k6)((function(){return[(0,i.eW)("mdi-file-pdf")]})),_:1}),(0,i.eW)(" Exporter")]})),_:1}),(0,i.bF)(rt.h)]})),_:1}),(0,i.bF)(qe.Py,{id:"orderstable",headers:[{title:"Numéro",align:"start",sortable:!0,key:"number"},{title:"Serveur",key:"waiter"},{title:"Initiateur",key:"creator"},{title:"Date et heure",key:"creationdate"},{title:"Etat",key:"status"},{title:"Total",key:"totalticket"},{title:"Actions",key:"actions"}],search:W.value,"onUpdate:search":o[100]||(o[100]=function(e){return W.value=e}),"filter-keys":["waiter","creator","status","number"],items:H.value,style:{"text-align":"left"},itemsPerPageText:G.itemsPerPageText,itemsPerPageOptions:G.itemsPerPageOptions},(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"item.status",(0,i.k6)((function(e){var t=e.item;return[(0,i.Lk)("p",{class:(0,c.C4)(t.status)},(0,c.v_)(t.status),3)]}))),"item.totalticket",(0,i.k6)((function(e){var t=e.item;return[(0,i.Lk)("p",null,(0,c.v_)(t.totalticket.toFixed(2)),1)]}))),"item.actions",(0,i.k6)((function(e){var t,n=e.item;return[(0,i.bF)(at.w,{class:"me-2",size:"large",onClick:function(e){return Lr(n)}},{default:(0,i.k6)((function(){return[(0,i.eW)(" mdi-cash-check ")]})),_:2},1032,["onClick"]),(0,i.bF)(at.w,{size:"large",style:{"margin-left":"5px"},onClick:function(e){return Ur(n)}},{default:(0,i.k6)((function(){return[(0,i.eW)(" mdi-eye ")]})),_:2},1032,["onClick"]),"Gérant"==(null===(t=M.value)||void 0===t?void 0:t.Role)?((0,i.uX)(),(0,i.Wv)(at.w,{key:0,size:"large",style:{"margin-left":"5px"},onClick:function(e){return xr(n)}},{default:(0,i.k6)((function(){return[(0,i.eW)(" mdi-cancel ")]})),_:2},1032,["onClick"])):(0,i.Q3)("",!0)]}))),"_",2),1032,["search","items","itemsPerPageText","itemsPerPageOptions"])]})),_:1})])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(je.R,{modelValue:K.value,"onUpdate:modelValue":o[105]||(o[105]=function(e){return K.value=e}),inset:"",class:"situation"},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{class:"text-center",height:"55vh"},{default:(0,i.k6)((function(){return[(0,i.bF)(Be.O,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{variant:"text",onClick:o[102]||(o[102]=function(e){return K.value=!K.value})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Fermer ")]})),_:1}),(0,i.bF)(U.J,{flat:""},{default:(0,i.k6)((function(){var e,n,r,a,u,l,s,d,p,m,v,k,h,b,g,w;return[(0,i.bF)(Je.r,{class:"d-flex align-center pe-2"},{default:(0,i.k6)((function(){return[(0,i.eW)(" Situation des commandes "),(0,i.bF)(rt.h)]})),_:1}),(0,i.bF)(He.G),(0,i.bF)(rt.h),(0,i.bF)(T.d4,{label:"Utilisateur",items:ae.value,variant:"outlined","onUpdate:modelValue":[Wn,o[103]||(o[103]=function(e){return t.value=e})],modelValue:t.value},null,8,["items","modelValue"]),(0,i.Lk)("div",vn,[(0,i.Lk)("table",kn,[(0,i.Lk)("tr",null,[hn,(0,i.Lk)("td",bn,(0,c.v_)(sn(null===(e=lr.get(t.value))||void 0===e?void 0:e.start)),1)]),(0,i.Lk)("tr",null,[gn,(0,i.Lk)("td",wn,(0,c.v_)(sn(null===(n=lr.get(t.value))||void 0===n?void 0:n.end)),1)]),(0,i.Lk)("tr",null,[yn,(0,i.Lk)("td",xn,(0,c.v_)(""!=sn(null===(r=lr.get(t.value))||void 0===r?void 0:r.start)?null===(a=dn.value)||void 0===a||null===(a=a.totalpaid)||void 0===a?void 0:a.toFixed(2):"0.00"),1)]),(0,i.Lk)("tr",null,[Fn,(0,i.Lk)("td",_n,(0,c.v_)(""!=sn(null===(u=lr.get(t.value))||void 0===u?void 0:u.start)?null===(l=dn.value)||void 0===l?void 0:l.countpaid:"0.00"),1)]),(0,i.Lk)("tr",null,[Cn,(0,i.Lk)("td",An,(0,c.v_)(""!=sn(null===(s=lr.get(t.value))||void 0===s?void 0:s.start)?null===(d=dn.value)||void 0===d||null===(d=d.totalinpaid)||void 0===d?void 0:d.toFixed(2):"0.00"),1)]),(0,i.Lk)("tr",null,[Vn,(0,i.Lk)("td",Ln,(0,c.v_)(""!=sn(null===(p=lr.get(t.value))||void 0===p?void 0:p.start)?null===(m=dn.value)||void 0===m?void 0:m.countinpaid:"0.00"),1)]),(0,i.Lk)("tr",null,[En,(0,i.Lk)("td",Rn,(0,c.v_)(""!=sn(null===(v=lr.get(t.value))||void 0===v?void 0:v.start)?null===(k=dn.value)||void 0===k||null===(k=k.totalcanceled)||void 0===k?void 0:k.toFixed(2):"0.00"),1)]),(0,i.Lk)("tr",null,[Un,(0,i.Lk)("td",Tn,(0,c.v_)(""!=sn(null===(h=lr.get(t.value))||void 0===h?void 0:h.start)?null===(b=dn.value)||void 0===b?void 0:b.countcanceled:"0.00"),1)]),(0,i.Lk)("tr",null,[Dn,(0,i.Lk)("td",Sn,(0,c.v_)(""!=sn(null===(g=lr.get(t.value))||void 0===g?void 0:g.start)?null===(w=dn.value)||void 0===w||null===(w=w.total)||void 0===w?void 0:w.toFixed(2):"0.00"),1)])]),(0,i.bF)(f.D,{color:"orange",style:{float:"right","margin-top":"10px"},onClick:o[104]||(o[104]=function(e){return Hr()})},{default:(0,i.k6)((function(){return[(0,i.eW)("Imprimer")]})),_:1})])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,i.Lk)("div",null,[(0,i.bF)(je.R,{modelValue:E.value,"onUpdate:modelValue":o[111]||(o[111]=function(e){return E.value=e}),inset:""},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,{class:"text-center",height:"70vh"},{default:(0,i.k6)((function(){return[(0,i.bF)(Be.O,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f.D,{variant:"text",onClick:o[106]||(o[106]=function(e){return E.value=!E.value})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Fermer ")]})),_:1}),(0,i.bF)(f.D,{ariant:"text",onClick:o[107]||(o[107]=function(e){return Or()})},{default:(0,i.k6)((function(){return[(0,i.eW)(" Nouveau ")]})),_:1}),(0,i.Lk)("div",null,[(0,i.bF)(U.J,{flat:""},{default:(0,i.k6)((function(){return[(0,i.bF)(Je.r,{class:"d-flex align-center pe-2"},{default:(0,i.k6)((function(){return[(0,i.bF)(at.w,{icon:"mdi-account-group-outline"}),(0,i.eW)("   Liste des utilisateurs "),(0,i.bF)(rt.h),(0,i.bF)(D.W,{modelValue:O.value,"onUpdate:modelValue":o[108]||(o[108]=function(e){return O.value=e}),density:"compact",label:"Recherche","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]})),_:1}),(0,i.bF)(He.G),(0,i.bF)(rt.h),(0,i.bF)(qe.Py,{headers:[{title:"Nom d'utilisateur",align:"start",sortable:!0,key:"Username"},{title:"Rôle",key:"Role"},{title:"Actions",key:"actions"}],search:O.value,"onUpdate:search":o[110]||(o[110]=function(e){return O.value=e}),"filter-keys":["Username","Role"],items:L.value,style:{"text-align":"left"},itemsPerPageText:X.itemsPerPageText,itemsPerPageOptions:X.itemsPerPageOptions},(0,a.A)((0,a.A)((0,a.A)({},"item.actions",(0,i.k6)((function(e){var t=e.item;return[(0,i.bF)(at.w,{class:"me-2",size:"small",onClick:function(e){(0,s.i9)(z)?z.value=t:z=t,Pr()}},{default:(0,i.k6)((function(){return[(0,i.eW)(" mdi-pencil ")]})),_:2},1032,["onClick"]),(0,i.bF)(at.w,{size:"small",onClick:function(e){return Tr(t)}},{default:(0,i.k6)((function(){return[(0,i.eW)(" mdi-delete ")]})),_:2},1032,["onClick"])]}))),"top",(0,i.k6)((function(){return[(0,i.bF)(gt.u,{flat:"",dense:""},{default:(0,i.k6)((function(){return[(0,i.bF)(m.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":o[109]||(o[109]=function(t){return e.dialogDelete=t}),"max-width":"500px"},{default:(0,i.k6)((function(){return[(0,i.bF)(U.J,null,{default:(0,i.k6)((function(){return[(0,i.bF)(Je.r,{class:"text-h5"},{default:(0,i.k6)((function(){return[(0,i.eW)("Êtes-vous sûr de vouloir supprimer l'élément?")]})),_:1}),(0,i.bF)(Xe.S,null,{default:(0,i.k6)((function(){return[(0,i.bF)(rt.h),(0,i.bF)(f.D,{color:"blue-darken-1",variant:"text",onClick:e.closeDelete},{default:(0,i.k6)((function(){return[(0,i.eW)("Cancel")]})),_:1},8,["onClick"]),(0,i.bF)(f.D,{color:"blue-darken-1",variant:"text",onClick:e.deleteItemConfirm},{default:(0,i.k6)((function(){return[(0,i.eW)("OK")]})),_:1},8,["onClick"]),(0,i.bF)(rt.h)]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]}))),"_",2),1032,["search","items","itemsPerPageText","itemsPerPageOptions"])]})),_:1})])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])]})),_:1},8,["theme"])]})),_:1})}}}),Kn=Nn,zn=Kn;n(35524);var Mn=n(35790),jn=n(40712);const Bn=(0,Mn.$N)({components:{VNumberInput:jn.w},theme:{defaultTheme:localStorage.getItem("theme")||"dark",themes:{bluegrey:{colors:{primary:"#4CAF93",secondary:"#FFB74D",accent:"#82B1FF",background:"#5d6d7e",surface:"#34495e",error:"#E57373",success:"#81C784",warning:"#FFD54F",info:"#64B5F6",textPrimary:"#212121",textSecondary:"#757575"},variables:{borderRadius:"12px",customShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"}},brown:{colors:{primary:"#3E2723",secondary:"#FFB74D",accent:"#82B1FF",background:"#8D6E63",surface:"#A1887F",error:"#F44336",success:"#66BB6A",warning:"#FFC107",info:"#29B6F6",textPrimary:"#212121",textSecondary:"#757575"},variables:{borderRadius:"10px",customShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"}},teal:{colors:{primary:"#004D40",secondary:"#FFB74D",accent:"#82B1FF",background:"#26A69A",surface:"#80CBC4",error:"#F44336",success:"#66BB6A",warning:"#FFC107",info:"#29B6F6",textPrimary:"#212121",textSecondary:"#757575"},variables:{borderRadius:"10px",customShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"}}}}});function Jn(){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,l.A)((0,u.A)().mark((function e(){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(n,48874,23));case 2:t=e.sent,t.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}});case 4:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}Jn();var Gn=(0,r.Ef)(zn).use(Bn);Gn.config.warnHandler=function(){return null},history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)},Gn.mount("#app")},32170:(e,t,n)=>{e.exports=n.p+"media/mixkit-modern-technology-select-3124.c6f5688f.wav"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,o)=>{if(!r){var u=1/0;for(s=0;s<e.length;s++){for(var[r,a,o]=e[s],l=!0,i=0;i<r.length;i++)(!1&o||u>=o)&&Object.keys(n.O).every((e=>n.O[e](r[i])))?r.splice(i--,1):(l=!1,o<u&&(u=o));if(l){e.splice(s--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,a,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var u={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>u[e]=()=>r[e]));return u["default"]=()=>r,n.d(o,u),o}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{125:"4efc72e0",179:"92d99423",870:"b243c8d1"}[e]+".js"})(),(()=>{n.miniCssF=e=>{}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="nadil-pos:";n.l=(r,a,o,u)=>{if(e[r])e[r].push(a);else{var l,i;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var d=c[s];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[a];var p=(t,n)=>{l.onerror=l.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),i&&document.head.appendChild(l)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{var e={524:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=o);var u=n.p+n.u(t),l=new Error,i=r=>{if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+u+")",l.name="ChunkLoadError",l.type=o,l.request=u,a[1](l)}};n.l(u,i,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[u,l,i]=r,c=0;if(u.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(i)var s=i(n)}for(t&&t(r);c<u.length;c++)o=u[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(s)},r=self["webpackChunknadil_pos"]=self["webpackChunknadil_pos"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(69519)));r=n.O(r)})();
//# sourceMappingURL=app.1ed7576a.js.map